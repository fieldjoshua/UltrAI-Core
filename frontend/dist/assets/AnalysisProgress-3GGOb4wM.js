import{r as o,j as i,k as I,m as U}from"./index-BbTdWOkr.js";import{c as ne}from"./utils-CytzSlOG.js";import{c as z}from"./createLucideIcon-31iiauxZ.js";import{C as re,a as oe}from"./circle-check-big-BaAKf7rf.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ie=o.forwardRef(({className:e="",...t},n)=>i.jsx("div",{ref:n,className:`rounded-lg border border-gray-200 bg-white shadow-sm ${e}`,...t}));ie.displayName="Card";const ae=o.forwardRef(({className:e="",...t},n)=>i.jsx("div",{ref:n,className:`flex flex-col space-y-1.5 p-6 ${e}`,...t}));ae.displayName="CardHeader";const le=o.forwardRef(({className:e="",...t},n)=>i.jsx("h3",{ref:n,className:`text-lg font-semibold leading-none tracking-tight ${e}`,...t}));le.displayName="CardTitle";const ue=o.forwardRef(({className:e="",...t},n)=>i.jsx("p",{ref:n,className:`text-sm text-gray-500 ${e}`,...t}));ue.displayName="CardDescription";const de=o.forwardRef(({className:e="",...t},n)=>i.jsx("div",{ref:n,className:`p-6 pt-0 ${e}`,...t}));de.displayName="CardContent";const fe=o.forwardRef(({className:e="",...t},n)=>i.jsx("div",{ref:n,className:`flex items-center p-6 pt-0 ${e}`,...t}));fe.displayName="CardFooter";function j(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function L(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function B(...e){return t=>{let n=!1;const r=e.map(s=>{const c=L(s,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let s=0;s<r.length;s++){const c=r[s];typeof c=="function"?c():L(e[s],null)}}}}function M(...e){return o.useCallback(B(...e),e)}function W(e,t=[]){let n=[];function r(c,a){const l=o.createContext(a),f=n.length;n=[...n,a];const u=p=>{var h;const{scope:x,children:v,...b}=p,g=((h=x==null?void 0:x[e])==null?void 0:h[f])||l,m=o.useMemo(()=>b,Object.values(b));return i.jsx(g.Provider,{value:m,children:v})};u.displayName=c+"Provider";function d(p,x){var g;const v=((g=x==null?void 0:x[e])==null?void 0:g[f])||l,b=o.useContext(v);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[u,d]}const s=()=>{const c=n.map(a=>o.createContext(a));return function(l){const f=(l==null?void 0:l[e])||c;return o.useMemo(()=>({[`__scope${e}`]:{...l,[e]:f}}),[l,f])}};return s.scopeName=e,[r,me(s,...t)]}function me(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const a=r.reduce((l,{useScope:f,scopeName:u})=>{const p=f(c)[`__scope${u}`];return{...l,...p}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function D(e){const t=pe(e),n=o.forwardRef((r,s)=>{const{children:c,...a}=r,l=o.Children.toArray(c),f=l.find(xe);if(f){const u=f.props.children,d=l.map(p=>p===f?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:p);return i.jsx(t,{...a,ref:s,children:o.isValidElement(u)?o.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:c})});return n.displayName=`${e}.Slot`,n}function pe(e){const t=o.forwardRef((n,r)=>{const{children:s,...c}=n;if(o.isValidElement(s)){const a=he(s),l=ve(c,s.props);return s.type!==o.Fragment&&(l.ref=r?B(r,a):a),o.cloneElement(s,l)}return o.Children.count(s)>1?o.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ge=Symbol("radix.slottable");function xe(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ge}function ve(e,t){const n={...t};for(const r in t){const s=e[r],c=t[r];/^on[A-Z]/.test(r)?s&&c?n[r]=(...l)=>{const f=c(...l);return s(...l),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...c}:r==="className"&&(n[r]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function he(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],G=ye.reduce((e,t)=>{const n=D(`Primitive.${t}`),r=o.forwardRef((s,c)=>{const{asChild:a,...l}=s,f=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...l,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function be(e){const t=e+"CollectionProvider",[n,r]=W(t),[s,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:m,children:h}=g,w=I.useRef(null),y=I.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:y,collectionRef:w,children:h})};a.displayName=t;const l=e+"CollectionSlot",f=D(l),u=I.forwardRef((g,m)=>{const{scope:h,children:w}=g,y=c(l,h),N=M(m,y.collectionRef);return i.jsx(f,{ref:N,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",p="data-radix-collection-item",x=D(d),v=I.forwardRef((g,m)=>{const{scope:h,children:w,...y}=g,N=I.useRef(null),S=M(m,N),E=c(d,h);return I.useEffect(()=>(E.itemMap.set(N,{ref:N,...y}),()=>void E.itemMap.delete(N))),i.jsx(x,{[p]:"",ref:S,children:w})});v.displayName=d;function b(g){const m=c(e+"CollectionConsumer",g);return I.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((E,T)=>y.indexOf(E.ref.current)-y.indexOf(T.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:v},b,r]}var F=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},Ne=U[" useId ".trim().toString()]||(()=>{}),Ce=0;function we(e){const[t,n]=o.useState(Ne());return F(()=>{n(r=>r??String(Ce++))},[e]),e||(t?`radix-${t}`:"")}function Re(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Ie=U[" useInsertionEffect ".trim().toString()]||F;function Se({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,c,a]=Ee({defaultProp:t,onChange:n}),l=e!==void 0,f=l?e:s;{const d=o.useRef(e!==void 0);o.useEffect(()=>{const p=d.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=o.useCallback(d=>{var p;if(l){const x=je(d)?d(e):d;x!==e&&((p=a.current)==null||p.call(a,x))}else c(d)},[l,e,c,a]);return[f,u]}function Ee({defaultProp:e,onChange:t}){const[n,r]=o.useState(e),s=o.useRef(n),c=o.useRef(t);return Ie(()=>{c.current=t},[t]),o.useEffect(()=>{var a;s.current!==n&&((a=c.current)==null||a.call(c,n),s.current=n)},[n,s]),[n,r,c]}function je(e){return typeof e=="function"}var Ae=o.createContext(void 0);function Te(e){const t=o.useContext(Ae);return e||t||"ltr"}var _="rovingFocusGroup.onEntryFocus",Pe={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[$,V,Me]=be(A),[Fe,Ze]=W(A,[Me]),[Oe,_e]=Fe(A),K=o.forwardRef((e,t)=>i.jsx($.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx($.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(De,{...e,ref:t})})}));K.displayName=A;var De=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=e,x=o.useRef(null),v=M(t,x),b=Te(c),[g,m]=Se({prop:a,defaultProp:l??null,onChange:f,caller:A}),[h,w]=o.useState(!1),y=Re(u),N=V(n),S=o.useRef(!1),[E,T]=o.useState(0);return o.useEffect(()=>{const C=x.current;if(C)return C.addEventListener(_,y),()=>C.removeEventListener(_,y)},[y]),i.jsx(Oe,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:g,onItemFocus:o.useCallback(C=>m(C),[m]),onItemShiftTab:o.useCallback(()=>w(!0),[]),onFocusableItemAdd:o.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:o.useCallback(()=>T(C=>C-1),[]),children:i.jsx(G.div,{tabIndex:h||E===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:j(e.onMouseDown,()=>{S.current=!0}),onFocus:j(e.onFocus,C=>{const J=!S.current;if(C.target===C.currentTarget&&J&&!h){const k=new CustomEvent(_,Pe);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=N().filter(R=>R.focusable),Q=O.find(R=>R.active),ee=O.find(R=>R.id===g),te=[Q,ee,...O].filter(Boolean).map(R=>R.ref.current);q(te,d)}}S.current=!1}),onBlur:j(e.onBlur,()=>w(!1))})})}),X="RovingFocusGroupItem",Y=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:c,children:a,...l}=e,f=we(),u=c||f,d=_e(X,n),p=d.currentTabStopId===u,x=V(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:g}=d;return o.useEffect(()=>{if(r)return v(),()=>b()},[r,v,b]),i.jsx($.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(G.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:j(e.onMouseDown,m=>{r?d.onItemFocus(u):m.preventDefault()}),onFocus:j(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:j(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const h=Le(m,d.orientation,d.dir);if(h!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=x().filter(N=>N.focusable).map(N=>N.ref.current);if(h==="last")y.reverse();else if(h==="prev"||h==="next"){h==="prev"&&y.reverse();const N=y.indexOf(m.currentTarget);y=d.loop?Ue(y,N+1):y.slice(N+1)}setTimeout(()=>q(y))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:g!=null}):a})})});Y.displayName=X;var $e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ke(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Le(e,t,n){const r=ke(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $e[r]}function q(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ue(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Je=K,Qe=Y;function ze(e,t){return o.useReducer((n,r)=>t[n][r]??n,e)}var Be=e=>{const{present:t,children:n}=e,r=We(t),s=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),c=M(r.ref,Ge(s));return typeof n=="function"||r.isPresent?o.cloneElement(s,{ref:c}):null};Be.displayName="Presence";function We(e){const[t,n]=o.useState(),r=o.useRef(null),s=o.useRef(e),c=o.useRef("none"),a=e?"mounted":"unmounted",[l,f]=ze(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const u=P(r.current);c.current=l==="mounted"?u:"none"},[l]),F(()=>{const u=r.current,d=s.current;if(d!==e){const x=c.current,v=P(u);e?f("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(d&&x!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),F(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,p=v=>{const g=P(r.current).includes(v.animationName);if(v.target===t&&g&&(f("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},x=v=>{v.target===t&&(c.current=P(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:o.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function P(e){return(e==null?void 0:e.animationName)||"none"}function Ge(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ve=o.forwardRef(({className:e="",children:t,...n},r)=>i.jsx("label",{ref:r,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e}`,...n,children:t}));Ve.displayName="Label";const H=o.forwardRef(({className:e="",value:t=0,max:n=100,...r},s)=>{const c=t.toString(),a=n.toString();return i.jsx("div",{ref:s,role:"progressbar","aria-valuemin":"0","aria-valuemax":a,"aria-valuenow":c,className:`relative h-2 w-full overflow-hidden rounded-full bg-gray-100 ${e}`,...r,children:i.jsx("div",{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:`translateX(-${100-t/n*100}%)`}})})});H.displayName="Progress";const Z=o.forwardRef(({className:e,variant:t="default",size:n="default",isLoading:r=!1,disabled:s,children:c,...a},l)=>{const f="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={default:"bg-gray-900 text-white hover:bg-gray-800",primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",ghost:"bg-transparent hover:bg-gray-100",link:"bg-transparent underline-offset-4 hover:underline text-blue-600"},d={default:"h-10 py-2 px-4",sm:"h-8 px-3 text-sm",lg:"h-12 px-6 text-lg",icon:"h-10 w-10"},p=u[t]||u.default,x=d[n]||d.default;return i.jsxs("button",{ref:l,className:ne(f,p,x,e),disabled:s||r,...a,children:[r?i.jsx("span",{className:"mr-2",children:i.jsxs("svg",{className:"animate-spin h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null,c]})});Z.displayName="Button";const et=({status:e,currentStep:t=0,totalSteps:n=1,estimatedTimeRemaining:r,statusMessage:s,error:c,onCancel:a})=>{const[l,f]=o.useState(0),[u,d]=o.useState(0),[p]=o.useState(Date.now());o.useEffect(()=>{if(e==="idle")f(0);else if(e==="complete")f(100);else if(e!=="error"){const g=n>0?t/n*100:0;f(Math.min(Math.max(g,0),99))}},[e,t,n]),o.useEffect(()=>{let g;return(e==="preparing"||e==="analyzing")&&(g=setInterval(()=>{d(Math.floor((Date.now()-p)/1e3))},1e3)),()=>{g&&clearInterval(g)}},[e,p]);const x=g=>{if(g<60)return`${g}s`;const m=Math.floor(g/60),h=g%60;return`${m}m ${h}s`},v=()=>{switch(e){case"idle":return i.jsx(se,{className:"h-5 w-5 text-gray-500"});case"preparing":case"analyzing":return i.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});case"complete":return i.jsx(oe,{className:"h-5 w-5 text-green-500"});case"error":return i.jsx(re,{className:"h-5 w-5 text-red-500"});default:return null}},b=()=>{if(s)return s;switch(e){case"idle":return"Waiting to start analysis...";case"preparing":return"Preparing analysis...";case"analyzing":return t&&n?`Analyzing (Step ${t} of ${n})...`:"Analyzing...";case"complete":return"Analysis complete";case"error":return(c==null?void 0:c.message)||"An error occurred during analysis";default:return""}};return i.jsxs("div",{className:`rounded-lg p-4 ${e==="error"?"bg-red-50":e==="complete"?"bg-green-50":"bg-blue-50"}`,children:[i.jsxs("div",{className:"flex items-center mb-3",children:[v(),i.jsx("span",{className:`ml-2 font-medium ${e==="error"?"text-red-700":e==="complete"?"text-green-700":"text-blue-700"}`,children:b()})]}),i.jsx(H,{value:l,className:`h-2 ${e==="error"?"bg-red-100":e==="complete"?"bg-green-100":"bg-blue-100"}`}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsx("div",{className:"text-gray-600",children:e==="preparing"||e==="analyzing"?i.jsxs(i.Fragment,{children:["Elapsed time: ",x(u)]}):e==="complete"?i.jsxs(i.Fragment,{children:["Total time: ",x(u)]}):null}),i.jsx("div",{className:"text-gray-600",children:r!==void 0&&e!=="complete"&&e!=="error"&&i.jsxs(i.Fragment,{children:["Est. remaining: ",x(r)]})})]}),n>1&&e!=="idle"&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs text-gray-600",children:[t," of ",n," steps"]})]}),i.jsx("div",{className:"flex space-x-1",children:Array.from({length:n}).map((g,m)=>i.jsx("div",{className:`h-1.5 rounded-full flex-1 ${m<t?"bg-blue-500":m===t&&(e==="preparing"||e==="analyzing")?"bg-blue-300":"bg-gray-200"}`},m))})]}),e==="error"&&c&&i.jsx("div",{className:"mt-3 p-2 bg-red-100 rounded text-sm text-red-800",children:c.message}),(e==="preparing"||e==="analyzing")&&a&&i.jsx("div",{className:"mt-3 flex justify-end",children:i.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-500 hover:text-gray-700",children:[i.jsx(ce,{className:"h-4 w-4 mr-1"}),"Cancel"]})})]})};export{et as A,Z as B,ie as C,Qe as I,Ve as L,G as P,Je as R,Te as a,Se as b,Ze as c,W as d,M as e,j as f,Be as g,we as h,F as u};
