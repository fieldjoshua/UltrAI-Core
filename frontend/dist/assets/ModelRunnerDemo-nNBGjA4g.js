import{r as t,j as e,O as g}from"./index-CenMVH1c.js";const f="https://ultrai-core.onrender.com/api",w=()=>{const[d,j]=t.useState([]),[i,p]=t.useState(""),[a,N]=t.useState(""),[u,h]=t.useState(""),[l,n]=t.useState(!1),[x,c]=t.useState(null);t.useEffect(()=>{(async()=>{try{n(!0);const r=await g.get(`${f}/api/modelrunner/models`);j(r.data.models||[]),r.data.models&&r.data.models.length>0&&p(r.data.models[0])}catch(r){console.error("Error fetching models:",r),c("Failed to fetch models. Make sure Docker Model Runner is running.")}finally{n(!1)}})()},[]);const v=async s=>{var r,b;if(s.preventDefault(),!!a)try{n(!0),h(""),c(null);const o=(await g.post(`${f}/api/modelrunner/generate`,{prompt:a,model:i})).data.response;h(typeof o=="string"?o:typeof o=="object"&&o!==null?JSON.stringify(o,null,2):String(o||"No response received"))}catch(m){console.error("Error generating response:",m),c(((b=(r=m.response)==null?void 0:r.data)==null?void 0:b.detail)||"Failed to generate response")}finally{n(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Docker Model Runner Demo"}),x&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:e.jsx("p",{children:x})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Models"}),l&&d.length===0?e.jsx("p",{children:"Loading models..."}):d.length>0?e.jsx("div",{className:"mb-4",children:e.jsx("select",{className:"w-full p-2 border rounded",value:i,onChange:s=>p(s.target.value),children:d.map(s=>e.jsx("option",{value:s,children:s},s))})}):e.jsx("p",{children:"No models available. Please make sure Docker Model Runner is running."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generate Response"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prompt"}),e.jsx("textarea",{className:"w-full p-2 border rounded",rows:4,value:a,onChange:s=>N(s.target.value),placeholder:"Enter your prompt here...",disabled:l})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:l||!i||!a,children:l?"Generating...":"Generate"})]}),u&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Response"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded border whitespace-pre-wrap",children:u})]})]})]})};export{w as default};
//# sourceMappingURL=ModelRunnerDemo-nNBGjA4g.js.map
