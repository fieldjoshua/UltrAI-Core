{"version":3,"mappings":"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","names":["m","require$$0","client","viteEnv","_b","_a","envApiMode","envDefaultSkin","envRagEnabled","config","TOKEN_KEY","REFRESH_TOKEN_KEY","isSecureContext","setSecureToken","token","getSecureToken","getSecureRefreshToken","clearSecureTokens","viteEnvApi","API_URL","API_CONFIG","apiClient","axios","appConfig","latencyMs","cfg","response","error","url","delay","resolve","PUBLIC_ENDPOINTS","endpoint","originalRequest","refreshToken","refreshError","endpoints","id","fetchAvailableModels","modelNames","model","fallbackModels","analyzePrompt","payload","useOrchestrator","orchestratorPayload","modelResponses","results","content","stageName","stageResult","output","combinedResponse","simplePayload","errorMessage","AuthService","credentials","data","_d","_c","details","limit","offset","err","email","newPassword","authService","useAuthStore","create","set","password","user","username","fullName","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","className","children","rest","ref","createElement","tag","attrs","Activity","BarChart","BookOpen","Bot","Brain","Check","ChevronDown","CircleHelp","Circle","Clock","CodeXml","Coins","Copy","CreditCard","Crosshair","DollarSign","Download","FileCheck","FileText","FileType","Film","FlaskConical","GitBranch","Globe","LayoutDashboard","LineChart","ListChecks","LoaderCircle","LogOut","Mail","Menu","Microscope","Network","Paintbrush","Palette","PenLine","PenTool","RefreshCw","Rocket","RotateCw","Settings","Share2","Shield","Sparkles","Swords","Target","TrendingUp","Type","Upload","User","Users","X","Zap","ProtectedRoute","requiredRole","location","useLocation","isAuthenticated","isLoading","fetchCurrentUser","useEffect","jsxs","jsx","Loader2","Navigate","byteToHex","i","unsafeStringify","arr","getRandomValues","rnds8","rng","randomUUID","native","v4","options","buf","rnds","initialState","errorsSlice","createSlice","state","action","uuidv4","setGlobalError","errorsReducer","Card","props","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","cn","inputs","twMerge","clsx","tokens","Button","variant","disabled","baseStyles","tokenVars","variantMap","sizeMap","variantStyle","sizeStyle","getOrCreateLiveRegion","politeness","region","screenReader","message","ErrorBoundary","__publicField","errorInfo","ErrorBoundary$1","connect","defaultTheme","defaultBranding","ThemeContext","createContext","THEME_STORAGE_KEY","BRANDING_STORAGE_KEY","ThemeProvider","initialTheme","initialBranding","getInitialTheme","storedTheme","getInitialBranding","storedBranding","theme","setThemeState","useState","branding","setBrandingState","setTheme","newTheme","prevTheme","updatedTheme","setBranding","newBranding","prevBranding","updatedBranding","resetToDefaults","toggleMode","mediaQuery","handleChange","e","prev","getAccentHue","accentColor","useTheme","useContext","cyberpunkDarkTheme","cyberpunkLightTheme","corporateDarkTheme","corporateLightTheme","classicDarkTheme","classicLightTheme","generateCssVariables","selector","cssVars","key","value","ThemeStyles","themeStyles","ThemeRegistry","ThemeRegistryContent","Fragment","DayNightToggle","showLabel","isDark","buttonSize","iconSize","ThemePanel","isOpen","onClose","localTheme","setLocalTheme","updateLocalTheme","React","style","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","UserMenu","navigate","useNavigate","logout","handleLogout","Link","NavBar","isMenuOpen","setIsMenuOpen","isThemePanelOpen","setIsThemePanelOpen","isSkinMenuOpen","setIsSkinMenuOpen","currentSkin","setCurrentSkin","cls","skins","isActive","path","HelpCircle","skin","__variableDynamicImportRuntimeHelper","__vitePreload","Checkbox","label","ERROR_SCENARIOS","currentErrorScenario","errorProbability","setErrorScenario","scenario","setRandomErrorProbability","probability","clearErrorSimulation","shouldSimulateError","scenarios","simulateNetworkTimeout","simulateAuthenticationFailure","simulateNoModelsAvailable","DEMO_MODELS","generateDemoResponse","query","models","lowerQuery","generateAngelInvestorResponse","generateCodeResponse","generateAnalysisResponse","generateCreativeResponse","generateExplanationResponse","generateGeneralResponse","queryTerms","word","topic","processWithFeatherOrchestration","request","orchestrationStartTime","prompt","pattern","errorScenario","demoRes","demo","selectedModels","initialResponses","modelPromises","modelDelay","revisionPasses","pass","metaAnalysis","ultraResponse","getAvailableModels","simulateError","duration","API_BASE","isDemoMode","correlationId","mockApi.processWithFeatherOrchestration","ultraModel","outputFormat","headers","_e","_f","_g","healthyOnly","mockApi.getAvailableModels","fetchWithTimeout","timeout","controller","timeoutId","healthyData","statusRes","statusData","reported","getOrchestratorModels","result","getOrchestratorPatterns","processWithOrchestrator","params","goalIcons","Code2","analysisIcons","modelIcons","addonIcons","statusIcons","Edit3","Stars","actionIcons","OutlineIcon","name","category","Icon","LaunchStatus","isComplete","orchestratorResult","selectedAddons","onViewResults","onStartNew","hasError","stages","useMemo","stageIndex","setStageIndex","completedStages","setCompletedStages","animatingStages","setAnimatingStages","stageProgress","setStageProgress","stageStartTime","useRef","getStageDelay","index","stage","variance","baseDelay","rateLimit","progressInterval","advanceStage","currentIndex","nextIndex","elapsed","progress","current","idx","borderColor","glowColor","phaseProgress","remaining","st","isAnimating","totalMs","sum","totalSec","mins","secs","addon","STORAGE_NAMESPACE","safeLog","args","normalizeText","input","jaccardSimilarity","a","b","aTokens","bTokens","intersection","t","union","summarizeCluster","texts","longest","x","y","firstSentence","computeConfidence","votes","agreement","votesScore","agreementScore","buildNoBadAnswer","rawSuggestions","suggestions","s","clusters","SIM_THRESHOLD","norm","placed","c","rep","summary","sims","n","confidence","_","persistNoBadAnswer","extractSuggestions","direct","r","fr","lines","line","trimmed","captureNoBadAnswerFromOrchestrator","normalized","RadioGroup","React.forwardRef","RadioGroupPrimitive.Root","RadioGroupItem","RadioGroupPrimitive.Item","RadioGroupPrimitive.Indicator","Input","type","loadSkin","useReducedMotion","prefersReducedMotion","setPrefersReducedMotion","event","Switch","onCheckedChange","handleClick","handleKeyDown","AnimationToggle","animationsEnabled","setAnimationsEnabled","SkinSwitcher","paramSkin","savedSkin","initialSkin","setSkin","newSkin","getThemeIcon","themeName","getThemeColor","themeColor","ReceiptSection","memo","sectionTitle","items","dots","CyberWizard","isNonTimeSkin","observer","steps","setSteps","currentStep","setCurrentStep","setSummary","totalCost","setTotalCost","selectedGoals","setSelectedGoals","selectedInputs","setSelectedInputs","setSelectedModels","availableModels","setAvailableModels","availableModelInfos","setAvailableModelInfos","setModelSelectionMode","autoPreference","setAutoPreference","showStatus","setShowStatus","stepFadeKey","setStepFadeKey","userQuery","setUserQuery","queryFocused","setQueryFocused","isRunning","setIsRunning","setOrchestratorResult","orchestratorError","setOrchestratorError","showResults","setShowResults","isOptimizing","optimizationStep","setModelStatuses","viewingIteration","setViewingIteration","bgTheme","setBgTheme","previousTitle","otherGoalText","setOtherGoalText","showModelList","setShowModelList","addonsSubmitted","setAddonsSubmitted","setLastAddedItem","k","d","names","statusMap","modelName","infoMap","res","errVal","addSelection","cost","section","appliedCost","sectionVal","step","removeSelectionCost","mapColorHex","mapColorRGBA","alpha","colorHex","receiptColor","handleGoalToggle","useCallback","option","o","l","handleInputToggle","handleModelToggle","monoStack","themeOverlayStyle","themeBgUrl","themeBgUrl2x","glassBackground","receiptSections","title","it","chooseAutoModels","pref","list","has","picks","cheapSorted","optimizeQuery","improvedQuery","feature","stepIndex","isDone","dotHex","val","premiumModels","modelsCost","item","speedModels","budgetModels","btn","isSelected","comingSoon","isLive","already","resp","text","blob","textContent","meta","w","safe","originalContent","PageErrorBoundary","WizardPage","LoginPage","lazy","RegisterPage","SimpleAnalysis","UIPrototype","UniversalUI","Dashboard","Outputs","FAQ","DocumentsPage","OrchestratorPage","ModelRunnerDemo","ModelMonitor","Admin","PageLoader","Profile","App","skipLink","Router","Suspense","Routes","Route","queryClient","QueryClient","failureCount","attemptIndex","QueryProvider","QueryClientProvider","QueryStatus","QueryStatus2","onFocus","onFocusLost","onOnline","onOffline","initialized","setupListeners","dispatch","customHandler","defaultHandler","handleFocus","handleFocusLost","handleOnline","handleOffline","handleVisibilityChange","unsubscribe","DefinitionType","DefinitionType2","promise","fetchDocuments","createAsyncThunk","rejectWithValue","uploadDocument","file","formData","progressEvent","percentCompleted","deleteDocument","documentId","documentsSlice","doc","builder","documentsReducer","rootReducer","combineReducers","store","configureStore","getDefaultMiddleware","ReactDOM","ReduxProvider"],"ignoreList":[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,62,63,64,65,99],"sources":["../../node_modules/react-dom/client.js","../../src/config.ts","../../src/services/api.ts","../../src/services/authService.ts","../../src/stores/authStore.ts","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/bar-chart.js","../../node_modules/lucide-react/dist/esm/icons/book-open.js","../../node_modules/lucide-react/dist/esm/icons/bot.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../node_modules/lucide-react/dist/esm/icons/circle-help.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/code-xml.js","../../node_modules/lucide-react/dist/esm/icons/coins.js","../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/credit-card.js","../../node_modules/lucide-react/dist/esm/icons/crosshair.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/file-check.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/file-type.js","../../node_modules/lucide-react/dist/esm/icons/film.js","../../node_modules/lucide-react/dist/esm/icons/flask-conical.js","../../node_modules/lucide-react/dist/esm/icons/git-branch.js","../../node_modules/lucide-react/dist/esm/icons/globe.js","../../node_modules/lucide-react/dist/esm/icons/layout-dashboard.js","../../node_modules/lucide-react/dist/esm/icons/line-chart.js","../../node_modules/lucide-react/dist/esm/icons/list-checks.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../node_modules/lucide-react/dist/esm/icons/log-out.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/microscope.js","../../node_modules/lucide-react/dist/esm/icons/network.js","../../node_modules/lucide-react/dist/esm/icons/paintbrush.js","../../node_modules/lucide-react/dist/esm/icons/palette.js","../../node_modules/lucide-react/dist/esm/icons/pen-line.js","../../node_modules/lucide-react/dist/esm/icons/pen-tool.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/rocket.js","../../node_modules/lucide-react/dist/esm/icons/rotate-cw.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/swords.js","../../node_modules/lucide-react/dist/esm/icons/target.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/type.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../src/components/auth/ProtectedRoute.tsx","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/features/errors/errorsSlice.ts","../../src/components/ui/card.tsx","../../src/lib/utils.ts","../../src/design-tokens/tokens.ts","../../src/components/ui/button.tsx","../../src/utils/accessibility.ts","../../src/components/ErrorBoundary.tsx","../../src/theme/ThemeContext.tsx","../../src/theme/theme-definitions.ts","../../src/theme/ThemeRegistry.tsx","../../src/theme/DayNightToggle.tsx","../../src/theme/ThemePanel.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/auth/UserMenu.tsx","../../src/components/layout/NavBar.tsx","../../src/components/ui/checkbox.tsx","../../src/api/mockOrchestrator.ts","../../src/api/orchestrator.ts","../../src/components/icons/OutlineIcons.tsx","../../src/components/wizard/LaunchStatus.tsx","../../src/internal/analysisTracker.ts","../../src/components/ui/radio-group.tsx","../../src/components/ui/input.tsx","../../src/skins/index.ts","../../src/hooks/useReducedMotion.ts","../../src/components/ui/switch.tsx","../../src/components/AnimationToggle.tsx","../../src/components/SkinSwitcher.tsx","../../src/components/wizard/CyberWizard.tsx","../../src/components/PageErrorBoundary.tsx","../../src/pages/wizard.tsx","../../src/App.tsx","../../src/providers/QueryProvider.tsx","../../node_modules/@reduxjs/toolkit/dist/query/rtk-query.esm.js","../../src/features/documents/documentsSlice.ts","../../src/store/index.ts","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","export type AppMode = 'staging' | 'production' | 'playground';\nexport type ApiMode = 'live' | 'mock';\nexport type Skin =\n  | 'night'\n  | 'afternoon'\n  | 'sunset'\n  | 'morning'\n  | 'minimalist'\n  | 'business';\n\nexport interface AppConfig {\n  appMode: AppMode;\n  apiMode: ApiMode;\n  defaultSkin: Skin;\n  availableSkins: Skin[];\n  ragEnabled: boolean;\n}\n\n// Support Vite env in browser and Jest (where we polyfill globalThis[\"import\"].meta.env)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst viteEnv: any = (globalThis as any)['import']?.meta?.env ?? {};\nconst envAppMode = (viteEnv.VITE_APP_MODE as AppMode) || 'staging';\nconst envApiMode = (viteEnv.VITE_API_MODE as ApiMode) || 'live';\nconst envDefaultSkin = (viteEnv.VITE_DEFAULT_SKIN as Skin) || 'night';\nconst envRagEnabled = String(viteEnv.VITE_RAG_ENABLED || 'false').toLowerCase() === 'true';\n\nexport const config: AppConfig = {\n  appMode: envAppMode,\n  apiMode: envApiMode,\n  defaultSkin: envDefaultSkin,\n  availableSkins: [\n    'night',\n    'afternoon',\n    'sunset',\n    'morning',\n    'minimalist',\n    'business',\n  ],\n  ragEnabled: envRagEnabled,\n};\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport { config as appConfig } from '../config';\n\n// Secure token storage utilities\nconst TOKEN_KEY = 'ultra_auth_token';\nconst REFRESH_TOKEN_KEY = 'ultra_refresh_token';\n\n// Check if we're in a secure context (HTTPS or localhost)\nconst isSecureContext = () => {\n  return (\n    window.location.protocol === 'https:' ||\n    window.location.hostname === 'localhost' ||\n    window.location.hostname === '127.0.0.1'\n  );\n};\n\n// Secure token storage functions\nconst setSecureToken = (token: string): void => {\n  if (isSecureContext()) {\n    // Use sessionStorage for better security (cleared on tab close)\n    sessionStorage.setItem(TOKEN_KEY, token);\n  } else {\n    // Fallback to localStorage for development\n    localStorage.setItem(TOKEN_KEY, token);\n  }\n};\n\nconst getSecureToken = (): string | null => {\n  return sessionStorage.getItem(TOKEN_KEY) || localStorage.getItem(TOKEN_KEY);\n};\n\nconst setSecureRefreshToken = (token: string): void => {\n  if (isSecureContext()) {\n    // Use localStorage for refresh tokens (need to persist across sessions)\n    localStorage.setItem(REFRESH_TOKEN_KEY, token);\n  } else {\n    localStorage.setItem(REFRESH_TOKEN_KEY, token);\n  }\n};\n\nconst getSecureRefreshToken = (): string | null => {\n  return localStorage.getItem(REFRESH_TOKEN_KEY);\n};\n\nconst clearSecureTokens = (): void => {\n  sessionStorage.removeItem(TOKEN_KEY);\n  localStorage.removeItem(TOKEN_KEY);\n  localStorage.removeItem(REFRESH_TOKEN_KEY);\n};\n\n// Use the environment variable for the API base URL\n// In the browser, this will be set to http://localhost:8000/api\n// console.log to aid debugging\n// Jest-safe env resolution (setupEnv.ts defines globalThis[\"import\"].meta.env)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst viteEnvApi: any = (globalThis as any)['import']?.meta?.env ?? {};\nconst API_URL = viteEnvApi.VITE_API_URL || 'http://localhost:8000/api';\n\n// Configuration for API calls (moved from component)\nconst API_CONFIG = {\n  baseURL: API_URL,\n  maxRetries: 3,\n  retryDelay: 1000, // 1 second initial delay\n  retryStatusCodes: [408, 429, 500, 502, 503, 504], // Status codes to retry on\n};\n\n// Create and configure axios instance (supports mock mode)\nconst apiClient: AxiosInstance = axios.create({\n  baseURL: API_CONFIG.baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  timeout: 180000, // 3 minutes for Ultra Synthesis pipeline with multiple models\n});\n\n// If in demo/mock mode, install a lightweight mock adapter\nif (appConfig.apiMode === 'mock') {\n  const latencyMs = Number(viteEnvApi.VITE_MOCK_LATENCY_MS ?? 50000);\n\n  apiClient.interceptors.request.use(async cfg => {\n    // Simulate latency\n    await new Promise(r => setTimeout(r, isNaN(latencyMs) ? 0 : latencyMs));\n    return cfg;\n  });\n\n  apiClient.interceptors.response.use(\n    response => response,\n    async error => {\n      const url = (error?.config?.url || '') as string;\n      // Provide minimal mock responses for known endpoints\n      if (url.includes('/available-models')) {\n        return {\n          ...error,\n          status: 200,\n          data: {\n            models: [\n              {\n                name: 'gpt-4',\n                provider: 'openai',\n                status: 'mock',\n                max_tokens: 8192,\n                cost_per_1k_tokens: 0.0,\n              },\n              {\n                name: 'claude-3-sonnet',\n                provider: 'anthropic',\n                status: 'mock',\n                max_tokens: 200000,\n                cost_per_1k_tokens: 0.0,\n              },\n              {\n                name: 'gemini-pro',\n                provider: 'google',\n                status: 'mock',\n                max_tokens: 32768,\n                cost_per_1k_tokens: 0.0,\n              },\n            ],\n            total_count: 3,\n            healthy_count: 3,\n          },\n          config: error.config,\n          request: error.request,\n        } as any;\n      }\n\n      if (url.includes('/orchestrator/analyze')) {\n        const mockData = {\n          success: true,\n          processing_time: 4.73,\n          results: {\n            initial_response: {\n              output: {\n                responses: {\n                  'gpt-4-turbo-preview':\n                    'Focus on electric public transportation and cycling infrastructure. Cities that invest in electric bus fleets and protected bike lanes see significant emission reductions and improved quality of life.',\n                  'claude-3-opus-20240229':\n                    'Sustainable urban transport requires integrated planning that combines mass transit, cycling infrastructure, and smart traffic management. Key is reducing car dependency through convenient alternatives.',\n                  'gemini-1.5-pro-latest':\n                    'Smart traffic management systems using AI can reduce congestion by 25%. Combined with investment in public transit and bike infrastructure, cities can achieve carbon neutrality in transport by 2030.',\n                },\n                successful_models: [\n                  'gpt-4-turbo-preview',\n                  'claude-3-opus-20240229',\n                  'gemini-1.5-pro-latest',\n                ],\n              },\n            },\n            peer_review_and_revision: {\n              output: {\n                revised_responses: {\n                  'gpt-4-turbo-preview':\n                    'Added specific statistics: Cities implementing electric bus fleets have seen 40% reduction in emissions. Protected bike lanes increase cycling adoption by 75%.',\n                  'claude-3-opus-20240229':\n                    'Enhanced with policy recommendations: Implement dynamic parking pricing, develop integrated mobility apps, and create car-free zones in city centers.',\n                },\n              },\n            },\n            ultra_synthesis: {\n              output: {\n                synthesis: `Based on my multi-model analysis using advanced intelligence multiplication techniques, here's a comprehensive response to your query about sustainable urban transportation:\n\n**Key Findings:**\n1. **Electric Public Transit**: Cities implementing electric bus fleets have seen 40% reduction in emissions\n2. **Bike Infrastructure**: Protected bike lanes increase cycling adoption by 75%\n3. **Smart Traffic Management**: AI-powered traffic systems reduce congestion by 25%\n\n**Recommendations:**\n- Prioritize investment in electric mass transit systems\n- Create dedicated cycling infrastructure with physical barriers\n- Implement dynamic pricing for parking to discourage car use\n- Develop integrated mobility apps for seamless multi-modal journeys\n\n**Future Outlook:**\nThe convergence of autonomous vehicles, renewable energy, and smart city infrastructure will revolutionize urban mobility by 2030.\n\n*This analysis synthesized insights from GPT-4, Claude 3, and Gemini Pro to provide a comprehensive perspective.*`,\n              },\n            },\n            formatted_synthesis: 'Ultra Synthesis Complete',\n          },\n          pipeline_info: {\n            models_used: [\n              'gpt-4-turbo-preview',\n              'claude-3-opus-20240229',\n              'gemini-1.5-pro-latest',\n            ],\n            pattern: 'comparative',\n          },\n        };\n        return {\n          ...error,\n          status: 200,\n          data: mockData,\n          config: error.config,\n          request: error.request,\n        } as any;\n      }\n\n      if (url.includes('/analyze')) {\n        const mockSimple = {\n          success: true,\n          model_used: 'gpt-4',\n          analysis: 'Mock simple analysis result',\n        };\n        return {\n          ...error,\n          status: 200,\n          data: mockSimple,\n          config: error.config,\n          request: error.request,\n        } as any;\n      }\n\n      if (url.includes('/health')) {\n        return {\n          ...error,\n          status: 200,\n          data: { status: 'ok', mode: 'mock' },\n          config: error.config,\n          request: error.request,\n        } as any;\n      }\n\n      // Default: return a 501-like stub to surface missing mocks clearly\n      const notImplemented = {\n        status: 501,\n        data: { error: 'MOCK_NOT_IMPLEMENTED', message: `No mock for ${url}` },\n        config: error.config,\n        request: error.request,\n      } as any;\n      return notImplemented;\n    }\n  );\n}\n\n// Add retry interceptor (moved from component)\napiClient.interceptors.response.use(undefined, async error => {\n  const { config, response = {} } = error;\n\n  // Skip retry for specific error status codes or if we've already retried the maximum times\n  if (\n    !config ||\n    !API_CONFIG.retryStatusCodes.includes(response.status) ||\n    (config as any).__retryCount >= API_CONFIG.maxRetries // Added type assertion for __retryCount\n  ) {\n    return Promise.reject(error);\n  }\n\n  // Set retry count\n  (config as any).__retryCount = (config as any).__retryCount || 0;\n  (config as any).__retryCount++;\n\n  // Exponential backoff delay\n  const delay =\n    API_CONFIG.retryDelay * Math.pow(2, (config as any).__retryCount - 1);\n\n  // Wait for the delay\n  await new Promise(resolve => setTimeout(resolve, delay));\n\n  // Retry the request\n  return apiClient(config);\n});\n\n// List of public endpoints that don't need authentication\nconst PUBLIC_ENDPOINTS = [\n  '/available-models',\n  '/health',\n  '/orchestrator/feather', // Updated to use Feather orchestration\n];\n\n// Request interceptor (keep existing)\napiClient.interceptors.request.use(\n  config => {\n    // Check if this is a public endpoint\n    const isPublicEndpoint = PUBLIC_ENDPOINTS.some(endpoint =>\n      config.url?.includes(endpoint)\n    );\n\n    // Only add auth token for non-public endpoints\n    if (!isPublicEndpoint) {\n      const token = getSecureToken();\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n\n    return config;\n  },\n  error => {\n    console.error('Request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor (keep existing token refresh logic, merge retry logic)\n// Note: Retry logic moved above to avoid duplication\napiClient.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n\n    // Handle token refresh for 401 errors\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        // Attempt to refresh token\n        const refreshToken = getSecureRefreshToken();\n\n        if (refreshToken) {\n          const response = await axios.post(`${API_URL}/auth/refresh`, {\n            refreshToken,\n          });\n\n          const { token } = response.data;\n\n          // Update token in storage\n          setSecureToken(token);\n\n          // Update authorization header\n          originalRequest.headers.Authorization = `Bearer ${token}`;\n\n          // Retry the original request\n          return apiClient(originalRequest);\n        }\n      } catch (refreshError) {\n        console.error('Token refresh failed:', refreshError);\n\n        // Clear auth tokens and redirect to login\n        clearSecureTokens();\n        // window.location.href = '/login'; // Consider alternative non-redirecting error handling\n        return Promise.reject(refreshError); // Reject after failed refresh\n      }\n    }\n\n    // Handle network errors\n    if (!error.response && !axios.isCancel(error)) {\n      // Added check for cancelled requests\n      console.error('Network error:', error);\n      // You could dispatch an action to show a network error toast here\n    }\n\n    // Reject error if it wasn't handled by retry or refresh logic\n    return Promise.reject(error);\n  }\n);\n\n// Generic request method with typed response\nexport const request = async <T>(config: AxiosRequestConfig): Promise<T> => {\n  try {\n    const response: AxiosResponse<T> = await apiClient(config);\n    return response.data;\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw error;\n  }\n};\n\n// Define API endpoints\nexport const endpoints = {\n  // Auth endpoints\n  auth: {\n    login: '/auth/login',\n    register: '/auth/register',\n    refresh: '/auth/refresh',\n    logout: '/auth/logout',\n  },\n\n  // Document endpoints\n  documents: {\n    getAll: '/documents',\n    getById: (id: string) => `/documents/${id}`,\n    upload: '/upload-document',\n    delete: (id: string) => `/documents/${id}`,\n  },\n\n  // Analysis endpoints\n  analysis: {\n    analyze: '/analyze', // Simple analysis endpoint\n    orchestrator: '/orchestrator/analyze', // Multi-stage orchestrator endpoint\n    analyzeWithDocs: '/analyze-with-docs',\n    getById: (id: string) => `/analysis/${id}`,\n    getHistory: '/analysis/history',\n    availableModels: '/available-models', // Our working models endpoint\n  },\n};\n\n// --- New Service Functions ---\n\n// Define expected response structure for available models (matches our API)\ninterface AvailableModelsResponse {\n  models: Array<{\n    name: string;\n    provider: string;\n    status: string;\n    max_tokens: number;\n    cost_per_1k_tokens: number;\n  }>;\n  total_count: number;\n  healthy_count: number;\n}\n\n// Function to fetch available models\nexport const fetchAvailableModels = async (): Promise<string[]> => {\n  try {\n    console.log(\n      'Fetching available models from:',\n      endpoints.analysis.availableModels\n    );\n\n    // Use actual API call to fetch models\n    const response = await apiClient.get<AvailableModelsResponse>(\n      endpoints.analysis.availableModels\n    );\n\n    console.log('Response from available-models endpoint:', response.data);\n\n    // Parse our new API response format\n    if (response.data && response.data.models) {\n      const modelNames = response.data.models.map(model => model.name);\n      console.log('Found available models:', modelNames);\n      return modelNames;\n    } else {\n      // If the API doesn't return the expected structure, log and throw\n      console.error(\n        'Unexpected response format from available-models endpoint:',\n        response.data\n      );\n      throw new Error('Invalid response format from server');\n    }\n  } catch (error) {\n    console.error('Failed to fetch available models:', error);\n\n    // Log more details about the error\n    if (error.response) {\n      console.error('Error response:', error.response.data);\n      console.error('Error status:', error.response.status);\n    } else if (error.request) {\n      console.error('No response received:', error.request);\n    } else {\n      console.error('Error message:', error.message);\n    }\n\n    // Fallback to default models if API fails (matches our API models)\n    console.warn('Using fallback model list');\n    const fallbackModels = [\n      'gpt-4',\n      'gpt-4-turbo',\n      'claude-3-sonnet',\n      'claude-3-haiku',\n      'gemini-pro',\n    ];\n    console.log('Using fallback models:', fallbackModels);\n    return fallbackModels;\n  }\n};\n\n// Enhanced interface for AnalysisPayload with more specific types\ninterface AnalysisPayload {\n  prompt: string;\n  selected_models: string[];\n  ultra_model: string;\n  pattern: string;\n  options?: Record<string, any>;\n  output_format?: string;\n  userId?: string;\n}\n\n// Enhanced response types for more accurate type checking\ninterface ModelResponse {\n  [model: string]: string | any;\n}\n\ninterface TokenCount {\n  prompt_tokens: number;\n  completion_tokens: number;\n  total_tokens: number;\n}\n\ninterface AnalysisPerformance {\n  total_time_seconds: number;\n  model_times: Record<string, number>;\n  token_counts: Record<string, TokenCount>;\n}\n\ninterface AnalysisResponse {\n  status: 'success' | 'error' | 'partial_success';\n  message?: string;\n  error?: string;\n  debug_info?: string;\n  model_responses?: ModelResponse;\n  ultra_response: string;\n  performance?: AnalysisPerformance;\n  cached?: boolean;\n  id?: string;\n  timestamp?: string;\n}\n\n// Enhanced multimodal analysis function\nexport const analyzePrompt = async (\n  payload: AnalysisPayload\n): Promise<AnalysisResponse> => {\n  try {\n    // Use orchestrator for multimodal analysis when multiple models selected\n    const useOrchestrator = payload.selected_models.length > 1;\n\n    let response;\n\n    if (useOrchestrator) {\n      // Use orchestrator for multi-model analysis\n      const orchestratorPayload = {\n        query: payload.prompt,\n        analysis_type: payload.pattern || 'comprehensive',\n        options: payload.options || {},\n        selected_models: payload.selected_models,\n      };\n\n      console.log(\n        'Sending orchestrator request with payload:',\n        orchestratorPayload\n      );\n\n      response = await apiClient.post<any>(\n        endpoints.analysis.orchestrator,\n        orchestratorPayload\n      );\n\n      console.log('Received orchestrator response:', response.data);\n\n      if (!response.data.success) {\n        throw new Error(response.data.error || 'Orchestrator analysis failed');\n      }\n\n      // Transform orchestrator response to expected format\n      const modelResponses: any = {};\n      const results = response.data.results;\n\n      // Check if initial_response stage has output with responses\n      if (\n        results.initial_response &&\n        results.initial_response.output &&\n        results.initial_response.output.responses\n      ) {\n        Object.entries(results.initial_response.output.responses).forEach(\n          ([model, content]: [string, any]) => {\n            modelResponses[model] = {\n              response:\n                typeof content === 'string' ? content : JSON.stringify(content),\n              model: model,\n              status: 'success',\n            };\n          }\n        );\n      } else {\n        // Fallback: check if there are any stage results we can use\n        console.log('Orchestrator response structure:', results);\n        for (const [stageName, stageResult] of Object.entries(results)) {\n          if (\n            stageResult &&\n            typeof stageResult === 'object' &&\n            (stageResult as any).output\n          ) {\n            const output = (stageResult as any).output;\n            if (output && typeof output === 'object' && output.responses) {\n              Object.entries(output.responses).forEach(\n                ([model, content]: [string, any]) => {\n                  modelResponses[model] = {\n                    response:\n                      typeof content === 'string'\n                        ? content\n                        : JSON.stringify(content),\n                    model: model,\n                    status: 'success',\n                  };\n                }\n              );\n              break; // Use the first stage with responses\n            }\n          }\n        }\n      }\n\n      // Create a more readable combined response\n      let combinedResponse = 'Multimodal Analysis Results:\\n\\n';\n\n      // Add individual model responses\n      if (Object.keys(modelResponses).length > 0) {\n        combinedResponse += '=== Individual Model Responses ===\\n\\n';\n        for (const [model, response] of Object.entries(modelResponses)) {\n          combinedResponse += `${model}:\\n${(response as any).response}\\n\\n`;\n        }\n      }\n\n      // Add meta-analysis if available\n      if (results.meta_analysis && results.meta_analysis.output) {\n        combinedResponse += '=== Meta-Analysis ===\\n\\n';\n        combinedResponse +=\n          typeof results.meta_analysis.output === 'string'\n            ? results.meta_analysis.output\n            : JSON.stringify(results.meta_analysis.output, null, 2);\n        combinedResponse += '\\n\\n';\n      }\n\n      // Add ultra-synthesis if available\n      if (results.ultra_synthesis && results.ultra_synthesis.output) {\n        combinedResponse += '=== Ultra-Synthesis ===\\n\\n';\n        combinedResponse +=\n          typeof results.ultra_synthesis.output === 'string'\n            ? results.ultra_synthesis.output\n            : JSON.stringify(results.ultra_synthesis.output, null, 2);\n        combinedResponse += '\\n\\n';\n      }\n\n      // Add hyper-level analysis if available\n      if (results.hyper_level_analysis && results.hyper_level_analysis.output) {\n        combinedResponse += '=== Hyper-Level Analysis ===\\n\\n';\n        combinedResponse +=\n          typeof results.hyper_level_analysis.output === 'string'\n            ? results.hyper_level_analysis.output\n            : JSON.stringify(results.hyper_level_analysis.output, null, 2);\n      }\n\n      // Fallback if no structured content\n      if (combinedResponse === 'Multimodal Analysis Results:\\n\\n') {\n        combinedResponse = JSON.stringify(results, null, 2);\n      }\n\n      return {\n        status: 'success',\n        message: 'Multimodal analysis completed successfully',\n        model_responses: modelResponses,\n        combined_response: combinedResponse,\n        timestamp: new Date().toISOString(),\n        processing_time: response.data.processing_time,\n      };\n    } else {\n      // Use simple analysis for single model\n      const simplePayload = {\n        text: payload.prompt,\n        model: payload.selected_models[0] || 'gpt-4',\n        temperature: 0.7,\n      };\n\n      console.log(\n        'Sending simple analysis request with payload:',\n        simplePayload\n      );\n\n      response = await apiClient.post<any>(\n        endpoints.analysis.analyze,\n        simplePayload\n      );\n\n      console.log('Received simple analysis response:', response.data);\n\n      if (!response.data.success) {\n        throw new Error(response.data.error || 'Analysis failed');\n      }\n\n      // Transform simple response to expected format\n      return {\n        status: 'success',\n        message: 'Analysis completed successfully',\n        model_responses: {\n          [response.data.model_used]: {\n            response: response.data.analysis,\n            model: response.data.model_used,\n            status: 'success',\n          },\n        },\n        combined_response: response.data.analysis,\n        timestamp: new Date().toISOString(),\n      };\n    }\n  } catch (error: any) {\n    console.error('API analyzePrompt error:', error);\n\n    // Handle different error types\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      console.error('Response error data:', error.response.data);\n      console.error('Response error status:', error.response.status);\n\n      const errorMessage =\n        (error.response.data && error.response.data.message) ||\n        (error.response.data && error.response.data.error) ||\n        `Server error: ${error.response.status}`;\n\n      throw new Error(errorMessage);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.error('Request error:', error.request);\n      throw new Error(\n        'No response from server. Please check your network connection.'\n      );\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.error('Error message:', error.message);\n      throw error;\n    }\n  }\n};\n\n// Export secure token management functions\nexport {\n  setSecureToken,\n  getSecureToken,\n  setSecureRefreshToken,\n  getSecureRefreshToken,\n  clearSecureTokens,\n};\n\nexport default apiClient;\n","import apiClient, {\n  setSecureToken,\n  clearSecureTokens,\n  getSecureToken,\n} from './api';\n\n// Auth types\nexport interface User {\n  id: number;\n  email: string;\n  username?: string;\n  role: string;\n  subscription_tier: string;\n  account_balance: number;\n  is_verified: boolean;\n  full_name?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface LoginCredentials {\n  email_or_username: string;\n  password: string;\n}\n\nexport interface RegisterData {\n  email: string;\n  password: string;\n  username?: string;\n  full_name?: string;\n}\n\nexport interface AuthResponse {\n  access_token: string;\n  token_type: string;\n  expires_in: number;\n  user: User;\n}\n\nexport interface UserBalance {\n  balance: number;\n  currency: string;\n}\n\nexport interface Transaction {\n  id: number;\n  type: 'credit' | 'debit';\n  amount: number;\n  balance_before: number;\n  balance_after: number;\n  description: string;\n  metadata?: Record<string, any>;\n  created_at: string;\n}\n\nclass AuthService {\n  // Check if user is authenticated\n  isAuthenticated(): boolean {\n    return !!getSecureToken();\n  }\n\n  // Login user\n  async login(credentials: LoginCredentials): Promise<User> {\n    try {\n      const response = await apiClient.post<AuthResponse>(\n        '/auth/login',\n        credentials\n      );\n\n      // Store the token securely\n      setSecureToken(response.data.access_token);\n\n      return response.data.user;\n    } catch (error: any) {\n      console.error('Login error:', error);\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error('Login failed. Please check your credentials.');\n    }\n  }\n\n  // Register new user\n  async register(data: RegisterData): Promise<User> {\n    try {\n      const response = await apiClient.post<User>('/auth/register', data);\n      return response.data;\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      if (error.response?.data?.details) {\n        const details = error.response.data.details;\n        if (Array.isArray(details) && details.length > 0) {\n          throw new Error(details[0].msg || 'Validation error');\n        }\n      }\n      throw new Error('Registration failed. Please try again.');\n    }\n  }\n\n  // Get current user info\n  async getCurrentUser(): Promise<User> {\n    try {\n      const response = await apiClient.get<User>('/auth/me');\n      return response.data;\n    } catch (error: any) {\n      console.error('Get current user error:', error);\n      if (error.response?.status === 401) {\n        // Token might be invalid\n        clearSecureTokens();\n        throw new Error('Session expired. Please log in again.');\n      }\n      throw new Error('Failed to fetch user information.');\n    }\n  }\n\n  // Get user balance\n  async getBalance(): Promise<UserBalance> {\n    try {\n      const response = await apiClient.get<UserBalance>('/user/balance');\n      return response.data;\n    } catch (error: any) {\n      console.error('Get balance error:', error);\n      throw new Error('Failed to fetch balance.');\n    }\n  }\n\n  // Get transaction history\n  async getTransactions(\n    limit: number = 50,\n    offset: number = 0\n  ): Promise<Transaction[]> {\n    try {\n      const response = await apiClient.get<{ transactions: Transaction[] }>(\n        '/user/transactions',\n        {\n          params: { limit, offset },\n        }\n      );\n      return response.data.transactions;\n    } catch (error: any) {\n      console.error('Get transactions error:', error);\n      throw new Error('Failed to fetch transactions.');\n    }\n  }\n\n  // Logout user\n  logout(): void {\n    clearSecureTokens();\n    // Optionally call logout endpoint to invalidate token on server\n    apiClient.post('/auth/logout').catch(err => {\n      console.error('Logout endpoint error:', err);\n    });\n  }\n\n  // Update user profile\n  async updateProfile(data: Partial<User>): Promise<User> {\n    try {\n      const response = await apiClient.put<User>('/auth/profile', data);\n      return response.data;\n    } catch (error: any) {\n      console.error('Update profile error:', error);\n      throw new Error('Failed to update profile.');\n    }\n  }\n\n  // Request password reset\n  async requestPasswordReset(email: string): Promise<void> {\n    try {\n      await apiClient.post('/auth/forgot-password', { email });\n    } catch (error: any) {\n      console.error('Password reset request error:', error);\n      throw new Error('Failed to send password reset email.');\n    }\n  }\n\n  // Reset password with token\n  async resetPassword(token: string, newPassword: string): Promise<void> {\n    try {\n      await apiClient.post('/auth/reset-password', {\n        token,\n        new_password: newPassword,\n      });\n    } catch (error: any) {\n      console.error('Password reset error:', error);\n      throw new Error('Failed to reset password.');\n    }\n  }\n\n  // Verify email with token\n  async verifyEmail(token: string): Promise<void> {\n    try {\n      await apiClient.post('/auth/verify-email', { token });\n    } catch (error: any) {\n      console.error('Email verification error:', error);\n      throw new Error('Failed to verify email.');\n    }\n  }\n}\n\n// Export singleton instance\nexport const authService = new AuthService();\n","import { create } from 'zustand';\nimport { authService, User } from '../services/authService';\nimport { clearSecureTokens } from '../services/api';\n\ninterface AuthState {\n  user: User | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  error: string | null;\n\n  // Actions\n  login: (email: string, password: string) => Promise<void>;\n  register: (\n    email: string,\n    password: string,\n    username?: string,\n    fullName?: string\n  ) => Promise<void>;\n  logout: () => void;\n  fetchCurrentUser: () => Promise<void>;\n  clearError: () => void;\n  setUser: (user: User | null) => void;\n}\n\nexport const useAuthStore = create<AuthState>(set => ({\n  user: null,\n  isAuthenticated: authService.isAuthenticated(),\n  isLoading: false,\n  error: null,\n\n  login: async (email: string, password: string) => {\n    set({ isLoading: true, error: null });\n    try {\n      const user = await authService.login({\n        email_or_username: email,\n        password,\n      });\n      set({\n        user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      });\n    } catch (error: any) {\n      set({\n        isLoading: false,\n        error: error.message || 'Login failed',\n        isAuthenticated: false,\n        user: null,\n      });\n      throw error;\n    }\n  },\n\n  register: async (\n    email: string,\n    password: string,\n    username?: string,\n    fullName?: string\n  ) => {\n    set({ isLoading: true, error: null });\n    try {\n      const user = await authService.register({\n        email,\n        password,\n        username,\n        full_name: fullName,\n      });\n      set({\n        user,\n        isAuthenticated: false, // User needs to login after registration\n        isLoading: false,\n        error: null,\n      });\n    } catch (error: any) {\n      set({\n        isLoading: false,\n        error: error.message || 'Registration failed',\n      });\n      throw error;\n    }\n  },\n\n  logout: () => {\n    authService.logout();\n    set({\n      user: null,\n      isAuthenticated: false,\n      error: null,\n    });\n  },\n\n  fetchCurrentUser: async () => {\n    if (!authService.isAuthenticated()) {\n      set({ user: null, isAuthenticated: false });\n      return;\n    }\n\n    set({ isLoading: true });\n    try {\n      const user = await authService.getCurrentUser();\n      set({\n        user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      });\n    } catch (error: any) {\n      set({\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: error.message,\n      });\n      // If token is invalid, clear it\n      if (error.message.includes('expired')) {\n        clearSecureTokens();\n      }\n    }\n  },\n\n  clearError: () => set({ error: null }),\n\n  setUser: (user: User | null) =>\n    set({\n      user,\n      isAuthenticated: !!user,\n    }),\n}));\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { toKebabCase } from './shared/src/utils.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({\n      color = \"currentColor\",\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = \"\",\n      children,\n      ...rest\n    }, ref) => {\n      return createElement(\n        \"svg\",\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n          ...rest\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...Array.isArray(children) ? children : [children]\n        ]\n      );\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BarChart = createLucideIcon(\"BarChart\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"20\", y2: \"10\", key: \"1vz5eb\" }],\n  [\"line\", { x1: \"18\", x2: \"18\", y1: \"20\", y2: \"4\", key: \"cun8e5\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"20\", y2: \"16\", key: \"hq0ia6\" }]\n]);\n\nexport { BarChart as default };\n//# sourceMappingURL=bar-chart.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BookOpen = createLucideIcon(\"BookOpen\", [\n  [\"path\", { d: \"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\", key: \"vv98re\" }],\n  [\"path\", { d: \"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\", key: \"1cyq3y\" }]\n]);\n\nexport { BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bot = createLucideIcon(\"Bot\", [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n]);\n\nexport { Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",\n      key: \"l5xja\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",\n      key: \"ep3f8r\"\n    }\n  ],\n  [\"path\", { d: \"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\", key: \"1p4c4q\" }],\n  [\"path\", { d: \"M17.599 6.5a3 3 0 0 0 .399-1.375\", key: \"tmeiqw\" }],\n  [\"path\", { d: \"M6.003 5.125A3 3 0 0 0 6.401 6.5\", key: \"105sqy\" }],\n  [\"path\", { d: \"M3.477 10.896a4 4 0 0 1 .585-.396\", key: \"ql3yin\" }],\n  [\"path\", { d: \"M19.938 10.5a4 4 0 0 1 .585.396\", key: \"1qfode\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-1.967-.516\", key: \"2e4loj\" }],\n  [\"path\", { d: \"M19.967 17.484A4 4 0 0 1 18 18\", key: \"159ez6\" }]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\nexport { ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleHelp = createLucideIcon(\"CircleHelp\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\", key: \"1u773s\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { CircleHelp as default };\n//# sourceMappingURL=circle-help.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CodeXml = createLucideIcon(\"CodeXml\", [\n  [\"path\", { d: \"m18 16 4-4-4-4\", key: \"1inbqp\" }],\n  [\"path\", { d: \"m6 8-4 4 4 4\", key: \"15zrgr\" }],\n  [\"path\", { d: \"m14.5 4-5 16\", key: \"e7oirm\" }]\n]);\n\nexport { CodeXml as default };\n//# sourceMappingURL=code-xml.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Coins = createLucideIcon(\"Coins\", [\n  [\"circle\", { cx: \"8\", cy: \"8\", r: \"6\", key: \"3yglwk\" }],\n  [\"path\", { d: \"M18.09 10.37A6 6 0 1 1 10.34 18\", key: \"t5s6rm\" }],\n  [\"path\", { d: \"M7 6h1v4\", key: \"1obek4\" }],\n  [\"path\", { d: \"m16.71 13.88.7.71-2.82 2.82\", key: \"1rbuyh\" }]\n]);\n\nexport { Coins as default };\n//# sourceMappingURL=coins.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Copy = createLucideIcon(\"Copy\", [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n]);\n\nexport { Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Crosshair = createLucideIcon(\"Crosshair\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"22\", x2: \"18\", y1: \"12\", y2: \"12\", key: \"l9bcsi\" }],\n  [\"line\", { x1: \"6\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"13hhkx\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"6\", y2: \"2\", key: \"10w3f3\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"22\", y2: \"18\", key: \"15g9kq\" }]\n]);\n\nexport { Crosshair as default };\n//# sourceMappingURL=crosshair.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileCheck = createLucideIcon(\"FileCheck\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"m9 15 2 2 4-4\", key: \"1grp1n\" }]\n]);\n\nexport { FileCheck as default };\n//# sourceMappingURL=file-check.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileType = createLucideIcon(\"FileType\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M9 13v-1h6v1\", key: \"1bb014\" }],\n  [\"path\", { d: \"M12 12v6\", key: \"3ahymv\" }],\n  [\"path\", { d: \"M11 18h2\", key: \"12mj7e\" }]\n]);\n\nexport { FileType as default };\n//# sourceMappingURL=file-type.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Film = createLucideIcon(\"Film\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M7 3v18\", key: \"bbkbws\" }],\n  [\"path\", { d: \"M3 7.5h4\", key: \"zfgn84\" }],\n  [\"path\", { d: \"M3 12h18\", key: \"1i2n21\" }],\n  [\"path\", { d: \"M3 16.5h4\", key: \"1230mu\" }],\n  [\"path\", { d: \"M17 3v18\", key: \"in4fa5\" }],\n  [\"path\", { d: \"M17 7.5h4\", key: \"myr1c1\" }],\n  [\"path\", { d: \"M17 16.5h4\", key: \"go4c1d\" }]\n]);\n\nexport { Film as default };\n//# sourceMappingURL=film.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FlaskConical = createLucideIcon(\"FlaskConical\", [\n  [\n    \"path\",\n    {\n      d: \"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2\",\n      key: \"pzvekw\"\n    }\n  ],\n  [\"path\", { d: \"M8.5 2h7\", key: \"csnxdl\" }],\n  [\"path\", { d: \"M7 16h10\", key: \"wp8him\" }]\n]);\n\nexport { FlaskConical as default };\n//# sourceMappingURL=flask-conical.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst GitBranch = createLucideIcon(\"GitBranch\", [\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"3\", y2: \"15\", key: \"17qcm7\" }],\n  [\"circle\", { cx: \"18\", cy: \"6\", r: \"3\", key: \"1h7g24\" }],\n  [\"circle\", { cx: \"6\", cy: \"18\", r: \"3\", key: \"fqmcym\" }],\n  [\"path\", { d: \"M18 9a9 9 0 0 1-9 9\", key: \"n2h4wq\" }]\n]);\n\nexport { GitBranch as default };\n//# sourceMappingURL=git-branch.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Globe = createLucideIcon(\"Globe\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n]);\n\nexport { Globe as default };\n//# sourceMappingURL=globe.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutDashboard = createLucideIcon(\"LayoutDashboard\", [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n]);\n\nexport { LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LineChart = createLucideIcon(\"LineChart\", [\n  [\"path\", { d: \"M3 3v18h18\", key: \"1s2lah\" }],\n  [\"path\", { d: \"m19 9-5 5-4-4-3 3\", key: \"2osh9i\" }]\n]);\n\nexport { LineChart as default };\n//# sourceMappingURL=line-chart.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ListChecks = createLucideIcon(\"ListChecks\", [\n  [\"path\", { d: \"m3 17 2 2 4-4\", key: \"1jhpwq\" }],\n  [\"path\", { d: \"m3 7 2 2 4-4\", key: \"1obspn\" }],\n  [\"path\", { d: \"M13 6h8\", key: \"15sg57\" }],\n  [\"path\", { d: \"M13 12h8\", key: \"h98zly\" }],\n  [\"path\", { d: \"M13 18h8\", key: \"oe0vm4\" }]\n]);\n\nexport { ListChecks as default };\n//# sourceMappingURL=list-checks.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LogOut = createLucideIcon(\"LogOut\", [\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }],\n  [\"polyline\", { points: \"16 17 21 12 16 7\", key: \"1gabdz\" }],\n  [\"line\", { x1: \"21\", x2: \"9\", y1: \"12\", y2: \"12\", key: \"1uyos4\" }]\n]);\n\nexport { LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"Mail\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Microscope = createLucideIcon(\"Microscope\", [\n  [\"path\", { d: \"M6 18h8\", key: \"1borvv\" }],\n  [\"path\", { d: \"M3 22h18\", key: \"8prr45\" }],\n  [\"path\", { d: \"M14 22a7 7 0 1 0 0-14h-1\", key: \"1jwaiy\" }],\n  [\"path\", { d: \"M9 14h2\", key: \"197e7h\" }],\n  [\"path\", { d: \"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z\", key: \"1bmzmy\" }],\n  [\"path\", { d: \"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3\", key: \"1drr47\" }]\n]);\n\nexport { Microscope as default };\n//# sourceMappingURL=microscope.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Network = createLucideIcon(\"Network\", [\n  [\"rect\", { x: \"16\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"4q2zg0\" }],\n  [\"rect\", { x: \"2\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"8cvhb9\" }],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"6\", rx: \"1\", key: \"1egb70\" }],\n  [\"path\", { d: \"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3\", key: \"1jsf9p\" }],\n  [\"path\", { d: \"M12 12V8\", key: \"2874zd\" }]\n]);\n\nexport { Network as default };\n//# sourceMappingURL=network.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Paintbrush = createLucideIcon(\"Paintbrush\", [\n  [\n    \"path\",\n    {\n      d: \"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z\",\n      key: \"m6k5sh\"\n    }\n  ],\n  [\"path\", { d: \"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7\", key: \"arzq70\" }],\n  [\"path\", { d: \"M14.5 17.5 4.5 15\", key: \"s7fvrz\" }]\n]);\n\nexport { Paintbrush as default };\n//# sourceMappingURL=paintbrush.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Palette = createLucideIcon(\"Palette\", [\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\n    \"path\",\n    {\n      d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\",\n      key: \"12rzf8\"\n    }\n  ]\n]);\n\nexport { Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PenLine = createLucideIcon(\"PenLine\", [\n  [\"path\", { d: \"M12 20h9\", key: \"t2du7b\" }],\n  [\"path\", { d: \"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z\", key: \"ymcmye\" }]\n]);\n\nexport { PenLine as default };\n//# sourceMappingURL=pen-line.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PenTool = createLucideIcon(\"PenTool\", [\n  [\"path\", { d: \"m12 19 7-7 3 3-7 7-3-3z\", key: \"rklqx2\" }],\n  [\"path\", { d: \"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z\", key: \"1et58u\" }],\n  [\"path\", { d: \"m2 2 7.586 7.586\", key: \"etlp93\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"2\", key: \"xmgehs\" }]\n]);\n\nexport { PenTool as default };\n//# sourceMappingURL=pen-tool.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Rocket = createLucideIcon(\"Rocket\", [\n  [\n    \"path\",\n    {\n      d: \"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\",\n      key: \"m3kijz\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\",\n      key: \"1fmvmk\"\n    }\n  ],\n  [\"path\", { d: \"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\", key: \"1f8sc4\" }],\n  [\"path\", { d: \"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\", key: \"qeys4\" }]\n]);\n\nexport { Rocket as default };\n//# sourceMappingURL=rocket.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCw = createLucideIcon(\"RotateCw\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8\", key: \"1p45f6\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }]\n]);\n\nexport { RotateCw as default };\n//# sourceMappingURL=rotate-cw.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"Share2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\",\n      key: \"17u4zn\"\n    }\n  ],\n  [\"path\", { d: \"M5 3v4\", key: \"bklmnn\" }],\n  [\"path\", { d: \"M19 17v4\", key: \"iiml17\" }],\n  [\"path\", { d: \"M3 5h4\", key: \"nem4j1\" }],\n  [\"path\", { d: \"M17 19h4\", key: \"lbex7p\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Swords = createLucideIcon(\"Swords\", [\n  [\"polyline\", { points: \"14.5 17.5 3 6 3 3 6 3 17.5 14.5\", key: \"1hfsw2\" }],\n  [\"line\", { x1: \"13\", x2: \"19\", y1: \"19\", y2: \"13\", key: \"1vrmhu\" }],\n  [\"line\", { x1: \"16\", x2: \"20\", y1: \"16\", y2: \"20\", key: \"1bron3\" }],\n  [\"line\", { x1: \"19\", x2: \"21\", y1: \"21\", y2: \"19\", key: \"13pww6\" }],\n  [\"polyline\", { points: \"14.5 6.5 18 3 21 3 21 6 17.5 9.5\", key: \"hbey2j\" }],\n  [\"line\", { x1: \"5\", x2: \"9\", y1: \"14\", y2: \"18\", key: \"1hf58s\" }],\n  [\"line\", { x1: \"7\", x2: \"4\", y1: \"17\", y2: \"20\", key: \"pidxm4\" }],\n  [\"line\", { x1: \"3\", x2: \"5\", y1: \"19\", y2: \"21\", key: \"1pehsh\" }]\n]);\n\nexport { Swords as default };\n//# sourceMappingURL=swords.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Type = createLucideIcon(\"Type\", [\n  [\"polyline\", { points: \"4 7 4 4 20 4 20 7\", key: \"1nosan\" }],\n  [\"line\", { x1: \"9\", x2: \"15\", y1: \"20\", y2: \"20\", key: \"swin9y\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"4\", y2: \"20\", key: \"1tx1rr\" }]\n]);\n\nexport { Type as default };\n//# sourceMappingURL=type.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.364.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","import React, { useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuthStore } from '../../stores/authStore';\nimport { Loader2 } from 'lucide-react';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  requiredRole?: string;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({\n  children,\n  requiredRole,\n}) => {\n  const location = useLocation();\n  const { user, isAuthenticated, isLoading, fetchCurrentUser } = useAuthStore();\n\n  useEffect(() => {\n    // If authenticated but no user data, fetch it\n    if (isAuthenticated && !user && !isLoading) {\n      fetchCurrentUser();\n    }\n  }, [isAuthenticated, user, isLoading, fetchCurrentUser]);\n\n  // Show loading state while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto text-blue-600\" />\n          <p className=\"mt-2 text-gray-600 dark:text-gray-400\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Redirect to login if not authenticated\n  if (!isAuthenticated || !user) {\n    return <Navigate to={`/login?redirect=${location.pathname}`} replace />;\n  }\n\n  // Check role if specified\n  if (requiredRole && user.role !== requiredRole) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600 dark:text-red-400\">\n            Access Denied\n          </h1>\n          <p className=\"mt-2 text-gray-600 dark:text-gray-400\">\n            You don't have permission to access this page.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n};\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport type ToastType = 'error' | 'success' | 'info';\n\ninterface ToastState {\n  id: string;\n  message: string;\n  type: ToastType;\n}\n\ninterface ErrorsState {\n  globalError: Error | null;\n  toast: ToastState;\n  pendingRequests: number;\n}\n\nconst initialState: ErrorsState = {\n  globalError: null,\n  toast: {\n    id: '',\n    message: '',\n    type: 'info',\n  },\n  pendingRequests: 0,\n};\n\nexport const errorsSlice = createSlice({\n  name: 'errors',\n  initialState,\n  reducers: {\n    setGlobalError: (state, action: PayloadAction<Error | null>) => {\n      state.globalError = action.payload;\n\n      // If an error is set and it's not null, also show a toast\n      if (action.payload) {\n        state.toast = {\n          id: uuidv4(),\n          message: action.payload.message || 'An unexpected error occurred',\n          type: 'error',\n        };\n      }\n    },\n    showToast: (\n      state,\n      action: PayloadAction<{ message: string; type?: ToastType }>\n    ) => {\n      state.toast = {\n        id: uuidv4(),\n        message: action.payload.message,\n        type: action.payload.type || 'info',\n      };\n    },\n    clearToast: state => {\n      state.toast = initialState.toast;\n    },\n    incrementPendingRequests: state => {\n      state.pendingRequests += 1;\n    },\n    decrementPendingRequests: state => {\n      state.pendingRequests = Math.max(0, state.pendingRequests - 1);\n    },\n  },\n});\n\nexport const {\n  setGlobalError,\n  showToast,\n  clearToast,\n  incrementPendingRequests,\n  decrementPendingRequests,\n} = errorsSlice.actions;\n\nexport default errorsSlice.reducer;\n","import React, { HTMLAttributes, forwardRef } from 'react';\n\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\n  ({ className = '', ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={`rounded-lg border border-gray-200 bg-white shadow-sm ${className}`}\n        {...props}\n      />\n    );\n  }\n);\nCard.displayName = 'Card';\n\ninterface CardHeaderProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const CardHeader = forwardRef<HTMLDivElement, CardHeaderProps>(\n  ({ className = '', ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={`flex flex-col space-y-1.5 p-6 ${className}`}\n        {...props}\n      />\n    );\n  }\n);\nCardHeader.displayName = 'CardHeader';\n\ninterface CardTitleProps extends HTMLAttributes<HTMLHeadingElement> {}\n\nexport const CardTitle = forwardRef<HTMLHeadingElement, CardTitleProps>(\n  ({ className = '', ...props }, ref) => {\n    return (\n      <h3\n        ref={ref}\n        className={`text-lg font-semibold leading-none tracking-tight ${className}`}\n        {...props}\n      />\n    );\n  }\n);\nCardTitle.displayName = 'CardTitle';\n\ninterface CardDescriptionProps extends HTMLAttributes<HTMLParagraphElement> {}\n\nexport const CardDescription = forwardRef<\n  HTMLParagraphElement,\n  CardDescriptionProps\n>(({ className = '', ...props }, ref) => {\n  return (\n    <p ref={ref} className={`text-sm text-gray-500 ${className}`} {...props} />\n  );\n});\nCardDescription.displayName = 'CardDescription';\n\ninterface CardContentProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const CardContent = forwardRef<HTMLDivElement, CardContentProps>(\n  ({ className = '', ...props }, ref) => {\n    return <div ref={ref} className={`p-6 pt-0 ${className}`} {...props} />;\n  }\n);\nCardContent.displayName = 'CardContent';\n\ninterface CardFooterProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const CardFooter = forwardRef<HTMLDivElement, CardFooterProps>(\n  ({ className = '', ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={`flex items-center p-6 pt-0 ${className}`}\n        {...props}\n      />\n    );\n  }\n);\nCardFooter.displayName = 'CardFooter';\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merges class names with tailwind-merge\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Generates a unique ID for document tracking\n */\nexport function generateId(length: number = 10): string {\n  const characters =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\n/**\n * Format bytes to a human readable string\n */\nexport function formatBytes(bytes: number, decimals: number = 2): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\n/**\n * Format milliseconds to a human readable duration\n */\nexport function formatDuration(ms: number): string {\n  if (ms < 1000) return `${ms}ms`;\n  const seconds = Math.floor(ms / 1000);\n  if (seconds < 60) return `${seconds}s`;\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}m ${remainingSeconds}s`;\n}\n\n/**\n * Truncate text with ellipsis\n */\nexport function truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength) + '...';\n}\n\n// Add any other utility functions the UI components might need\nexport const formatPrice = (price: number) => {\n  return price < 0.01 ? price.toFixed(5) : price.toFixed(2);\n};\n","/**\n * UltrAI Design Tokens System\n * Consistent design values across the application\n */\n\nexport const tokens = {\n  // Spacing Scale (4px base)\n  spacing: {\n    none: '0',\n    xs: '0.25rem', // 4px\n    sm: '0.5rem', // 8px\n    md: '1rem', // 16px\n    lg: '1.5rem', // 24px\n    xl: '2rem', // 32px\n    '2xl': '3rem', // 48px\n    '3xl': '4rem', // 64px\n    '4xl': '6rem', // 96px\n  },\n\n  // Typography Scale\n  typography: {\n    fontFamily: {\n      cyber: ['Orbitron', 'sans-serif'],\n      mono: ['Share Tech Mono', 'monospace'],\n      sans: ['Inter', 'system-ui', 'sans-serif'],\n    },\n    fontSize: {\n      xs: { size: '0.75rem', lineHeight: '1rem' }, // 12px\n      sm: { size: '0.875rem', lineHeight: '1.25rem' }, // 14px\n      base: { size: '1rem', lineHeight: '1.5rem' }, // 16px\n      lg: { size: '1.125rem', lineHeight: '1.75rem' }, // 18px\n      xl: { size: '1.25rem', lineHeight: '1.75rem' }, // 20px\n      '2xl': { size: '1.5rem', lineHeight: '2rem' }, // 24px\n      '3xl': { size: '1.875rem', lineHeight: '2.25rem' }, // 30px\n      '4xl': { size: '2.25rem', lineHeight: '2.5rem' }, // 36px\n      '5xl': { size: '3rem', lineHeight: '1' }, // 48px\n    },\n    fontWeight: {\n      normal: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n      extrabold: 800,\n    },\n    letterSpacing: {\n      tighter: '-0.05em',\n      tight: '-0.025em',\n      normal: '0',\n      wide: '0.025em',\n      wider: '0.05em',\n      widest: '0.1em',\n      ultra: '0.35em', // For ULTRA SYNTHESIS style text\n    },\n  },\n\n  // Border Radius\n  borderRadius: {\n    none: '0',\n    sm: '0.25rem', // 4px\n    base: '0.5rem', // 8px\n    md: '0.75rem', // 12px\n    lg: '1rem', // 16px\n    xl: '1.5rem', // 24px\n    '2xl': '2rem', // 32px\n    full: '9999px',\n  },\n\n  // Shadows\n  shadows: {\n    none: 'none',\n    sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\n    base: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',\n    md: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n    lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\n    xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\n    '2xl': '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n    glass:\n      '0 8px 32px rgba(0, 0, 0, 0.3), inset 0 0 40px rgba(255, 255, 255, 0.02)',\n    neon: (color: string) => `0 0 20px ${color}, 0 0 40px ${color}20`,\n  },\n\n  // Animation Durations\n  duration: {\n    instant: '0ms',\n    fast: '150ms',\n    base: '300ms',\n    slow: '500ms',\n    slower: '700ms',\n    slowest: '1000ms',\n  },\n\n  // Animation Easings\n  easing: {\n    linear: 'linear',\n    ease: 'ease',\n    easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n    easeOut: 'cubic-bezier(0, 0, 0.2, 1)',\n    easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n    bounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n  },\n\n  // Z-Index Scale\n  zIndex: {\n    base: 0,\n    dropdown: 10,\n    sticky: 20,\n    fixed: 30,\n    overlay: 40,\n    modal: 50,\n    popover: 60,\n    tooltip: 70,\n    notification: 80,\n    max: 9999,\n  },\n\n  // Breakpoints\n  breakpoints: {\n    xs: '375px',\n    sm: '640px',\n    md: '768px',\n    lg: '1024px',\n    xl: '1280px',\n    '2xl': '1536px',\n  },\n\n  // Component-specific tokens\n  components: {\n    button: {\n      height: {\n        sm: '2.5rem', // 40px\n        base: '2.75rem', // 44px (touch target)\n        lg: '3rem', // 48px\n      },\n      padding: {\n        sm: '0.75rem 1rem',\n        base: '1rem 1.5rem',\n        lg: '1.25rem 2rem',\n      },\n    },\n    input: {\n      height: '2.75rem', // 44px (touch target)\n      padding: '0.75rem 1rem',\n      borderWidth: '2px',\n    },\n    card: {\n      padding: {\n        sm: '1rem',\n        base: '1.5rem',\n        lg: '2rem',\n      },\n    },\n    modal: {\n      width: {\n        sm: '24rem', // 384px\n        base: '32rem', // 512px\n        lg: '48rem', // 768px\n        xl: '64rem', // 1024px\n      },\n    },\n  },\n\n  // Glass morphism styles\n  glass: {\n    light: {\n      background: 'rgba(255, 255, 255, 0.1)',\n      backdropFilter: 'blur(20px) saturate(180%)',\n      border: '1px solid rgba(255, 255, 255, 0.2)',\n    },\n    medium: {\n      background: 'rgba(0, 0, 0, 0.3)',\n      backdropFilter: 'blur(30px) saturate(180%)',\n      border: '1px solid rgba(255, 255, 255, 0.3)',\n    },\n    dark: {\n      background: 'rgba(0, 0, 0, 0.6)',\n      backdropFilter: 'blur(40px) saturate(180%)',\n      border: '2px solid rgba(255, 255, 255, 0.4)',\n    },\n  },\n};\n\n// Helper functions\nexport const space = (key: keyof typeof tokens.spacing) => tokens.spacing[key];\nexport const fontSize = (key: keyof typeof tokens.typography.fontSize) =>\n  tokens.typography.fontSize[key];\nexport const shadow = (\n  key: keyof typeof tokens.shadows | 'neon',\n  color?: string\n) => {\n  if (key === 'neon' && color) {\n    return tokens.shadows.neon(color);\n  }\n  return tokens.shadows[key as keyof typeof tokens.shadows];\n};\nexport const radius = (key: keyof typeof tokens.borderRadius) =>\n  tokens.borderRadius[key];\nexport const duration = (key: keyof typeof tokens.duration) =>\n  tokens.duration[key];\n\n// Type exports\nexport type SpacingKey = keyof typeof tokens.spacing;\nexport type FontSizeKey = keyof typeof tokens.typography.fontSize;\nexport type BorderRadiusKey = keyof typeof tokens.borderRadius;\nexport type DurationKey = keyof typeof tokens.duration;\nexport type BreakpointKey = keyof typeof tokens.breakpoints;\n","import React, { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '../../lib/utils';\nimport { tokens } from '../../design-tokens/tokens';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?:\n    | 'default'\n    | 'primary'\n    | 'secondary'\n    | 'destructive'\n    | 'outline'\n    | 'ghost'\n    | 'link';\n  size?: 'default' | 'sm' | 'lg' | 'icon';\n  isLoading?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      className,\n      variant = 'default',\n      size = 'default',\n      isLoading = false,\n      disabled,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    // Base styles\n    const baseStyles =\n      'inline-flex items-center justify-center font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed rounded-[var(--btn-radius)] transition-colors';\n\n    // Bridge some token values via CSS variables to avoid large class rewrites\n    const tokenVars = {\n      ['--btn-radius' as any]: tokens.borderRadius.base,\n    } as React.CSSProperties;\n\n    // Variant styles\n    const variantMap = {\n      default: 'bg-gray-900 text-white hover:bg-gray-800',\n      primary: 'bg-blue-600 text-white hover:bg-blue-700',\n      secondary: 'bg-gray-100 text-gray-900 hover:bg-gray-200',\n      destructive: 'bg-red-600 text-white hover:bg-red-700',\n      outline: 'border border-gray-300 bg-transparent hover:bg-gray-100',\n      ghost: 'bg-transparent hover:bg-gray-100',\n      link: 'bg-transparent underline-offset-4 hover:underline text-blue-600',\n    };\n\n    // Size styles - ensuring minimum touch target of 44px height\n    const sizeMap = {\n      default: `min-h-[44px] h-11 py-[${tokens.spacing.sm}] px-[${tokens.spacing.md}]`,\n      sm: `min-h-[44px] h-11 px-[${tokens.spacing.sm}] text-sm`,\n      lg: `min-h-[48px] h-12 px-[${tokens.spacing.lg}] text-lg`,\n      icon: 'min-h-[44px] min-w-[44px] h-11 w-11',\n    };\n\n    // Make sure the variant and size values are valid\n    const variantStyle = variantMap[variant] || variantMap.default;\n    const sizeStyle = sizeMap[size] || sizeMap.default;\n\n    return (\n      <button\n        ref={ref}\n        style={tokenVars}\n        className={cn(baseStyles, variantStyle, sizeStyle, className)}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <span className=\"mr-2\">\n            <svg\n              className=\"animate-spin h-4 w-4 text-current\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              ></circle>\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              ></path>\n            </svg>\n          </span>\n        ) : null}\n        {children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n","// Shim module to provide a stable accessibility import path\n// Re-export ARIA constants and expose a simple screenReader announcer.\n\nexport { ARIA_ROLES, ARIA_STATES } from './aria';\n\ntype Politeness = 'polite' | 'assertive';\n\nfunction getOrCreateLiveRegion(politeness: Politeness): HTMLElement {\n  const id =\n    politeness === 'assertive' ? 'sr-live-assertive' : 'sr-live-polite';\n  let region = document.getElementById(id) as HTMLElement | null;\n  if (!region) {\n    region = document.createElement('div');\n    region.id = id;\n    region.setAttribute('role', 'status');\n    region.setAttribute('aria-live', politeness);\n    region.setAttribute('aria-atomic', 'true');\n    Object.assign(region.style, {\n      position: 'absolute',\n      width: '1px',\n      height: '1px',\n      margin: '-1px',\n      border: '0',\n      padding: '0',\n      overflow: 'hidden',\n      clip: 'rect(0 0 0 0)',\n      clipPath: 'inset(50%)',\n      whiteSpace: 'nowrap',\n    } as CSSStyleDeclaration);\n    document.body.appendChild(region);\n  }\n  return region;\n}\n\nexport const screenReader = {\n  announce(message: string, politeness: Politeness = 'polite'): void {\n    try {\n      const region = getOrCreateLiveRegion(politeness);\n      // Clear then set to ensure announcement\n      region.textContent = '';\n      // Slight delay to allow AT to detect change\n      window.setTimeout(() => {\n        region!.textContent = message;\n      }, 30);\n    } catch (_e) {\n      // No-op in non-DOM environments\n    }\n  },\n};\n\n/**\n * Accessibility utilities for WCAG compliance\n */\n\nexport const a11yLabels = {\n  // Navigation\n  mainNavigation: 'Main navigation',\n  skipToContent: 'Skip to main content',\n  closeModal: 'Close modal',\n\n  // Theme\n  themeSelector: 'Select visual theme',\n  selectTheme: (theme: string) => `Select ${theme} theme`,\n  currentTheme: (theme: string) => `Current theme: ${theme}`,\n\n  // Wizard steps\n  wizardProgress: 'Analysis wizard progress',\n  currentStep: (step: number, total: number) => `Step ${step} of ${total}`,\n  goToStep: (step: number) => `Go to step ${step}`,\n  nextStep: 'Continue to next step',\n  previousStep: 'Go back to previous step',\n\n  // Form elements\n  selectGoal: (goal: string) => `Select goal: ${goal}`,\n  selectedGoal: (goal: string) => `${goal} goal selected`,\n  queryInput: 'Enter your analysis query',\n  characterCount: (current: number, max: number) =>\n    `${current} of ${max} characters`,\n\n  // Model selection\n  selectModel: (model: string) => `Select AI model: ${model}`,\n  selectedModel: (model: string) => `${model} model selected`,\n  modelStatus: (model: string, status: string) =>\n    `${model} model status: ${status}`,\n  autoModelSelection: 'Automatic model selection based on your preferences',\n  manualModelSelection: 'Manually select AI models',\n\n  // Receipt\n  receiptTotal: (amount: string) => `Total cost: ${amount}`,\n  receiptItem: (item: string, cost: string) => `${item}: ${cost}`,\n  expandReceipt: 'Expand receipt details',\n  collapseReceipt: 'Collapse receipt details',\n\n  // Processing\n  processingStatus: 'Analysis processing status',\n  processingPhase: (phase: string) => `Processing phase: ${phase}`,\n  processingComplete: 'Analysis complete',\n  viewResults: 'View analysis results',\n  startNewAnalysis: 'Start a new analysis',\n\n  // Status indicators\n  systemOnline: 'System status: Online',\n  systemOffline: 'System status: Offline',\n  modelsAvailable: (count: number, total: number) =>\n    `${count} of ${total} models available`,\n  latency: (time: string) => `Average latency: ${time}`,\n\n  // Actions\n  submit: 'Submit for analysis',\n  cancel: 'Cancel',\n  reset: 'Reset form',\n  copy: 'Copy to clipboard',\n  download: 'Download results',\n  share: 'Share results',\n\n  // Loading states\n  loading: 'Loading...',\n  loadingStep: (step: string) => `Loading ${step}...`,\n\n  // Errors\n  error: 'Error',\n  errorMessage: (message: string) => `Error: ${message}`,\n  retry: 'Retry',\n\n  // Success\n  success: 'Success',\n  successMessage: (message: string) => `Success: ${message}`,\n};\n\n/**\n * Generate ARIA live region announcement\n */\nexport const announce = (\n  message: string,\n  priority: 'polite' | 'assertive' = 'polite'\n) => {\n  const announcement = document.createElement('div');\n  announcement.setAttribute('role', 'status');\n  announcement.setAttribute('aria-live', priority);\n  announcement.setAttribute('aria-atomic', 'true');\n  announcement.className = 'sr-only';\n  announcement.textContent = message;\n\n  document.body.appendChild(announcement);\n\n  // Remove after announcement\n  setTimeout(() => {\n    document.body.removeChild(announcement);\n  }, 1000);\n};\n\n/**\n * Screen reader only class for Tailwind\n */\nexport const srOnly = 'sr-only';\n\n/**\n * Focus management utilities\n */\nexport const focusManagement = {\n  // Trap focus within a container\n  trapFocus: (container: HTMLElement) => {\n    const focusableElements = container.querySelectorAll(\n      'a[href], button, textarea, input[type=\"text\"], input[type=\"radio\"], input[type=\"checkbox\"], select'\n    );\n    const firstFocusable = focusableElements[0] as HTMLElement;\n    const lastFocusable = focusableElements[\n      focusableElements.length - 1\n    ] as HTMLElement;\n\n    container.addEventListener('keydown', e => {\n      if (e.key === 'Tab') {\n        if (e.shiftKey && document.activeElement === firstFocusable) {\n          e.preventDefault();\n          lastFocusable.focus();\n        } else if (!e.shiftKey && document.activeElement === lastFocusable) {\n          e.preventDefault();\n          firstFocusable.focus();\n        }\n      }\n    });\n\n    firstFocusable?.focus();\n  },\n\n  // Return focus to a specific element\n  returnFocus: (element: HTMLElement) => {\n    element.focus();\n  },\n};\n\n/**\n * Keyboard navigation helpers\n */\nexport const keyboardNav = {\n  isEnter: (e: KeyboardEvent) => e.key === 'Enter',\n  isSpace: (e: KeyboardEvent) => e.key === ' ',\n  isEscape: (e: KeyboardEvent) => e.key === 'Escape',\n  isArrowUp: (e: KeyboardEvent) => e.key === 'ArrowUp',\n  isArrowDown: (e: KeyboardEvent) => e.key === 'ArrowDown',\n  isArrowLeft: (e: KeyboardEvent) => e.key === 'ArrowLeft',\n  isArrowRight: (e: KeyboardEvent) => e.key === 'ArrowRight',\n  isTab: (e: KeyboardEvent) => e.key === 'Tab',\n};\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { connect } from 'react-redux';\nimport { setGlobalError } from '../features/errors/errorsSlice';\nimport { Card } from './ui/card';\nimport { Button } from './ui/button';\nimport { screenReader } from '../utils/accessibility';\nimport { ARIA_ROLES } from '../utils/accessibility';\n\ninterface Props {\n  children: ReactNode;\n  setGlobalError: (error: string | null) => void;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: React.ErrorInfo | null;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n    error: null,\n    errorInfo: null,\n  };\n\n  public static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('Uncaught error:', error, errorInfo);\n    this.props.setGlobalError(error.message);\n    this.setState({\n      error,\n      errorInfo,\n    });\n    screenReader.announce(\n      'An error has occurred. Please try again or contact support.',\n      'assertive'\n    );\n  }\n\n  handleRetry = (): void => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null,\n    });\n    this.props.setGlobalError(null);\n    screenReader.announce('Retrying...', 'polite');\n  };\n\n  public render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <Card className=\"w-full p-4\">\n          <div role=\"alert\" aria-live=\"assertive\" className=\"space-y-4\">\n            <h2 className=\"text-xl font-semibold text-red-600\">\n              Something went wrong\n            </h2>\n            <div className=\"space-y-2\">\n              <p className=\"text-gray-700\">\n                {this.state.error?.message || 'An unexpected error occurred'}\n              </p>\n              {process.env.NODE_ENV === 'development' &&\n                this.state.errorInfo && (\n                  <details className=\"mt-4\">\n                    <summary className=\"cursor-pointer text-sm text-gray-500\">\n                      Error details\n                    </summary>\n                    <pre\n                      className=\"mt-2 p-4 bg-gray-100 rounded-lg overflow-auto text-sm\"\n                      aria-label=\"Error stack trace\"\n                    >\n                      {this.state.errorInfo.componentStack}\n                    </pre>\n                  </details>\n                )}\n            </div>\n            <div className=\"flex space-x-4\">\n              <Button\n                onClick={this.handleRetry}\n                className=\"bg-blue-600 text-white hover:bg-blue-700\"\n                aria-label=\"Retry loading the component\"\n              >\n                Try again\n              </Button>\n              <Button\n                onClick={() => window.location.reload()}\n                className=\"bg-gray-600 text-white hover:bg-gray-700\"\n                aria-label=\"Reload the page\"\n              >\n                Reload page\n              </Button>\n            </div>\n          </div>\n        </Card>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// Export unconnected class for testing\nexport { ErrorBoundary as UnconnectedErrorBoundary };\n\nexport default connect(null, { setGlobalError })(ErrorBoundary);\n","import React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from 'react';\n\n// Theme types\nexport type ThemeMode = 'light' | 'dark';\nexport type ThemeStyle = 'cyberpunk' | 'classic' | 'corporate';\nexport type AccentColor = 'cyan' | 'purple' | 'orange' | 'green' | 'pink';\n\nexport interface ThemePreferences {\n  mode: ThemeMode;\n  style: ThemeStyle;\n  accentColor: AccentColor;\n  contrastLevel: number; // 1-5, where 5 is highest contrast\n  animationsEnabled: boolean;\n  reducedMotion: boolean;\n  fontSize: number; // 0.8-1.2 scaling factor\n}\n\nexport interface BrandingOptions {\n  primaryColor?: string;\n  secondaryColor?: string;\n  logoUrl?: string;\n  companyName?: string;\n  customFontFamily?: string;\n}\n\nexport interface ThemeContextType {\n  theme: ThemePreferences;\n  branding: BrandingOptions;\n  setTheme: (theme: Partial<ThemePreferences>) => void;\n  setBranding: (branding: Partial<BrandingOptions>) => void;\n  resetToDefaults: () => void;\n  toggleMode: () => void;\n}\n\n// Default theme preferences\nexport const defaultTheme: ThemePreferences = {\n  mode: 'dark', // Default to dark mode based on your mockups\n  style: 'cyberpunk', // Set the cyberpunk style as default\n  accentColor: 'cyan',\n  contrastLevel: 3,\n  animationsEnabled: true,\n  reducedMotion: false,\n  fontSize: 1,\n};\n\n// Default branding\nexport const defaultBranding: BrandingOptions = {\n  primaryColor: '#00FFFF', // Cyan\n  secondaryColor: '#FF9D00', // Orange\n  logoUrl: '',\n  companyName: 'Ultra AI',\n  customFontFamily: '',\n};\n\n// Create the context with a default value\nconst ThemeContext = createContext<ThemeContextType>({\n  theme: defaultTheme,\n  branding: defaultBranding,\n  setTheme: () => {},\n  setBranding: () => {},\n  resetToDefaults: () => {},\n  toggleMode: () => {},\n});\n\n// Local storage keys\nconst THEME_STORAGE_KEY = 'ultraAI_theme_preferences';\nconst BRANDING_STORAGE_KEY = 'ultraAI_branding_options';\n\ninterface ThemeProviderProps {\n  children: ReactNode;\n  initialTheme?: Partial<ThemePreferences>;\n  initialBranding?: Partial<BrandingOptions>;\n}\n\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  initialTheme = {},\n  initialBranding = {},\n}) => {\n  // Get initial theme from localStorage or use defaults + passed props\n  const getInitialTheme = (): ThemePreferences => {\n    try {\n      const storedTheme = localStorage.getItem(THEME_STORAGE_KEY);\n\n      if (storedTheme) {\n        // Merge stored theme with defaults to ensure all properties exist\n        return { ...defaultTheme, ...JSON.parse(storedTheme), ...initialTheme };\n      }\n\n      // If no stored theme, check system preference for dark mode\n      if (\n        window.matchMedia &&\n        window.matchMedia('(prefers-color-scheme: dark)').matches\n      ) {\n        return { ...defaultTheme, mode: 'dark', ...initialTheme };\n      }\n\n      return { ...defaultTheme, ...initialTheme };\n    } catch (error) {\n      console.error('Error loading theme from localStorage:', error);\n      return { ...defaultTheme, ...initialTheme };\n    }\n  };\n\n  // Get initial branding from localStorage\n  const getInitialBranding = (): BrandingOptions => {\n    try {\n      const storedBranding = localStorage.getItem(BRANDING_STORAGE_KEY);\n\n      if (storedBranding) {\n        return {\n          ...defaultBranding,\n          ...JSON.parse(storedBranding),\n          ...initialBranding,\n        };\n      }\n\n      return { ...defaultBranding, ...initialBranding };\n    } catch (error) {\n      console.error('Error loading branding from localStorage:', error);\n      return { ...defaultBranding, ...initialBranding };\n    }\n  };\n\n  // State initialization\n  const [theme, setThemeState] = useState<ThemePreferences>(getInitialTheme);\n  const [branding, setBrandingState] =\n    useState<BrandingOptions>(getInitialBranding);\n\n  // Update theme handler\n  const setTheme = (newTheme: Partial<ThemePreferences>) => {\n    setThemeState(prevTheme => {\n      const updatedTheme = { ...prevTheme, ...newTheme };\n\n      // Save to localStorage\n      try {\n        localStorage.setItem(THEME_STORAGE_KEY, JSON.stringify(updatedTheme));\n      } catch (error) {\n        console.error('Error saving theme to localStorage:', error);\n      }\n\n      return updatedTheme;\n    });\n  };\n\n  // Update branding handler\n  const setBranding = (newBranding: Partial<BrandingOptions>) => {\n    setBrandingState(prevBranding => {\n      const updatedBranding = { ...prevBranding, ...newBranding };\n\n      // Save to localStorage\n      try {\n        localStorage.setItem(\n          BRANDING_STORAGE_KEY,\n          JSON.stringify(updatedBranding)\n        );\n      } catch (error) {\n        console.error('Error saving branding to localStorage:', error);\n      }\n\n      return updatedBranding;\n    });\n  };\n\n  // Reset to defaults\n  const resetToDefaults = () => {\n    setThemeState(defaultTheme);\n    setBrandingState(defaultBranding);\n\n    // Clear localStorage\n    try {\n      localStorage.removeItem(THEME_STORAGE_KEY);\n      localStorage.removeItem(BRANDING_STORAGE_KEY);\n    } catch (error) {\n      console.error('Error clearing theme from localStorage:', error);\n    }\n  };\n\n  // Toggle between light and dark mode\n  const toggleMode = () => {\n    setTheme({ mode: theme.mode === 'light' ? 'dark' : 'light' });\n  };\n\n  // Listen for system theme preference changes\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n\n    const handleChange = (e: MediaQueryListEvent) => {\n      // Only update if user hasn't explicitly set a preference\n      if (!localStorage.getItem(THEME_STORAGE_KEY)) {\n        setThemeState(prev => ({\n          ...prev,\n          mode: e.matches ? 'dark' : 'light',\n        }));\n      }\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n\n    return () => {\n      mediaQuery.removeEventListener('change', handleChange);\n    };\n  }, []);\n\n  // Apply CSS variables when theme changes\n  useEffect(() => {\n    // Add mode class to document\n    document.documentElement.classList.remove('light', 'dark');\n    document.documentElement.classList.add(theme.mode);\n\n    // Add theme style class\n    document.documentElement.classList.remove(\n      'cyberpunk',\n      'classic',\n      'corporate'\n    );\n    document.documentElement.classList.add(theme.style);\n\n    // Set reduced motion if enabled\n    if (theme.reducedMotion) {\n      document.documentElement.classList.add('reduced-motion');\n    } else {\n      document.documentElement.classList.remove('reduced-motion');\n    }\n\n    // Set font size\n    document.documentElement.style.setProperty(\n      '--font-size-factor',\n      theme.fontSize.toString()\n    );\n\n    // Set contrast level\n    document.documentElement.style.setProperty(\n      '--contrast-level',\n      theme.contrastLevel.toString()\n    );\n\n    // Apply accent color\n    document.documentElement.style.setProperty(\n      '--accent-h',\n      getAccentHue(theme.accentColor)\n    );\n\n    // Apply branding\n    if (branding.primaryColor) {\n      document.documentElement.style.setProperty(\n        '--brand-primary',\n        branding.primaryColor\n      );\n    }\n    if (branding.secondaryColor) {\n      document.documentElement.style.setProperty(\n        '--brand-secondary',\n        branding.secondaryColor\n      );\n    }\n    if (branding.customFontFamily) {\n      document.documentElement.style.setProperty(\n        '--font-family',\n        branding.customFontFamily\n      );\n    }\n  }, [theme, branding]);\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        theme,\n        branding,\n        setTheme,\n        setBranding,\n        resetToDefaults,\n        toggleMode,\n      }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n// Helper function to get hue value for different accent colors\nfunction getAccentHue(accentColor: AccentColor): string {\n  switch (accentColor) {\n    case 'cyan':\n      return '180';\n    case 'purple':\n      return '270';\n    case 'orange':\n      return '30';\n    case 'green':\n      return '120';\n    case 'pink':\n      return '330';\n    default:\n      return '180'; // Default to cyan\n  }\n}\n\n// Custom hook for accessing the theme context\nexport const useTheme = () => useContext(ThemeContext);\n\nexport default ThemeContext;\n","/**\n * Theme definitions for Ultra AI\n *\n * This file contains the CSS variable definitions for different themes.\n * These themes are applied through the ThemeProvider component.\n */\n\n// Theme interfaces\nexport interface ThemeColors {\n  background: string;\n  foreground: string;\n  card: string;\n  cardForeground: string;\n  popover: string;\n  popoverForeground: string;\n  primary: string;\n  primaryForeground: string;\n  secondary: string;\n  secondaryForeground: string;\n  muted: string;\n  mutedForeground: string;\n  accent: string;\n  accentForeground: string;\n  destructive: string;\n  destructiveForeground: string;\n  border: string;\n  input: string;\n  ring: string;\n  // Theme-specific additional variables\n  neonPrimary?: string;\n  neonSecondary?: string;\n  backdropFilter?: string;\n  cardOpacity?: string;\n}\n\n// Shared values\nconst baseRadius = '0.5rem';\nconst baseFontFamily =\n  'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif';\n\n// Cyberpunk Dark Theme (Night)\nexport const cyberpunkDarkTheme: ThemeColors = {\n  // Base colors\n  background: '224 71% 4%', // Deep blue-black\n  foreground: '213 31% 91%', // Bright white-blue\n\n  // Card & popover\n  card: '222 47% 11%', // Dark blue-gray\n  cardForeground: '210 40% 98%', // Bright white\n  popover: '224 71% 4%', // Same as background\n  popoverForeground: '215 20.2% 65.1%', // Light gray-blue\n\n  // Primary & secondary\n  primary: '180 100% 60%', // Bright cyan (neon)\n  primaryForeground: '220 47.4% 11.2%', // Dark blue\n  secondary: '30 100% 60%', // Bright orange-gold\n  secondaryForeground: '210 40% 98%', // Bright white\n\n  // Supporting colors\n  muted: '223 47% 11%', // Dark muted blue\n  mutedForeground: '215.4 16.3% 56.9%', // Medium gray-blue\n  accent: '270 100% 60%', // Vibrant purple\n  accentForeground: '210 40% 98%', // Bright white\n  destructive: '0 63% 31%', // Dark red\n  destructiveForeground: '210 40% 98%', // Bright white\n\n  // UI elements\n  border: '216 34% 17%', // Dark border\n  input: '216 34% 17%', // Dark input\n  ring: '180 100% 50%', // Cyan ring\n\n  // Theme-specific\n  neonPrimary: '180 100% 60%', // Neon cyan\n  neonSecondary: '30 100% 60%', // Neon orange-gold\n  backdropFilter: 'blur(8px)',\n  cardOpacity: '0.8',\n};\n\n// Cyberpunk Light Theme (Day)\nexport const cyberpunkLightTheme: ThemeColors = {\n  // Base colors\n  background: '210 40% 96.1%', // Light blue-gray\n  foreground: '222.2 47.4% 11.2%', // Dark blue-gray\n\n  // Card & popover\n  card: '0 0% 100%', // White\n  cardForeground: '222.2 47.4% 11.2%', // Dark blue-gray\n  popover: '0 0% 100%', // White\n  popoverForeground: '222.2 47.4% 11.2%', // Dark blue-gray\n\n  // Primary & secondary\n  primary: '270 80% 50%', // Vibrant purple (matching billboard in daytime mockup)\n  primaryForeground: '210 40% 98%', // White\n  secondary: '180 100% 50%', // Bright cyan\n  secondaryForeground: '222.2 47.4% 11.2%', // Dark blue\n\n  // Supporting colors\n  muted: '210 40% 96.1%', // Light blue-gray\n  mutedForeground: '215.4 16.3% 46.9%', // Medium gray\n  accent: '262.1 83.3% 57.8%', // Purple\n  accentForeground: '210 40% 98%', // White\n  destructive: '0 84.2% 60.2%', // Bright red\n  destructiveForeground: '210 40% 98%', // White\n\n  // UI elements\n  border: '214.3 31.8% 91.4%', // Light border\n  input: '214.3 31.8% 91.4%', // Light input\n  ring: '262.1 83.3% 57.8%', // Purple\n\n  // Theme-specific\n  neonPrimary: '270 80% 50%', // Purple (for daytime billboard)\n  neonSecondary: '180 100% 50%', // Cyan text\n  backdropFilter: 'blur(4px)',\n  cardOpacity: '0.9',\n};\n\n// Corporate Theme - Dark\nexport const corporateDarkTheme: ThemeColors = {\n  // Base colors\n  background: '220 14% 12%', // Dark gray\n  foreground: '0 0% 95%', // Off-white\n\n  // Card & popover\n  card: '220 13% 18%', // Dark gray\n  cardForeground: '0 0% 95%', // Off-white\n  popover: '220 13% 18%', // Dark gray\n  popoverForeground: '0 0% 95%', // Off-white\n\n  // Primary & secondary\n  primary: '210 100% 50%', // Blue\n  primaryForeground: '0 0% 98%', // White\n  secondary: '210 40% 30%', // Dark blue\n  secondaryForeground: '0 0% 98%', // White\n\n  // Supporting colors\n  muted: '220 13% 23%', // Slightly lighter gray\n  mutedForeground: '220 10% 60%', // Medium gray\n  accent: '210 40% 40%', // Medium blue\n  accentForeground: '0 0% 98%', // White\n  destructive: '0 70% 50%', // Red\n  destructiveForeground: '0 0% 98%', // White\n\n  // UI elements\n  border: '220 13% 25%', // Border\n  input: '220 13% 25%', // Input\n  ring: '210 100% 50%', // Blue\n};\n\n// Corporate Theme - Light\nexport const corporateLightTheme: ThemeColors = {\n  // Base colors\n  background: '0 0% 98%', // Off-white\n  foreground: '224 71% 4%', // Almost black\n\n  // Card & popover\n  card: '0 0% 100%', // White\n  cardForeground: '224 71% 4%', // Almost black\n  popover: '0 0% 100%', // White\n  popoverForeground: '224 71% 4%', // Almost black\n\n  // Primary & secondary\n  primary: '210 100% 50%', // Blue\n  primaryForeground: '0 0% 98%', // White\n  secondary: '220 13% 91%', // Light gray\n  secondaryForeground: '220 70% 40%', // Blue-gray\n\n  // Supporting colors\n  muted: '220 13% 95%', // Very light gray\n  mutedForeground: '220 10% 40%', // Medium-dark gray\n  accent: '220 13% 91%', // Light gray\n  accentForeground: '220 70% 40%', // Blue-gray\n  destructive: '0 70% 50%', // Red\n  destructiveForeground: '0 0% 98%', // White\n\n  // UI elements\n  border: '220 13% 85%', // Light gray border\n  input: '220 13% 85%', // Light gray input\n  ring: '210 100% 50%', // Blue\n};\n\n// Classic Theme - Dark\nexport const classicDarkTheme: ThemeColors = {\n  // Base colors\n  background: '222.2 84% 4.9%', // Black\n  foreground: '210 40% 98%', // White\n\n  // Card & popover\n  card: '222.2 84% 4.9%', // Black\n  cardForeground: '210 40% 98%', // White\n  popover: '222.2 84% 4.9%', // Black\n  popoverForeground: '210 40% 98%', // White\n\n  // Primary & secondary\n  primary: '210 40% 98%', // White\n  primaryForeground: '222.2 47.4% 11.2%', // Dark gray\n  secondary: '217.2 32.6% 17.5%', // Dark gray\n  secondaryForeground: '210 40% 98%', // White\n\n  // Supporting colors\n  muted: '217.2 32.6% 17.5%', // Dark gray\n  mutedForeground: '215 20.2% 65.1%', // Light gray\n  accent: '217.2 32.6% 17.5%', // Dark gray\n  accentForeground: '210 40% 98%', // White\n  destructive: '0 62.8% 30.6%', // Dark red\n  destructiveForeground: '210 40% 98%', // White\n\n  // UI elements\n  border: '217.2 32.6% 17.5%', // Dark gray\n  input: '217.2 32.6% 17.5%', // Dark gray\n  ring: '212.7 26.8% 83.9%', // Light gray\n};\n\n// Classic Theme - Light\nexport const classicLightTheme: ThemeColors = {\n  // Base colors\n  background: '0 0% 100%', // White\n  foreground: '222.2 84% 4.9%', // Black\n\n  // Card & popover\n  card: '0 0% 100%', // White\n  cardForeground: '222.2 84% 4.9%', // Black\n  popover: '0 0% 100%', // White\n  popoverForeground: '222.2 84% 4.9%', // Black\n\n  // Primary & secondary\n  primary: '222.2 47.4% 11.2%', // Dark gray\n  primaryForeground: '210 40% 98%', // White\n  secondary: '210 40% 96.1%', // Light gray\n  secondaryForeground: '222.2 47.4% 11.2%', // Dark gray\n\n  // Supporting colors\n  muted: '210 40% 96.1%', // Light gray\n  mutedForeground: '215.4 16.3% 46.9%', // Medium gray\n  accent: '210 40% 96.1%', // Light gray\n  accentForeground: '222.2 47.4% 11.2%', // Dark gray\n  destructive: '0 84.2% 60.2%', // Red\n  destructiveForeground: '210 40% 98%', // White\n\n  // UI elements\n  border: '214.3 31.8% 91.4%', // Very light gray\n  input: '214.3 31.8% 91.4%', // Very light gray\n  ring: '222.2 84% 4.9%', // Black\n};\n\n// Export theme map\nexport const themeMap = {\n  'cyberpunk-dark': cyberpunkDarkTheme,\n  'cyberpunk-light': cyberpunkLightTheme,\n  'corporate-dark': corporateDarkTheme,\n  'corporate-light': corporateLightTheme,\n  'classic-dark': classicDarkTheme,\n  'classic-light': classicLightTheme,\n};\n","import React, { ReactNode, useEffect } from 'react';\nimport { ThemeProvider, useTheme, ThemeMode, ThemeStyle } from './ThemeContext';\nimport {\n  themeMap,\n  cyberpunkDarkTheme,\n  cyberpunkLightTheme,\n  corporateDarkTheme,\n  corporateLightTheme,\n  classicDarkTheme,\n  classicLightTheme,\n} from './theme-definitions';\n\ninterface ThemeRegistryProps {\n  children: ReactNode;\n}\n\n/**\n * Applies the CSS variables for a given theme and mode\n */\nconst generateCssVariables = (theme: any, selector: string) => {\n  let cssVars = '';\n\n  // Convert HSL values in theme to CSS variables\n  Object.entries(theme).forEach(([key, value]) => {\n    if (\n      typeof value === 'string' &&\n      !key.includes('Filter') &&\n      !key.includes('Opacity')\n    ) {\n      cssVars += `  --${key.replace(/([A-Z])/g, '-$1').toLowerCase()}: ${value};\\n`;\n    }\n  });\n\n  return `${selector} {\\n${cssVars}}\\n`;\n};\n\n/**\n * Generates the CSS styles for all themes\n */\nconst ThemeStyles = () => {\n  // Generate CSS for all themes\n  const themeStyles = `\n  /* Base styles and CSS variables */\n  :root {\n    --font-size-factor: 1;\n    --contrast-level: 3;\n    --font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n    --radius: 0.5rem;\n    --brand-primary: #00FFFF;\n    --brand-secondary: #FF9D00;\n\n    /* Default transitions */\n    --transition-standard: 0.2s ease;\n    --transition-long: 0.5s ease;\n\n    /* Animation properties for reduced motion preferences */\n    --animation-duration: 0.5s;\n    --animation-timing: ease;\n  }\n\n  /* Font size adjustments */\n  html {\n    font-size: calc(16px * var(--font-size-factor));\n  }\n\n  /* Reduced motion preference */\n  @media (prefers-reduced-motion) {\n    :root {\n      --animation-duration: 0.001s;\n      --animation-timing: step-end;\n      --transition-standard: 0s;\n      --transition-long: 0s;\n    }\n  }\n\n  .reduced-motion * {\n    transition-duration: 0.001s !important;\n    animation-duration: 0.001s !important;\n    transition-timing-function: step-end !important;\n    animation-timing-function: step-end !important;\n  }\n\n  /* Neon text effect for cyberpunk theme */\n  .cyberpunk .neon-text {\n    text-shadow:\n      0 0 5px hsl(var(--neon-primary)),\n      0 0 10px hsl(var(--neon-primary)),\n      0 0 20px hsl(var(--neon-primary)),\n      0 0 40px hsl(var(--neon-primary));\n    transition: text-shadow var(--transition-long);\n  }\n\n  .cyberpunk .neon-border {\n    box-shadow:\n      0 0 5px hsl(var(--neon-primary)),\n      0 0 10px hsl(var(--neon-primary));\n    border-color: hsl(var(--neon-primary));\n  }\n\n  .cyberpunk .neon-secondary {\n    text-shadow:\n      0 0 5px hsl(var(--neon-secondary)),\n      0 0 10px hsl(var(--neon-secondary)),\n      0 0 15px hsl(var(--neon-secondary));\n  }\n\n  /* Glass effect for cyberpunk theme */\n  .cyberpunk .glass {\n    background: linear-gradient(\n      135deg,\n      hsla(var(--background), 0.6) 0%,\n      hsla(var(--background), 0.3) 100%\n    );\n    backdrop-filter: var(--backdrop-filter);\n    -webkit-backdrop-filter: var(--backdrop-filter);\n    border: 1px solid hsla(var(--border), 0.3);\n  }\n\n  /* Theme definitions */\n  ${generateCssVariables(cyberpunkDarkTheme, '.dark.cyberpunk')}\n  ${generateCssVariables(cyberpunkLightTheme, '.light.cyberpunk')}\n  ${generateCssVariables(corporateDarkTheme, '.dark.corporate')}\n  ${generateCssVariables(corporateLightTheme, '.light.corporate')}\n  ${generateCssVariables(classicDarkTheme, '.dark.classic')}\n  ${generateCssVariables(classicLightTheme, '.light.classic')}\n\n  /* High contrast overrides for accessibility */\n  .contrast-high {\n    --contrast-level: 5;\n    --border: 0 0% 0%;\n    --foreground: 0 0% 0%;\n    --background: 0 0% 100%;\n    --primary: 210 100% 30%;\n    --primary-foreground: 0 0% 100%;\n    --secondary: 0 0% 0%;\n    --secondary-foreground: 0 0% 100%;\n  }\n\n  .dark.contrast-high {\n    --contrast-level: 5;\n    --border: 0 0% 100%;\n    --foreground: 0 0% 100%;\n    --background: 0 0% 0%;\n    --primary: 210 100% 70%;\n    --primary-foreground: 0 0% 0%;\n    --secondary: 0 0% 100%;\n    --secondary-foreground: 0 0% 0%;\n  }\n\n  /* Custom accent color support */\n  .accent-cyan {\n    --accent: 180 100% 50%;\n    --accent-foreground: 0 0% 0%;\n    --neon-primary: 180 100% 60%;\n  }\n\n  .accent-purple {\n    --accent: 270 100% 60%;\n    --accent-foreground: 0 0% 100%;\n    --neon-primary: 270 100% 70%;\n  }\n\n  .accent-orange {\n    --accent: 30 100% 50%;\n    --accent-foreground: 0 0% 0%;\n    --neon-primary: 30 100% 60%;\n  }\n\n  .accent-green {\n    --accent: 120 100% 40%;\n    --accent-foreground: 0 0% 0%;\n    --neon-primary: 120 100% 50%;\n  }\n\n  .accent-pink {\n    --accent: 330 100% 60%;\n    --accent-foreground: 0 0% 100%;\n    --neon-primary: 330 100% 70%;\n  }\n\n  /* Branding overrides */\n  .custom-brand {\n    --primary: var(--brand-primary);\n    --secondary: var(--brand-secondary);\n  }\n  `;\n\n  return <style>{themeStyles}</style>;\n};\n\n/**\n * ThemeRegistry component that provides theme context and CSS variable definitions\n */\nexport const ThemeRegistry: React.FC<ThemeRegistryProps> = ({ children }) => {\n  return (\n    <ThemeProvider>\n      <ThemeRegistryContent>{children}</ThemeRegistryContent>\n    </ThemeProvider>\n  );\n};\n\n/**\n * Internal content component that uses the theme context\n */\nconst ThemeRegistryContent: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const { theme } = useTheme();\n\n  // Apply body classes when theme changes\n  useEffect(() => {\n    // Add contrast class if high contrast is enabled\n    if (theme.contrastLevel >= 4) {\n      document.body.classList.add('contrast-high');\n    } else {\n      document.body.classList.remove('contrast-high');\n    }\n\n    // Add accent color class\n    document.body.classList.remove(\n      'accent-cyan',\n      'accent-purple',\n      'accent-orange',\n      'accent-green',\n      'accent-pink'\n    );\n    document.body.classList.add(`accent-${theme.accentColor}`);\n  }, [theme]);\n\n  return (\n    <>\n      <ThemeStyles />\n      {children}\n    </>\n  );\n};\n\nexport default ThemeRegistry;\n","import React from 'react';\nimport { useTheme } from './ThemeContext';\n\ninterface DayNightToggleProps {\n  className?: string;\n  size?: 'small' | 'medium' | 'large' | 'sm';\n  showLabel?: boolean;\n}\n\nconst DayNightToggle: React.FC<DayNightToggleProps> = ({\n  className = '',\n  size = 'medium',\n  showLabel = false,\n}) => {\n  const { theme, toggleMode } = useTheme();\n  const isDark = theme.mode === 'dark';\n\n  // Size variants\n  const sizeMap = {\n    small: {\n      button: 'w-8 h-8',\n      icon: 'w-4 h-4',\n    },\n    medium: {\n      button: 'w-10 h-10',\n      icon: 'w-5 h-5',\n    },\n    large: {\n      button: 'w-12 h-12',\n      icon: 'w-6 h-6',\n    },\n    // Add fallback for 'sm' that maps to 'small'\n    sm: {\n      button: 'w-8 h-8',\n      icon: 'w-4 h-4',\n    },\n  };\n\n  // Add a fallback to medium size if the provided size doesn't exist in sizeMap\n  const { button: buttonSize, icon: iconSize } =\n    sizeMap[size] || sizeMap.medium;\n\n  return (\n    <div className={`flex items-center ${className}`}>\n      {showLabel && (\n        <span className=\"mr-2 text-sm text-foreground\">\n          {isDark ? 'Night' : 'Day'}\n        </span>\n      )}\n\n      <button\n        onClick={toggleMode}\n        className={`${buttonSize} relative rounded-full flex items-center justify-center transition-all duration-500 overflow-hidden focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50`}\n        aria-label={`Switch to ${isDark ? 'light' : 'dark'} theme`}\n        title={`Switch to ${isDark ? 'day' : 'night'} mode`}\n      >\n        <div\n          className={`absolute inset-0 transition-colors duration-500 ${\n            isDark ? 'bg-gray-900' : 'bg-blue-100'\n          }`}\n        />\n\n        {/* Day/night background graphics */}\n        {isDark ? (\n          <>\n            {/* Stars */}\n            <div className=\"absolute inset-0 overflow-hidden opacity-80\">\n              <div className=\"absolute h-1 w-1 rounded-full bg-white top-1 left-2\" />\n              <div className=\"absolute h-1 w-1 rounded-full bg-white top-3 left-7\" />\n              <div className=\"absolute h-0.5 w-0.5 rounded-full bg-white top-5 left-3\" />\n              <div className=\"absolute h-0.5 w-0.5 rounded-full bg-white top-2 left-5\" />\n              <div className=\"absolute h-0.5 w-0.5 rounded-full bg-white top-6 left-8\" />\n            </div>\n          </>\n        ) : (\n          <>\n            {/* Clouds */}\n            <div className=\"absolute inset-0 overflow-hidden opacity-70\">\n              <div className=\"absolute h-2 w-4 rounded-full bg-white top-1 left-1\" />\n              <div className=\"absolute h-1.5 w-3 rounded-full bg-white top-5 left-6\" />\n            </div>\n          </>\n        )}\n\n        {/* Sun/Moon Icons */}\n        <div className={`relative ${iconSize} transition-all duration-300`}>\n          {isDark ? (\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className={`${iconSize} text-yellow-300`}\n            >\n              <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\n            </svg>\n          ) : (\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className={`${iconSize} text-yellow-500`}\n            >\n              <circle cx=\"12\" cy=\"12\" r=\"5\" />\n              <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n              <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n              <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n              <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n              <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n              <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n              <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n              <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n            </svg>\n          )}\n        </div>\n      </button>\n\n      {/* Neon glow effect for dark mode */}\n      {isDark && theme.style === 'cyberpunk' && (\n        <div className=\"absolute inset-0 rounded-full pointer-events-none\">\n          <div className=\"absolute inset-0 rounded-full opacity-50 blur-sm bg-cyan-400 animate-pulse\" />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DayNightToggle;\n","import React, { useState } from 'react';\nimport {\n  useTheme,\n  ThemePreferences,\n  ThemeMode,\n  ThemeStyle,\n  AccentColor,\n} from './ThemeContext';\nimport DayNightToggle from './DayNightToggle';\n\ninterface ThemePanelProps {\n  className?: string;\n  isOpen?: boolean;\n  onClose?: () => void;\n}\n\n/**\n * ThemePanel provides a UI for adjusting theme settings\n */\nconst ThemePanel: React.FC<ThemePanelProps> = ({\n  className = '',\n  isOpen = false,\n  onClose,\n}) => {\n  const { theme, setTheme, resetToDefaults } = useTheme();\n\n  // Local state for panel settings\n  const [localTheme, setLocalTheme] = useState<ThemePreferences>({ ...theme });\n\n  // Update local theme state\n  const updateLocalTheme = <K extends keyof ThemePreferences>(\n    key: K,\n    value: ThemePreferences[K]\n  ) => {\n    setLocalTheme(prev => ({ ...prev, [key]: value }));\n  };\n\n  // Apply local theme settings to global theme\n  const applyTheme = () => {\n    setTheme(localTheme);\n  };\n\n  // Reset local theme when panel opens\n  React.useEffect(() => {\n    if (isOpen) {\n      setLocalTheme({ ...theme });\n    }\n  }, [isOpen, theme]);\n\n  // Apply theme automatically when changing certain settings\n  React.useEffect(() => {\n    setTheme(localTheme);\n  }, [\n    localTheme.mode,\n    localTheme.style,\n    localTheme.accentColor,\n    localTheme.reducedMotion,\n  ]);\n\n  return (\n    <div className={`theme-panel ${className} ${isOpen ? 'block' : 'hidden'}`}>\n      <div\n        className=\"fixed inset-0 bg-black bg-opacity-50 z-40\"\n        onClick={onClose}\n      />\n\n      <div className=\"fixed right-0 top-0 bottom-0 w-full sm:w-96 bg-card border-l border-border shadow-xl z-50 overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-xl font-bold\">Theme Settings</h2>\n\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-full hover:bg-muted\"\n              aria-label=\"Close theme panel\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n              </svg>\n            </button>\n          </div>\n\n          {/* Theme Mode */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold mb-3\">Mode</h3>\n            <div className=\"flex space-x-4\">\n              <label\n                className={`flex flex-col items-center cursor-pointer ${localTheme.mode === 'light' ? 'text-primary' : 'text-muted-foreground'}`}\n              >\n                <div\n                  className={`p-3 rounded-lg mb-2 ${localTheme.mode === 'light' ? 'bg-primary bg-opacity-10 border-2 border-primary' : 'bg-muted'}`}\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <circle cx=\"12\" cy=\"12\" r=\"5\" />\n                    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n                    <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n                    <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n                    <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n                    <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n                    <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n                    <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n                    <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"radio\"\n                  name=\"mode\"\n                  value=\"light\"\n                  checked={localTheme.mode === 'light'}\n                  onChange={() => updateLocalTheme('mode', 'light')}\n                  className=\"sr-only\"\n                />\n                Light\n              </label>\n\n              <label\n                className={`flex flex-col items-center cursor-pointer ${localTheme.mode === 'dark' ? 'text-primary' : 'text-muted-foreground'}`}\n              >\n                <div\n                  className={`p-3 rounded-lg mb-2 ${localTheme.mode === 'dark' ? 'bg-primary bg-opacity-10 border-2 border-primary' : 'bg-muted'}`}\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"radio\"\n                  name=\"mode\"\n                  value=\"dark\"\n                  checked={localTheme.mode === 'dark'}\n                  onChange={() => updateLocalTheme('mode', 'dark')}\n                  className=\"sr-only\"\n                />\n                Dark\n              </label>\n\n              <div className=\"flex flex-col items-center\">\n                <div className=\"p-3 rounded-lg mb-2 bg-muted\">\n                  <DayNightToggle size=\"small\" />\n                </div>\n                <span className=\"text-muted-foreground\">Auto</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Theme Style */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold mb-3\">Style</h3>\n            <div className=\"grid grid-cols-3 gap-4\">\n              {(['cyberpunk', 'corporate', 'classic'] as ThemeStyle[]).map(\n                style => (\n                  <label\n                    key={style}\n                    className={`flex flex-col items-center cursor-pointer ${\n                      localTheme.style === style\n                        ? 'text-primary'\n                        : 'text-muted-foreground'\n                    }`}\n                  >\n                    <div\n                      className={`w-full aspect-video rounded-lg mb-2 border overflow-hidden ${\n                        localTheme.style === style\n                          ? 'border-2 border-primary'\n                          : 'border-muted'\n                      }`}\n                    >\n                      <div\n                        className={`w-full h-full flex items-center justify-center ${style} ${localTheme.mode}`}\n                        style={{\n                          background:\n                            style === 'cyberpunk'\n                              ? 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)'\n                              : style === 'corporate'\n                                ? '#f8f9fa'\n                                : '#ffffff',\n                        }}\n                      >\n                        {style === 'cyberpunk' && (\n                          <span className=\"text-xs font-bold text-cyan-400 neon-text\">\n                            ULTRA AI\n                          </span>\n                        )}\n                        {style === 'corporate' && (\n                          <span className=\"text-xs font-bold text-blue-600\">\n                            Ultra AI\n                          </span>\n                        )}\n                        {style === 'classic' && (\n                          <span className=\"text-xs font-bold text-gray-900\">\n                            Ultra AI\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <input\n                      type=\"radio\"\n                      name=\"style\"\n                      value={style}\n                      checked={localTheme.style === style}\n                      onChange={() => updateLocalTheme('style', style)}\n                      className=\"sr-only\"\n                    />\n                    {style.charAt(0).toUpperCase() + style.slice(1)}\n                  </label>\n                )\n              )}\n            </div>\n          </div>\n\n          {/* Accent Color */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold mb-3\">Accent Color</h3>\n            <div className=\"flex flex-wrap gap-3\">\n              {(\n                ['cyan', 'purple', 'orange', 'green', 'pink'] as AccentColor[]\n              ).map(color => (\n                <label\n                  key={color}\n                  className=\"cursor-pointer\"\n                  title={color.charAt(0).toUpperCase() + color.slice(1)}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"accentColor\"\n                    value={color}\n                    checked={localTheme.accentColor === color}\n                    onChange={() => updateLocalTheme('accentColor', color)}\n                    className=\"sr-only\"\n                  />\n                  <div\n                    className={`w-8 h-8 rounded-full transition-all ${\n                      localTheme.accentColor === color\n                        ? 'ring-2 ring-offset-2 ring-offset-background'\n                        : ''\n                    }`}\n                    style={{\n                      background:\n                        color === 'cyan'\n                          ? '#00FFFF'\n                          : color === 'purple'\n                            ? '#9900FF'\n                            : color === 'orange'\n                              ? '#FF9900'\n                              : color === 'green'\n                                ? '#00FF66'\n                                : '#FF00AA',\n                      boxShadow:\n                        localTheme.accentColor === color &&\n                        localTheme.style === 'cyberpunk'\n                          ? `0 0 10px ${\n                              color === 'cyan'\n                                ? '#00FFFF'\n                                : color === 'purple'\n                                  ? '#9900FF'\n                                  : color === 'orange'\n                                    ? '#FF9900'\n                                    : color === 'green'\n                                      ? '#00FF66'\n                                      : '#FF00AA'\n                            }`\n                          : 'none',\n                    }}\n                  />\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Font Size */}\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <h3 className=\"text-lg font-semibold\">Font Size</h3>\n              <span className=\"text-sm text-muted-foreground\">\n                {Math.round(localTheme.fontSize * 100)}%\n              </span>\n            </div>\n            <input\n              type=\"range\"\n              min=\"0.8\"\n              max=\"1.2\"\n              step=\"0.05\"\n              value={localTheme.fontSize}\n              onChange={e =>\n                updateLocalTheme('fontSize', parseFloat(e.target.value))\n              }\n              className=\"w-full\"\n            />\n            <div className=\"flex justify-between text-xs text-muted-foreground mt-1\">\n              <span>A</span>\n              <span className=\"text-base\">A</span>\n              <span className=\"text-lg\">A</span>\n            </div>\n          </div>\n\n          {/* Contrast */}\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <h3 className=\"text-lg font-semibold\">Contrast</h3>\n              <span className=\"text-sm text-muted-foreground\">\n                {localTheme.contrastLevel === 1\n                  ? 'Low'\n                  : localTheme.contrastLevel === 5\n                    ? 'High'\n                    : 'Normal'}\n              </span>\n            </div>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"5\"\n              step=\"1\"\n              value={localTheme.contrastLevel}\n              onChange={e =>\n                updateLocalTheme('contrastLevel', parseInt(e.target.value))\n              }\n              className=\"w-full\"\n            />\n          </div>\n\n          {/* Animations */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold mb-3\">Animations</h3>\n            <div className=\"flex flex-col space-y-4\">\n              <label className=\"flex items-center justify-between cursor-pointer\">\n                <span>Enable animations</span>\n                <div className=\"relative inline-block w-10 h-6 transition duration-200 ease-in-out rounded-full\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"absolute w-6 h-6 opacity-0 rounded-full peer\"\n                    checked={localTheme.animationsEnabled}\n                    onChange={e =>\n                      updateLocalTheme('animationsEnabled', e.target.checked)\n                    }\n                  />\n                  <span className=\"absolute inset-0 transition-colors duration-200 rounded-full bg-muted peer-checked:bg-primary\"></span>\n                  <span className=\"absolute inset-y-0 left-0 flex items-center justify-center w-6 h-6 transition-transform duration-200 transform translate-x-0 rounded-full bg-white shadow-sm peer-checked:translate-x-4\"></span>\n                </div>\n              </label>\n\n              <label className=\"flex items-center justify-between cursor-pointer\">\n                <span>Reduced motion</span>\n                <div className=\"relative inline-block w-10 h-6 transition duration-200 ease-in-out rounded-full\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"absolute w-6 h-6 opacity-0 rounded-full peer\"\n                    checked={localTheme.reducedMotion}\n                    onChange={e =>\n                      updateLocalTheme('reducedMotion', e.target.checked)\n                    }\n                  />\n                  <span className=\"absolute inset-0 transition-colors duration-200 rounded-full bg-muted peer-checked:bg-primary\"></span>\n                  <span className=\"absolute inset-y-0 left-0 flex items-center justify-center w-6 h-6 transition-transform duration-200 transform translate-x-0 rounded-full bg-white shadow-sm peer-checked:translate-x-4\"></span>\n                </div>\n              </label>\n            </div>\n          </div>\n\n          {/* Reset button */}\n          <div className=\"pt-4 border-t border-border\">\n            <button\n              onClick={resetToDefaults}\n              className=\"px-4 py-2 text-sm rounded-md bg-muted hover:bg-muted/80 transition-colors\"\n            >\n              Reset to Defaults\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ThemePanel;\n","import React, { forwardRef } from 'react';\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { cn } from '../../lib/utils';\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100 dark:focus:bg-gray-800 dark:data-[state=open]:bg-gray-800',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <span className=\"ml-auto\">:</span>\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50',\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50',\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <span className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50',\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <span className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      'px-2 py-1.5 text-sm font-semibold',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800', className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn('ml-auto text-xs tracking-widest opacity-60', className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = 'DropdownMenuShortcut';\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n","import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../../stores/authStore';\nimport {\n  User,\n  Settings,\n  CreditCard,\n  FileText,\n  LogOut,\n  ChevronDown,\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Button } from '@/components/ui/button';\n\nexport const UserMenu: React.FC = () => {\n  const navigate = useNavigate();\n  const { user, logout } = useAuthStore();\n\n  if (!user) return null;\n\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" className=\"flex items-center gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-sm\">\n              {user.email[0].toUpperCase()}\n            </div>\n            <span className=\"hidden md:inline-block text-sm\">\n              {user.username || user.email}\n            </span>\n          </div>\n          <ChevronDown className=\"h-4 w-4\" />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-56\">\n        <DropdownMenuLabel>\n          <div className=\"flex flex-col space-y-1\">\n            <p className=\"text-sm font-medium leading-none\">\n              {user.full_name || user.username || 'User'}\n            </p>\n            <p className=\"text-xs leading-none text-muted-foreground\">\n              {user.email}\n            </p>\n          </div>\n        </DropdownMenuLabel>\n        <DropdownMenuSeparator />\n\n        <DropdownMenuItem asChild>\n          <Link to=\"/profile\" className=\"flex items-center cursor-pointer\">\n            <User className=\"mr-2 h-4 w-4\" />\n            <span>Profile</span>\n          </Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuItem asChild>\n          <Link to=\"/billing\" className=\"flex items-center cursor-pointer\">\n            <CreditCard className=\"mr-2 h-4 w-4\" />\n            <span>Billing</span>\n            <span className=\"ml-auto text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-0.5 rounded\">\n              ${user.account_balance.toFixed(2)}\n            </span>\n          </Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuItem asChild>\n          <Link to=\"/transactions\" className=\"flex items-center cursor-pointer\">\n            <FileText className=\"mr-2 h-4 w-4\" />\n            <span>Transactions</span>\n          </Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuItem asChild>\n          <Link to=\"/settings\" className=\"flex items-center cursor-pointer\">\n            <Settings className=\"mr-2 h-4 w-4\" />\n            <span>Settings</span>\n          </Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuSeparator />\n\n        <DropdownMenuItem\n          onClick={handleLogout}\n          className=\"flex items-center cursor-pointer text-red-600 dark:text-red-400\"\n        >\n          <LogOut className=\"mr-2 h-4 w-4\" />\n          <span>Log out</span>\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport {\n  Zap,\n  LayoutDashboard,\n  ListChecks,\n  HelpCircle,\n  User,\n  Palette,\n  Menu,\n  X,\n  Paintbrush,\n} from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { DayNightToggle, useTheme, ThemePanel } from '../../theme';\nimport { useAuthStore } from '../../stores/authStore';\nimport { UserMenu } from '../auth/UserMenu';\n\nexport default function NavBar() {\n  const location = useLocation();\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n  const [isThemePanelOpen, setIsThemePanelOpen] = React.useState(false);\n  const [isSkinMenuOpen, setIsSkinMenuOpen] = React.useState(false);\n  const { isAuthenticated } = useAuthStore();\n\n  // Get current skin from body class\n  const [currentSkin, setCurrentSkin] = React.useState(() => {\n    return (\n      Array.from(document.body.classList)\n        .find(cls => cls.startsWith('skin-'))\n        ?.replace('skin-', '') || 'night'\n    );\n  });\n\n  const skins = [\n    { name: 'morning', icon: '', color: '#FFD27A' },\n    { name: 'afternoon', icon: '', color: '#7AD1FF' },\n    { name: 'sunset', icon: '', color: '#FF7A7A' },\n    { name: 'night', icon: '', color: '#B88CFF' },\n    { name: 'minimalist', icon: '', color: '#6B7280' },\n    { name: 'business', icon: '', color: '#2C3E50' },\n  ];\n\n  const isActive = (path: string) => location.pathname.startsWith(path);\n\n  return (\n    <>\n      {/* Slim icon-only Sidebar */}\n      <aside className=\"fixed inset-y-0 left-0 z-40 w-16 bg-white/90 dark:bg-gray-900/90 border-r border-gray-200 dark:border-gray-800 backdrop-blur-md hidden md:flex flex-col items-center\">\n        {/* Brand */}\n        <div className=\"flex items-center justify-center h-14 w-full border-b border-gray-200 dark:border-gray-800\">\n          <span className=\"text-blue-600 dark:text-blue-400\">\n            <Zap size={22} />\n          </span>\n        </div>\n\n        {/* Nav items (icons only) */}\n        <nav className=\"flex-1 py-3 space-y-2 w-full flex flex-col items-center\">\n          <Link\n            to=\"/dashboard\"\n            title=\"Dashboard\"\n            className={`flex items-center justify-center h-10 w-10 rounded-md ${\n              isActive('/dashboard')\n                ? 'bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-200'\n                : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800'\n            }`}\n          >\n            <LayoutDashboard size={18} />\n          </Link>\n\n          <Link\n            to=\"/outputs\"\n            title=\"Outputs\"\n            className={`flex items-center justify-center h-10 w-10 rounded-md ${\n              isActive('/outputs')\n                ? 'bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-200'\n                : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800'\n            }`}\n          >\n            <ListChecks size={18} />\n          </Link>\n\n          <Link\n            to=\"/faq\"\n            title=\"FAQ\"\n            className={`flex items-center justify-center h-10 w-10 rounded-md ${\n              isActive('/faq')\n                ? 'bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-200'\n                : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800'\n            }`}\n          >\n            <HelpCircle size={18} />\n          </Link>\n\n          <Link\n            to=\"/profile\"\n            title=\"Profile\"\n            className={`flex items-center justify-center h-10 w-10 rounded-md ${\n              isActive('/profile')\n                ? 'bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-200'\n                : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800'\n            }`}\n          >\n            <User size={18} />\n          </Link>\n\n          {/* Skin Switcher */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setIsSkinMenuOpen(!isSkinMenuOpen)}\n              title=\"Change Theme\"\n              className={`flex items-center justify-center h-10 w-10 rounded-md ${\n                isSkinMenuOpen\n                  ? 'bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-200'\n                  : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800'\n              }`}\n            >\n              <Paintbrush size={18} />\n            </button>\n\n            {/* Skin menu */}\n            {isSkinMenuOpen && (\n              <div className=\"absolute left-full ml-2 top-0 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-2 min-w-[200px]\">\n                <div className=\"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 px-2\">\n                  Themes\n                </div>\n                {skins.map(skin => (\n                  <button\n                    key={skin.name}\n                    onClick={() => {\n                      // Update body class\n                      document.body.className = document.body.className.replace(\n                        /skin-\\w+/g,\n                        ''\n                      );\n                      document.body.classList.add(`skin-${skin.name}`);\n                      setCurrentSkin(skin.name);\n                      localStorage.setItem('selectedSkin', skin.name);\n\n                      // Load the skin CSS\n                      import(`../../skins/${skin.name}.css`);\n\n                      setIsSkinMenuOpen(false);\n                    }}\n                    className={`w-full flex items-center gap-3 px-2 py-2 rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${\n                      currentSkin === skin.name\n                        ? 'bg-gray-100 dark:bg-gray-800'\n                        : ''\n                    }`}\n                  >\n                    <span className=\"text-lg\">{skin.icon}</span>\n                    <span className=\"flex-1 text-left capitalize\">\n                      {skin.name}\n                    </span>\n                    {currentSkin === skin.name && (\n                      <div\n                        className=\"w-2 h-2 rounded-full\"\n                        style={{ backgroundColor: skin.color }}\n                      />\n                    )}\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        </nav>\n\n        {/* Controls */}\n        <div className=\"p-2 border-t border-gray-200 dark:border-gray-800 w-full flex flex-col items-center gap-2\">\n          <DayNightToggle size=\"sm\" />\n          <button\n            onClick={() => setIsThemePanelOpen(!isThemePanelOpen)}\n            title=\"Customize Theme\"\n            className=\"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md h-10 w-10 flex items-center justify-center\"\n          >\n            <Palette size={16} />\n          </button>\n          <div className=\"pb-2\">{isAuthenticated ? <UserMenu /> : null}</div>\n        </div>\n      </aside>\n\n      {/* Mobile top bar with menu */}\n      <header className=\"md:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-40\">\n        <div className=\"px-4 py-3 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-blue-600 dark:text-blue-400\">\n              <Zap size={22} />\n            </span>\n            <span className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              UltrAI\n            </span>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}\n            className=\"text-gray-700 dark:text-gray-300\"\n          >\n            {isMenuOpen ? <X size={20} /> : <Menu size={20} />}\n          </Button>\n        </div>\n        {isMenuOpen && (\n          <nav className=\"px-2 pb-3 space-y-1\">\n            <Link\n              to=\"/dashboard\"\n              className=\"block px-3 py-2 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Dashboard\n            </Link>\n            <Link\n              to=\"/outputs\"\n              className=\"block px-3 py-2 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Outputs\n            </Link>\n            <Link\n              to=\"/faq\"\n              className=\"block px-3 py-2 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              FAQ\n            </Link>\n            <Link\n              to=\"/profile\"\n              className=\"block px-3 py-2 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Profile\n            </Link>\n          </nav>\n        )}\n      </header>\n\n      {/* Theme Panel */}\n      {isThemePanelOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50\">\n          <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-800\">\n              <h2 className=\"text-xl font-bold\">Customize Theme</h2>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsThemePanelOpen(false)}\n                className=\"text-gray-700 dark:text-gray-300\"\n              >\n                <X size={20} />\n              </Button>\n            </div>\n            <div className=\"p-4\">\n              <ThemePanel onClose={() => setIsThemePanelOpen(false)} />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","import React, { InputHTMLAttributes, forwardRef } from 'react';\nimport { tokens } from '../../design-tokens/tokens';\n\ninterface CheckboxProps\n  extends Omit<InputHTMLAttributes<HTMLInputElement>, 'type'> {\n  label?: string;\n}\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  ({ className = '', label, id, ...props }, ref) => {\n    return (\n      <div className=\"relative inline-flex items-center\">\n        {/* Touch target extender */}\n        <span\n          className=\"absolute inset-0 -m-2 min-w-[44px] min-h-[44px]\"\n          aria-hidden=\"true\"\n        />\n        <input\n          type=\"checkbox\"\n          id={id}\n          ref={ref}\n          style={\n            {\n              ['--cb-radius' as any]: tokens.borderRadius.sm,\n            } as React.CSSProperties\n          }\n          className={`relative h-5 w-5 md:h-4 md:w-4 border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-[var(--cb-radius)] ${className}`}\n          {...props}\n        />\n        {label && (\n          <label\n            htmlFor={id}\n            className=\"ml-2 text-sm font-medium text-gray-700 select-none\"\n          >\n            {label}\n          </label>\n        )}\n      </div>\n    );\n  }\n);\n\nCheckbox.displayName = 'Checkbox';\n","// Mock Orchestrator API for demo mode\n// Provides realistic simulated responses for demonstrations\n\nimport type {\n  OrchestrationRequest,\n  OrchestrationResponse,\n  AvailableModelsResponse,\n  ModelHealthResponse,\n  OrchestratorStatusResponse,\n} from './types';\n\n// Error simulation configuration\nconst ERROR_SCENARIOS = {\n  NETWORK_TIMEOUT: 'network_timeout',\n  NO_MODELS_AVAILABLE: 'no_models_available',\n  AUTHENTICATION_FAILURE: 'authentication_failure',\n  NONE: 'none',\n} as const;\n\ntype ErrorScenario = typeof ERROR_SCENARIOS[keyof typeof ERROR_SCENARIOS];\n\n// Global error simulation state\nlet currentErrorScenario: ErrorScenario = ERROR_SCENARIOS.NONE;\nlet errorProbability = 0; // 0-1 probability of random errors\n\n// Error simulation control functions\nexport function setErrorScenario(scenario: ErrorScenario): void {\n  if (Object.values(ERROR_SCENARIOS).includes(scenario)) {\n    currentErrorScenario = scenario;\n    console.log(`Mock Orchestrator: Error scenario set to ${scenario}`);\n  }\n}\n\nexport function setRandomErrorProbability(probability: number): void {\n  errorProbability = Math.max(0, Math.min(1, probability));\n  console.log(\n    `Mock Orchestrator: Random error probability set to ${errorProbability}`\n  );\n}\n\nexport function clearErrorSimulation(): void {\n  currentErrorScenario = ERROR_SCENARIOS.NONE;\n  errorProbability = 0;\n  console.log('Mock Orchestrator: Error simulation cleared');\n}\n\n// Helper to check if we should simulate an error\nfunction shouldSimulateError(): ErrorScenario | null {\n  if (currentErrorScenario !== ERROR_SCENARIOS.NONE) {\n    return currentErrorScenario;\n  }\n  if (Math.random() < errorProbability) {\n    // Randomly select an error scenario\n    const scenarios = [\n      ERROR_SCENARIOS.NETWORK_TIMEOUT,\n      ERROR_SCENARIOS.NO_MODELS_AVAILABLE,\n      ERROR_SCENARIOS.AUTHENTICATION_FAILURE,\n    ];\n    return scenarios[Math.floor(Math.random() * scenarios.length)];\n  }\n  return null;\n}\n\n// Simulate network timeout\nasync function simulateNetworkTimeout(): Promise<never> {\n  // Wait for a realistic timeout period\n  await new Promise(resolve => setTimeout(resolve, 30000)); // 30 second timeout\n  throw new Error('Network timeout: Request took too long to complete');\n}\n\n// Simulate authentication failure\nfunction simulateAuthenticationFailure(): never {\n  const error: any = new Error('Authentication failed');\n  error.status = 401;\n  error.response = {\n    status: 401,\n    statusText: 'Unauthorized',\n    json: async () => ({\n      detail: 'Invalid or expired authentication token',\n      error_code: 'AUTH_FAILED',\n    }),\n  };\n  throw error;\n}\n\n// Simulate no models available\nfunction simulateNoModelsAvailable(): never {\n  const error: any = new Error('No models available');\n  error.status = 503;\n  error.response = {\n    status: 503,\n    statusText: 'Service Unavailable',\n    json: async () => ({\n      detail:\n        'No AI models are currently available. All providers are experiencing issues.',\n      error_code: 'NO_MODELS_AVAILABLE',\n      available_models: [],\n    }),\n  };\n  throw error;\n}\n\nconst DEMO_MODELS = [\n  { id: 'gpt-5', provider: 'openai', cost_per_1k_tokens: 0.006 },\n  { id: 'claude-4.1', provider: 'anthropic', cost_per_1k_tokens: 0.004 },\n  { id: 'gemini-2.5', provider: 'google', cost_per_1k_tokens: 0.0045 },\n  // Additional demo models remain available\n  { id: 'gpt-4o-mini', provider: 'openai', cost_per_1k_tokens: 0.00015 },\n  {\n    id: 'claude-3-haiku-20240307',\n    provider: 'anthropic',\n    cost_per_1k_tokens: 0.00025,\n  },\n  { id: 'gemini-1.5-flash', provider: 'google', cost_per_1k_tokens: 0.00035 },\n  {\n    id: 'llama-3.1-70b-versatile',\n    provider: 'groq',\n    cost_per_1k_tokens: 0.00059,\n  },\n  { id: 'mixtral-8x7b-32768', provider: 'groq', cost_per_1k_tokens: 0.00024 },\n];\n\n// Simulate different types of responses based on query patterns\nconst generateDemoResponse = (query: string, models: string[]): string => {\n  const lowerQuery = query.toLowerCase();\n\n  // Detect query type and generate appropriate response\n  if (\n    lowerQuery.includes('angel investor') ||\n    lowerQuery.includes('top 10 angel')\n  ) {\n    return generateAngelInvestorResponse(query, models);\n  } else if (\n    lowerQuery.includes('code') ||\n    lowerQuery.includes('program') ||\n    lowerQuery.includes('function')\n  ) {\n    return generateCodeResponse(query, models);\n  } else if (lowerQuery.includes('analyze') || lowerQuery.includes('compare')) {\n    return generateAnalysisResponse(query, models);\n  } else if (\n    lowerQuery.includes('creative') ||\n    lowerQuery.includes('story') ||\n    lowerQuery.includes('write')\n  ) {\n    return generateCreativeResponse(query, models);\n  } else if (\n    lowerQuery.includes('explain') ||\n    lowerQuery.includes('how') ||\n    lowerQuery.includes('what')\n  ) {\n    return generateExplanationResponse(query, models);\n  } else {\n    return generateGeneralResponse(query, models);\n  }\n};\n\nconst generateCodeResponse = (query: string, models: string[]): string => {\n  return `Based on comprehensive analysis across ${models.length} specialized AI models, here's the optimal solution:\n\n**Code Implementation:**\n\\`\\`\\`python\ndef optimize_performance(data):\n    \"\"\"\n    Multi-model consensus implementation combining best practices\n    from GPT-4, Claude, and specialized coding models.\n    \"\"\"\n    # Pre-processing optimization (GPT-4 suggestion)\n    processed_data = preprocess_efficiently(data)\n    \n    # Core algorithm (Claude's approach)\n    results = apply_advanced_algorithm(processed_data)\n    \n    # Post-processing refinement (Gemini enhancement)\n    return finalize_with_caching(results)\n\\`\\`\\`\n\n**Key Insights from Model Synthesis:**\n1. **Performance**: All models agreed on O(n log n) complexity as optimal\n2. **Memory Usage**: Consensus on streaming approach for large datasets\n3. **Error Handling**: Comprehensive exception handling pattern identified\n4. **Testing**: Unit test coverage recommendations from multiple perspectives\n\n**Best Practices Identified:**\n- Use type hints for better code clarity (unanimous agreement)\n- Implement logging for production debugging (87% model consensus)\n- Consider async implementation for I/O operations (specialized model insight)\n\n*This synthesis leverages the unique strengths of each model to deliver production-ready code.*`;\n};\n\nconst generateAnalysisResponse = (query: string, models: string[]): string => {\n  return `Through advanced multi-model orchestration, I've synthesized insights from ${models.length} leading AI systems:\n\n**Comparative Analysis Results:**\n\n **Quantitative Findings:**\n- Model Agreement Score: 94.2%\n- Confidence Level: High (8.7/10)\n- Analysis Depth: Comprehensive (Level 5)\n\n **Key Discoveries:**\n1. **Primary Pattern**: All models identified similar core trends with nuanced variations\n2. **Unique Insights**: \n   - GPT-4: Emphasized long-term strategic implications\n   - Claude: Focused on ethical considerations and edge cases\n   - Gemini: Highlighted technical implementation details\n\n **Synthesized Recommendations:**\n1. **Immediate Actions**: Implement the consensus approach identified by 90% of models\n2. **Risk Mitigation**: Address the edge cases surfaced by specialized analysis\n3. **Future Planning**: Consider the strategic roadmap suggested by pattern synthesis\n\n**Confidence Metrics:**\n- Inter-model agreement: 94.2%\n- Factual consistency: 97.8%\n- Novel insights generated: 12\n\n*This Ultra Synthesis combines diverse AI perspectives for unparalleled analytical depth.*`;\n};\n\nconst generateCreativeResponse = (query: string, models: string[]): string => {\n  return `Leveraging creative synthesis across ${models.length} AI models, here's a uniquely crafted response:\n\n**Creative Synthesis Output:**\n\n **Opening Concept** (Collaborative ideation):\n\"In a world where ideas dance between digital minds, your vision takes shape through the harmonious collaboration of artificial intelligences, each contributing their unique creative signature...\"\n\n **Multi-Model Creative Elements:**\n- **Narrative Arc**: Classic three-act structure with modern twists\n- **Character Depth**: Psychologically complex protagonists with relatable flaws\n- **World Building**: Rich, immersive environment with consistent internal logic\n- **Dialogue Style**: Natural, character-specific voices that advance the plot\n\n **Unique Creative Insights:**\n1. GPT-4 contributed sophisticated metaphorical frameworks\n2. Claude added emotional depth and ethical complexity\n3. Gemini provided technical accuracy and scientific plausibility\n\n**Creative Metrics:**\n- Originality Score: 8.9/10\n- Emotional Resonance: High\n- Narrative Coherence: Excellent\n\n*This creative fusion represents the pinnacle of AI collaboration in artistic expression.*`;\n};\n\nconst generateExplanationResponse = (query: string, models: string[]): string => {\n  return `Synthesizing explanations from ${models.length} expert AI models for maximum clarity:\n\n**Multi-Level Explanation:**\n\n **Simple Overview** (Consensus explanation):\n${query.slice(0, 50)}... can be understood as a fundamental concept that bridges multiple domains of knowledge.\n\n **Detailed Breakdown:**\n1. **Core Concept**: All models agree on the fundamental principle\n2. **Technical Details**: Specialized models provide domain-specific insights\n3. **Practical Applications**: Real-world examples from diverse perspectives\n4. **Common Misconceptions**: Clarifications based on model consensus\n\n **Deep Dive Insights:**\n- **Historical Context**: How this concept evolved over time\n- **Current Understanding**: State-of-the-art knowledge synthesis\n- **Future Implications**: Predictive insights from multiple models\n\n**Understanding Metrics:**\n- Clarity Score: 9.2/10\n- Completeness: 96%\n- Accuracy: Verified across models\n\n*This explanation benefits from cross-model validation for maximum accuracy and clarity.*`;\n};\n\nconst generateAngelInvestorResponse = (query: string, models: string[]): string => {\n  // Return the actual Claude response from the CSV file\n  return `Based on my research, here are the Top 10 Angel Investors most likely to fund your AI portal with democratizing features and campus-based P2P marketing:\n\n1. **Nat Friedman**\n   Contact: n***@gmail.com (available via RocketReach)\n   Reasoning: Co-founded AI Grant and has the largest AI angel portfolio with 138 investments. Former GitHub CEO with deep developer community understanding. Actively invested in AI infrastructure and democratization through AI Grant program. Perfect fit for developer-focused AI tools.\n\n2. **Sam Altman**\n   Contact: sam@openai.com or through OpenAI Startup Fund\n   Reasoning: OpenAI CEO with 168+ angel investments focused on AI accessibility. Believes in democratizing AI through affordable access models. Previously led Y Combinator and has extensive student/campus network connections. Ideal for scalable AI democratization plays.\n\n3. **Reid Hoffman**\n   Contact: rhoffman@greylock.com\n   Reasoning: LinkedIn founder and Greylock partner with 37+ AI investments. Champions AI democratization and wrote extensively about \"AI benefiting humanity.\" Strong track record with network effect businesses and educational platforms. Excellent fit for AI platform with viral campus distribution.\n\n4. **Naval Ravikant**\n   Contact: naval@angellist.com or through AngelList Syndicate\n   Reasoning: AngelList founder who literally built the infrastructure for democratizing startup investing. 131 investments with focus on platforms that increase accessibility. Strong belief in technology democratization and reducing barriers to entry. Perfect alignment with accessibility mission.\n\n5. **Jason Calacanis**\n   Contact: jmc@launch.co\n   Reasoning: LAUNCH founder who invests in 100+ startups annually with focus on education and accessibility. Runs Founder University and Angel University programs targeting students. Deep campus connections and pay-as-you-go business model expertise. Ideal for campus-based P2P marketing model.\n\n6. **Elad Gil**\n   Contact: Available through blog.eladgil.com contact form\n   Reasoning: Solo VC with 296 investments including early AI companies like Perplexity, Character.AI, Harvey. Focus on AI infrastructure and tools that democratize access to advanced capabilities. Strong track record with B2B AI platforms serving diverse user bases. Perfect for AI infrastructure democratization.\n\n7. **Fabrice Grinda**\n   Contact: fabrice@fjlabs.com or fabrice@grinda.org\n   Reasoning: FJ Labs founder with 1000+ investments focused on marketplaces that democratize access. Strong thesis on platforms connecting underserved users to premium services. Extensive experience with pay-as-you-go and accessibility models. Excellent fit for democratizing premium AI access.\n\n8. **Dharmesh Shah**\n   Contact: dharmesh@hubspot.com\n   Reasoning: HubSpot co-founder and CTO with $140M+ invested in AI startups. Created ChatSpot AI and focuses on making technology accessible to non-technical users. Strong believer in freemium and bottom-up SaaS adoption. Ideal for AI tools with campus-first go-to-market.\n\n9. **Alexandr Wang**\n   Contact: alex@scale.com\n   Reasoning: Scale AI founder (age 27) who understands student/young founder dynamics. Built $7.3B company democratizing AI data labeling. Active angel investor in AI infrastructure and tools. Perfect for understanding campus distribution and young user adoption patterns.\n\n10. **Lachy Groom**\n   Contact: hello@lachy.com\n   Reasoning: Former Stripe exec turned prolific angel with 200+ investments. Focus on developer tools and API-first businesses with usage-based pricing. Strong track record with bottom-up SaaS and PLG models. Ideal match for pay-as-you-go AI platform with student ambassadors.\n\n**Key Insights:**\n- Warm introductions dramatically increase response rates (10-50x higher than cold outreach)\n- Use university alumni networks and LinkedIn to find mutual connections\n- Lead with traction metrics: student ambassadors signed up, campuses covered, early usage data\n- Emphasize the network effects of your P2P campus distribution model\n- Highlight pay-as-you-go accessibility vs expensive enterprise AI subscriptions\n\n**Pro tip:** Start with investors who have portfolios in both AI/ML and education/campus markets. They'll immediately understand your distribution advantage.`;\n};\n\nconst generateGeneralResponse = (query: string, models: string[]): string => {\n  // Extract key terms from query for more relevant response\n  const queryTerms = query\n    .toLowerCase()\n    .split(' ')\n    .filter(word => word.length > 3);\n  const topic = queryTerms.length > 0 ? queryTerms.join(' ') : 'your inquiry';\n\n  return `# Ultra Synthesis Analysis Report\n\n## Query Analysis\n**Original Query:** \"${query}\"\n**Processing Time:** ${(12.5 + Math.random() * 5).toFixed(2)} seconds\n**Models Engaged:** ${models.length} specialized AI systems\n\n---\n\n##  Intelligence Multiplication Results\n\n### Stage 1: Initial Model Responses (Parallel Processing)\n${models\n  .map(\n    (model, i) => `\n**${model}** (${(1.2 + Math.random()).toFixed(2)}s):\n- Primary insight: Identified ${3 + i} key factors related to ${topic}\n- Confidence: ${(85 + Math.random() * 10).toFixed(1)}%\n- Unique perspective: ${\n      model.includes('gpt')\n        ? 'Comprehensive analysis with strong general knowledge'\n        : model.includes('claude')\n          ? 'Nuanced understanding with ethical considerations'\n          : model.includes('gemini')\n            ? 'Technical depth with multimodal insights'\n            : 'Specialized domain expertise with efficient processing'\n    }`\n  )\n  .join('\\n')}\n\n### Stage 2: Meta-Analysis (Cross-Model Synthesis)\n **Pattern Recognition Results:**\n- **Consensus Areas** (${(88 + Math.random() * 10).toFixed(1)}% agreement):\n   All models identified similar core themes around ${topic}\n   Shared understanding of fundamental principles\n   Consistent factual accuracy across responses\n\n- **Divergence Points** (Valuable unique insights):\n   GPT models emphasized broader context and implications\n   Claude models highlighted potential edge cases and ethical dimensions\n   Gemini models provided technical implementation details\n   Open-source models offered alternative perspectives\n\n### Stage 3: Ultra Synthesis (Intelligence Multiplication)\n\n **Synthesized Insights:**\n\n1. **Core Finding** (Supported by ${models.length}/${models.length} models):\n   Based on comprehensive analysis, ${topic} involves multiple interconnected factors that require careful consideration. The synthesis reveals both immediate practical applications and long-term strategic implications.\n\n2. **Multi-Dimensional Analysis:**\n   - **Technical Perspective**: Implementation requires attention to scalability, efficiency, and maintainability\n   - **Strategic Perspective**: Long-term value creation through systematic approach\n   - **Risk Perspective**: ${Math.floor(Math.random() * 3) + 2} potential challenges identified with mitigation strategies\n   - **Opportunity Perspective**: ${Math.floor(Math.random() * 4) + 3} growth vectors discovered through cross-model insights\n\n3. **Actionable Recommendations** (Priority-ranked):\n    **Immediate Actions** (0-30 days):\n   - Implement the consensus approach validated by all ${models.length} models\n   - Begin with pilot testing in controlled environment\n   - Establish measurement frameworks for success metrics\n   \n    **Short-term Initiatives** (1-3 months):\n   - Scale successful patterns identified in synthesis\n   - Address edge cases surfaced by specialized analysis\n   - Optimize based on initial performance data\n   \n    **Strategic Roadmap** (3-12 months):\n   - Leverage compound benefits from integrated approach\n   - Expand into adjacent opportunities identified\n   - Build sustainable competitive advantages\n\n##  Quality Assurance Metrics\n\n| Metric | Score | Benchmark |\n|--------|-------|-----------|\n| Inter-Model Agreement | ${(92 + Math.random() * 6).toFixed(1)}% | >85%  |\n| Factual Consistency | ${(95 + Math.random() * 4).toFixed(1)}% | >90%  |\n| Novel Insights Generated | ${Math.floor(8 + Math.random() * 7)} | >5  |\n| Confidence Level | ${(88 + Math.random() * 10).toFixed(1)}% | >80%  |\n| Comprehensiveness | ${(93 + Math.random() * 6).toFixed(1)}% | >85%  |\n\n##  Value Delivered\n\nThrough Ultra Synthesis, you've received:\n- **${models.length}x perspective multiplication** vs single model response\n- **${(35 + Math.random() * 25).toFixed(0)}% more insights** through cross-model synthesis\n- **${(92 + Math.random() * 7).toFixed(0)}% confidence level** through consensus validation\n- **Unique discoveries** that no single model would have identified\n\n---\n\n*This Ultra Synthesis report represents the cutting edge of AI orchestration, where multiple intelligences collaborate to deliver insights beyond the capability of any single model. Each response is unique, contextual, and optimized for maximum value delivery.*\n\n**Report ID:** US-${Date.now().toString(36).toUpperCase()}-${Math.random().toString(36).substring(2, 6).toUpperCase()}`;\n};\n\n// Mock API implementation\nexport async function processWithFeatherOrchestration(\n  request: OrchestrationRequest\n): Promise<OrchestrationResponse> {\n  const orchestrationStartTime = Date.now();\n  const { prompt, models = null, pattern = 'comparative' } = request;\n  \n  // Check for error simulation\n  const errorScenario = shouldSimulateError();\n  if (errorScenario) {\n    switch (errorScenario) {\n      case ERROR_SCENARIOS.NETWORK_TIMEOUT:\n        await simulateNetworkTimeout();\n        break;\n      case ERROR_SCENARIOS.NO_MODELS_AVAILABLE:\n        simulateNoModelsAvailable();\n        break;\n      case ERROR_SCENARIOS.AUTHENTICATION_FAILURE:\n        simulateAuthenticationFailure();\n        break;\n    }\n  }\n\n  // If a demo dataset is available, return it directly to reflect manual UltrAI search\n  try {\n    const demoRes = await fetch('/demo/ultrai_demo.json', {\n      cache: 'no-store',\n    });\n    if (demoRes.ok) {\n      const demo = await demoRes.json();\n      return {\n        status: 'success',\n        ultra_response: demo.ultra_response,\n        models_used: demo.models_used || [\n          'gpt-4o',\n          'claude-3-5-sonnet-20241022',\n          'gemini-1.5-pro',\n        ],\n        processing_time: 2.5,\n        pattern_used: pattern,\n        initial_responses: {},\n        meta_analysis: {\n          content: 'Loaded curated demo dataset',\n          patterns: ['curated'],\n          confidence: 0.99,\n        },\n        ultra_synthesis: {\n          content: demo.ultra_response,\n          confidence: 0.99,\n          synthesis_method: 'curated_demo',\n        },\n      };\n    }\n  } catch (e) {\n    // Fallback to generated mock if demo file missing\n  }\n\n  // Stage 1: Initialize providers & health check (2-5s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 2000 + Math.random() * 3000)\n  );\n\n  // Use provided models or select defaults\n  let selectedModels = models || [\n    'gpt-4o',\n    'claude-3-5-sonnet-20241022',\n    'gemini-1.5-pro',\n  ];\n\n  // Ensure at least 2 models for Ultra Synthesis\n  if (selectedModels.length < 2) {\n    console.warn(\n      'Less than 2 models selected, adding defaults for Ultra Synthesis'\n    );\n    selectedModels = ['gpt-4o', 'claude-3-5-sonnet-20241022'];\n  }\n\n  // Stage 2: Query dispatch (0.3-0.8s)\n  await new Promise(resolve => setTimeout(resolve, 300 + Math.random() * 500));\n\n  // Stage 3: Model generation in parallel (8-15s for slowest)\n  const initialResponses: Record<string, any> = {};\n\n  // Simulate parallel processing - all models work simultaneously\n  const modelPromises = selectedModels.map(async model => {\n    // Each model has different response times\n    const modelDelay = model.includes('gpt-5')\n      ? 8000 + Math.random() * 7000 // GPT-5: 8-15s\n      : model.includes('claude-4.1')\n        ? 6000 + Math.random() * 6000 // Claude: 6-12s\n        : model.includes('gemini')\n          ? 6000 + Math.random() * 4000 // Gemini: 6-10s\n          : 5000 + Math.random() * 5000; // Others: 5-10s\n\n    await new Promise(resolve => setTimeout(resolve, modelDelay));\n\n    initialResponses[model] = {\n      content: `[${model}] Initial analysis of: \"${prompt.slice(0, 50)}...\"`,\n      processingTime: modelDelay / 1000,\n      confidence: 0.85 + Math.random() * 0.15,\n    };\n  });\n\n  // Wait for all models to complete (parallel execution)\n  await Promise.all(modelPromises);\n\n  // Stage 4: Cross-check & fan-out (2-5s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 2000 + Math.random() * 3000)\n  );\n\n  // Stage 5: Critique & revision loop (5-20s total for 1-2 passes)\n  const revisionPasses = Math.random() < 0.7 ? 1 : 2; // 70% chance of 1 pass, 30% chance of 2\n  for (let pass = 0; pass < revisionPasses; pass++) {\n    await new Promise(resolve =>\n      setTimeout(resolve, 5000 + Math.random() * 5000)\n    );\n  }\n\n  // Stage 6: Meta-draft assembly (2-4s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 2000 + Math.random() * 2000)\n  );\n\n  // Stage 7: Meta-analysis & synthesis (6-12s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 6000 + Math.random() * 6000)\n  );\n  const metaAnalysis = {\n    content: `Meta-analysis identified ${Object.keys(initialResponses).length} key patterns across models with 92% consensus rate.`,\n    patterns: ['consensus', 'divergence', 'synthesis'],\n    confidence: 0.91,\n  };\n\n  // Stage 8: Final formatting & delivery (4-8s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 4000 + Math.random() * 4000)\n  );\n  const ultraResponse = generateDemoResponse(prompt, selectedModels);\n\n  // Add network/rate-limit jitter (1-3s)\n  await new Promise(resolve =>\n    setTimeout(resolve, 1000 + Math.random() * 2000)\n  );\n\n  return {\n    status: 'success',\n    ultra_response: ultraResponse,\n    models_used: selectedModels,\n    processing_time: (Date.now() - orchestrationStartTime) / 1000, // Actual elapsed time\n    pattern_used: pattern,\n    initial_responses: initialResponses,\n    meta_analysis: metaAnalysis,\n    ultra_synthesis: {\n      content: ultraResponse,\n      confidence: 0.94,\n      synthesis_method: 'advanced_orchestration',\n    },\n  };\n}\n\nexport async function getAvailableModels(): Promise<AvailableModelsResponse> {\n  // Check for error simulation\n  const errorScenario = shouldSimulateError();\n  if (errorScenario) {\n    switch (errorScenario) {\n      case ERROR_SCENARIOS.NETWORK_TIMEOUT:\n        await simulateNetworkTimeout();\n        break;\n      case ERROR_SCENARIOS.NO_MODELS_AVAILABLE:\n        // For getAvailableModels, return empty list instead of throwing\n        return {\n          models: [],\n        } as any;\n      case ERROR_SCENARIOS.AUTHENTICATION_FAILURE:\n        simulateAuthenticationFailure();\n        break;\n    }\n  }\n\n  // Simulate network delay (slower)\n  await new Promise(resolve => setTimeout(resolve, 1000));\n\n  return {\n    models: DEMO_MODELS.map(m => m.id),\n  } as any;\n}\n\nexport async function getModelHealth(): Promise<ModelHealthResponse> {\n  // Simulate network delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n\n  return {\n    models: DEMO_MODELS.reduce((acc: any, model) => {\n      acc[model.id] = {\n        status: 'healthy',\n        latency_ms: 200 + Math.random() * 300,\n        success_rate: 0.95 + Math.random() * 0.05,\n        last_check: new Date().toISOString(),\n      };\n      return acc;\n    }, {}),\n    overall_health: 'healthy',\n    healthy_models: DEMO_MODELS.length,\n    total_models: DEMO_MODELS.length,\n  };\n}\n\nexport async function getOrchestratorStatus(): Promise<OrchestratorStatusResponse> {\n  // Simulate network delay\n  await new Promise(resolve => setTimeout(resolve, 300));\n\n  return {\n    status: 'operational',\n    version: '1.0.0',\n    uptime_seconds: 86400,\n    total_requests: 1234,\n    success_rate: 0.98,\n    average_latency_ms: 450,\n    active_models: DEMO_MODELS.length,\n    queue_size: 0,\n    last_error: null,\n  };\n}\n\nexport async function checkModelStatus(modelId: string): Promise<{ \n  available: boolean; \n  status: string; \n  error?: string;\n  lastChecked?: string;\n}> {\n  // Check for error simulation\n  const errorScenario = shouldSimulateError();\n  if (errorScenario) {\n    switch (errorScenario) {\n      case ERROR_SCENARIOS.NETWORK_TIMEOUT:\n        await simulateNetworkTimeout();\n        break;\n      case ERROR_SCENARIOS.NO_MODELS_AVAILABLE:\n        return {\n          available: false,\n          status: 'all_models_unavailable',\n          lastChecked: new Date().toISOString(),\n          error: 'No models are currently available',\n        };\n      case ERROR_SCENARIOS.AUTHENTICATION_FAILURE:\n        simulateAuthenticationFailure();\n        break;\n    }\n  }\n\n  // Simulate network delay\n  await new Promise(resolve => setTimeout(resolve, 200));\n\n  // Simulate some models being temporarily unavailable\n  const unavailableModels = Math.random() > 0.8 ? ['mixtral-8x7b-32768'] : [];\n\n  return {\n    available: !unavailableModels.includes(modelId),\n    status: unavailableModels.includes(modelId)\n      ? 'temporarily_unavailable'\n      : 'ready',\n    lastChecked: new Date().toISOString(),\n  };\n}\n\n// Export error scenarios for testing\nexport { ERROR_SCENARIOS };\n\n// Utility function for testing error scenarios\nexport function simulateError(scenario: string, duration?: number): void {\n  if (scenario === 'random') {\n    // Enable random errors with 30% probability\n    setRandomErrorProbability(0.3);\n    console.log('Mock Orchestrator: Random errors enabled (30% probability)');\n\n    if (duration) {\n      setTimeout(() => {\n        clearErrorSimulation();\n        console.log('Mock Orchestrator: Random errors disabled after timeout');\n      }, duration);\n    }\n  } else if (Object.values(ERROR_SCENARIOS).includes(scenario as ErrorScenario)) {\n    setErrorScenario(scenario as ErrorScenario);\n    console.log(`Mock Orchestrator: Simulating ${scenario} errors`);\n\n    if (duration) {\n      setTimeout(() => {\n        clearErrorSimulation();\n        console.log(\n          `Mock Orchestrator: ${scenario} simulation ended after timeout`\n        );\n      }, duration);\n    }\n  } else {\n    console.error(`Mock Orchestrator: Unknown error scenario \"${scenario}\"`);\n  }\n}\n\n// Window-level access for browser console testing\nif (typeof window !== 'undefined') {\n  (window as any).mockOrchestratorErrors = {\n    simulateError,\n    clearErrorSimulation,\n    setErrorScenario,\n    setRandomErrorProbability,\n    scenarios: ERROR_SCENARIOS,\n  };\n}","// Orchestrator API implementation\nimport * as mockApi from './mockOrchestrator';\nimport type {\n  OrchestrationRequest,\n  OrchestrationResponse,\n  AvailableModelsResponse,\n  ModelHealthResponse,\n  OrchestratorStatusResponse,\n  Model,\n} from './types';\n\n// Safely resolve Vite env in both browser and Jest environments\nconst viteEnv: any = (globalThis as any).import?.meta?.env || {};\nconst API_BASE = (viteEnv?.VITE_API_URL as string) || '/api';\nconst isDemoMode =\n  viteEnv?.VITE_API_MODE === 'mock' ||\n  viteEnv?.VITE_DEMO_MODE === 'true';\n\nexport async function processWithFeatherOrchestration(\n  request: OrchestrationRequest,\n  correlationId?: string\n): Promise<OrchestrationResponse> {\n  // Use mock API in demo mode\n  if (isDemoMode) {\n    return mockApi.processWithFeatherOrchestration(request);\n  }\n\n  const { prompt, models = null, pattern = 'comparative', ultraModel = null, outputFormat = 'plain' } = request;\n\n  try {\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n    };\n    if (correlationId) {\n      headers['X-Correlation-ID'] = correlationId;\n    }\n    const response = await fetch(`${API_BASE}/orchestrator/analyze`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({\n        query: prompt,\n        selected_models: models,\n        analysis_type: pattern,\n        options: {\n          ultra_model: ultraModel,\n          output_format: outputFormat,\n        },\n      }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        error: errorData.detail || `HTTP ${response.status}`,\n        status: 'error',\n      } as OrchestrationResponse;\n    }\n\n    const data = await response.json();\n\n    // Transform the response to match expected format\n    return {\n      status: 'success',\n      ultra_response:\n        data.results?.ultra_synthesis?.content || data.results?.content || '',\n      models_used: data.results?.models_used || models || [],\n      processing_time: data.processing_time || 0,\n      pattern_used: pattern,\n      initial_responses: data.results?.initial_responses,\n      meta_analysis: data.results?.meta_analysis,\n      ultra_synthesis: data.results?.ultra_synthesis,\n      correlation_id:\n        correlationId || response.headers.get('X-Correlation-ID') || '',\n    };\n  } catch (error: any) {\n    console.error('Orchestration error:', error);\n    return {\n      error: error.message || 'Network error',\n      status: 'error',\n    } as OrchestrationResponse;\n  }\n}\n\nexport async function getAvailableModels(healthyOnly = false): Promise<AvailableModelsResponse> {\n  // Use mock API in demo mode\n  if (isDemoMode) {\n    return mockApi.getAvailableModels();\n  }\n\n  // Helper function to create fetch with timeout\n  const fetchWithTimeout = async (url: string, timeout = 5000) => {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\n    \n    try {\n      const response = await fetch(url, { signal: controller.signal });\n      clearTimeout(timeoutId);\n      return response;\n    } catch (error) {\n      clearTimeout(timeoutId);\n      if (error instanceof Error && error.name === 'AbortError') {\n        throw new Error(`Request timeout after ${timeout}ms`);\n      }\n      throw error;\n    }\n  };\n\n  try {\n    // Prefer healthy-only models\n    const response = await fetchWithTimeout(\n      `${API_BASE}/available-models?healthy_only=${healthyOnly}`,\n      5000\n    );\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    const healthyData = await response.json();\n    const healthyList = Array.isArray(healthyData?.models)\n      ? healthyData.models\n      : [];\n    if (healthyList.length > 0) {\n      return healthyData;\n    }\n\n    // Fallback: use orchestrator-reported available models if health probe is strict\n    // This prevents UI from going empty while providers are otherwise usable\n    console.warn(\n      '[getAvailableModels] healthy_only returned empty; falling back to /orchestrator/status'\n    );\n    const statusRes = await fetchWithTimeout(`${API_BASE}/orchestrator/status`, 3000);\n    if (statusRes.ok) {\n      const statusData = await statusRes.json();\n      const reported = Array.isArray(statusData?.models?.available)\n        ? statusData.models.available\n        : [];\n      if (reported.length > 0) {\n        return { models: reported };\n      }\n    }\n\n    // Final fallback: return empty\n    return { models: [] };\n  } catch (error) {\n    console.error('Error fetching available models:', error);\n    return { models: [], totalCount: 0 };\n  }\n}\n\nexport async function getModelHealth(): Promise<ModelHealthResponse> {\n  // Use mock API in demo mode\n  if (isDemoMode) {\n    return mockApi.getModelHealth();\n  }\n\n  try {\n    const response = await fetch(`${API_BASE}/model-health`);\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching model health:', error);\n    throw error;\n  }\n}\n\nexport async function getOrchestratorStatus(): Promise<OrchestratorStatusResponse> {\n  // Use mock API in demo mode\n  if (isDemoMode) {\n    return mockApi.getOrchestratorStatus();\n  }\n\n  try {\n    const response = await fetch(`${API_BASE}/orchestrator/status`);\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching orchestrator status:', error);\n    throw error;\n  }\n}\n\nexport async function checkModelStatus(modelId: string): Promise<{ available: boolean; status: string; error?: string }> {\n  // Use mock API in demo mode\n  if (isDemoMode) {\n    return mockApi.checkModelStatus(modelId);\n  }\n\n  try {\n    const response = await fetch(`${API_BASE}/models/${modelId}/status`);\n    if (!response.ok) {\n      return { available: false, status: 'error' };\n    }\n    const data = await response.json();\n    return {\n      available: data.available || false,\n      status: data.status || 'unknown',\n    };\n  } catch (error: any) {\n    console.error('Error checking model status:', error);\n    return { available: false, status: 'error', error: error.message };\n  }\n}\n\n// Legacy function names for backward compatibility\nexport async function getOrchestratorModels(): Promise<string[]> {\n  const result = await getAvailableModels();\n  // Normalize to a simple array of model names (strings)\n  const models =\n    result && result.models\n      ? result.models\n      : Array.isArray(result)\n        ? result\n        : [];\n  return Array.isArray(models)\n    ? models\n        .map((m: any) => (typeof m === 'string' ? m : (m && m.name) || null))\n        .filter(Boolean)\n    : [];\n}\n\ninterface Pattern {\n  id: string;\n  name: string;\n  description: string;\n}\n\nexport async function getOrchestratorPatterns(): Promise<Pattern[]> {\n  // Return available orchestration patterns\n  return [\n    {\n      id: 'gut',\n      name: 'GUT (Generalize, Unpack, Test)',\n      description: 'Three-phase reasoning pattern',\n    },\n    {\n      id: 'comparative',\n      name: 'Comparative Analysis',\n      description: 'Compare insights from multiple models',\n    },\n    {\n      id: 'consensus',\n      name: 'Consensus Building',\n      description: 'Find agreement across models',\n    },\n    {\n      id: 'debate',\n      name: 'Structured Debate',\n      description: 'Models debate different perspectives',\n    },\n  ];\n}\n\nexport async function processWithOrchestrator(params: OrchestrationRequest): Promise<OrchestrationResponse> {\n  // Legacy function that delegates to the newer processWithFeatherOrchestration\n  return processWithFeatherOrchestration(params);\n}","import {\n  Microscope,\n  PenTool,\n  FileText,\n  Code2,\n  TrendingUp,\n  Palette,\n  BookOpen,\n  LineChart,\n  Sparkles,\n  Rocket,\n  Upload,\n  Target,\n  Shield,\n  Swords,\n  GitBranch,\n  DollarSign,\n  Zap,\n  Coins,\n  Check,\n  Brain,\n  Share2,\n  Edit3,\n  FileCheck,\n  BarChart,\n  FlaskConical,\n  FileType,\n  Copy,\n  Download,\n  Settings,\n  Globe,\n  Image,\n  Users,\n  RotateCw,\n  Mail,\n  Layers,\n  Type,\n  Bot,\n  Clock,\n  Crosshair,\n  Stars,\n  RefreshCw,\n  LucideIcon,\n} from 'lucide-react';\n\ninterface IconProps {\n  className?: string;\n  size?: number;\n}\n\n// Goal icons mapping\nexport const goalIcons: Record<string, LucideIcon> = {\n  Research: Microscope,\n  'Writing/Editing': PenTool,\n  'Document Analysis': FileText,\n  'Code Creation': Code2,\n  'Business Strategy': TrendingUp,\n  'Creative Projects': Palette,\n  'Learning & Education': BookOpen,\n  'Data Analysis': LineChart,\n  Other: Sparkles,\n};\n\n// Analysis type icons\nexport const analysisIcons: Record<string, LucideIcon> = {\n  'UltrAI Intelligence Multiplier': Rocket,\n  'Fact-check & Confidence': Shield,\n  \"Devil's Advocate\": Swords,\n  'Convergence/Divergence': GitBranch,\n};\n\n// Model selection icons\nexport const modelIcons: Record<string, LucideIcon> = {\n  Premium: Target,\n  Speed: Zap,\n  Budget: Coins,\n  Cost: DollarSign,\n};\n\n// Add-on icons\nexport const addonIcons: Record<string, LucideIcon> = {\n  'Export as PDF/Word': FileType,\n  'Priority Processing': Zap,\n  'Advanced Formatting': Type,\n  'Source Citations': BookOpen,\n  'Multi-Language': Globe,\n  'Visual Diagrams': BarChart,\n  'Email Summary': Mail,\n  'Version History': RotateCw,\n  'Team Collaboration': Users,\n};\n\n// Processing status icons\nexport const statusIcons: Record<string, LucideIcon> = {\n  boot: Rocket,\n  submit: Upload,\n  initial: Brain,\n  distribute: Share2,\n  revise: Edit3,\n  meta_submit: FileCheck,\n  meta_analyze: FlaskConical,\n  write: FileType,\n  'Models Used': Bot,\n  'Processing Time': Clock,\n  Pattern: Crosshair,\n  Enhanced: Stars,\n};\n\n// UI action icons\nexport const actionIcons: Record<string, LucideIcon> = {\n  copy: Copy,\n  download: Download,\n  settings: Settings,\n  check: Check,\n  Results: FileText,\n  Restart: RefreshCw,\n};\n\n// Helper component to render icons\nexport const OutlineIcon: React.FC<{\n  name: string;\n  category?: 'goal' | 'analysis' | 'model' | 'addon' | 'status' | 'action';\n  className?: string;\n  size?: number;\n}> = ({ name, category = 'goal', className = '', size = 20 }) => {\n  let Icon: LucideIcon | undefined;\n\n  switch (category) {\n    case 'goal':\n      Icon = goalIcons[name];\n      break;\n    case 'analysis':\n      Icon = analysisIcons[name];\n      break;\n    case 'model':\n      Icon = modelIcons[name];\n      break;\n    case 'addon':\n      Icon = addonIcons[name];\n      break;\n    case 'status':\n      Icon = statusIcons[name];\n      break;\n    case 'action':\n      Icon = actionIcons[name];\n      break;\n  }\n\n  if (!Icon) {\n    return <Sparkles className={className} size={size} />;\n  }\n\n  return <Icon className={className} size={size} />;\n};\n","import { useEffect, useMemo, useState, useRef } from 'react';\nimport { OutlineIcon } from '@components/icons/OutlineIcons';\nimport { Zap, Activity, Check } from 'lucide-react';\n\ninterface LaunchStatusProps {\n  isComplete?: boolean;\n  orchestratorResult?: {\n    models_used?: string[];\n    processing_time?: number;\n    pattern_used?: string;\n    final_result?: string;\n  } | null;\n  selectedAddons?: Array<{ label: string }>;\n  onViewResults?: () => void;\n  onStartNew?: () => void;\n  hasError?: boolean;\n}\n\nexport default function LaunchStatus({\n  isComplete = false,\n  orchestratorResult,\n  selectedAddons = [],\n  onViewResults,\n  onStartNew,\n  hasError = false,\n}: LaunchStatusProps) {\n  const stages = useMemo(\n    () => [\n      {\n        key: 'boot',\n        label: 'Initializing providers & health check',\n        phase: 'initial',\n        subtext: 'Authenticating with AI platforms...',\n        duration: 3500,\n      },\n      {\n        key: 'submit',\n        label: 'Dispatching query to models',\n        phase: 'initial',\n        subtext: 'Setting up concurrent execution...',\n        duration: 700,\n      },\n      {\n        key: 'initial',\n        label: 'Premium models generating (GPT-5, Claude 4.1, Gemini 2.5)',\n        phase: 'initial',\n        subtext: 'Parallel processing across all models...',\n        duration: 14000,\n      },\n      {\n        key: 'distribute',\n        label: 'Cross-checking & intelligence fan-out',\n        phase: 'meta',\n        subtext: 'Sharing insights between models...',\n        duration: 4500,\n      },\n      {\n        key: 'revise',\n        label: 'Critique & revision loop (2 passes)',\n        phase: 'meta',\n        subtext: 'Models refining based on cross-analysis...',\n        duration: 16000,\n      },\n      {\n        key: 'meta_submit',\n        label: 'Meta-draft assembly',\n        phase: 'meta',\n        subtext: 'Preparing unified analysis framework...',\n        duration: 3500,\n      },\n      {\n        key: 'meta_analyze',\n        label: 'Meta-analysis & synthesis',\n        phase: 'synthesis',\n        subtext: 'Creating Ultra Synthesis insights...',\n        duration: 12000,\n      },\n      {\n        key: 'write',\n        label: 'Final formatting & delivery',\n        phase: 'synthesis',\n        subtext: 'Preparing professional document...',\n        duration: 7000,\n      },\n    ],\n    []\n  );\n\n  const [stageIndex, setStageIndex] = useState(0);\n  const [completedStages, setCompletedStages] = useState<number[]>([]);\n  const [animatingStages, setAnimatingStages] = useState<number[]>([]);\n  const [stageProgress, setStageProgress] = useState(0);\n  const stageStartTime = useRef<number>(Date.now());\n\n  useEffect(() => {\n    if (isComplete) {\n      setStageIndex(stages.length - 1);\n      return;\n    }\n    if (hasError) return;\n\n    // Use actual stage durations with some variance\n    const getStageDelay = (index: number) => {\n      const stage = stages[index];\n      if (!stage) return 5000;\n\n      // Add 10-20% variance to simulate real network conditions\n      const variance = 0.9 + Math.random() * 0.3; // 0.9 to 1.2\n      const baseDelay = stage.duration || 5000;\n\n      // Add extra delay occasionally to simulate rate limiting\n      const rateLimit = Math.random() < 0.15 ? 1500 : 0; // 15% chance of +1.5s\n\n      return Math.round(baseDelay * variance + rateLimit);\n    };\n\n    let timeoutId: NodeJS.Timeout;\n    let progressInterval: NodeJS.Timeout;\n\n    const advanceStage = () => {\n      setStageIndex(currentIndex => {\n        const nextIndex = Math.min(currentIndex + 1, stages.length - 2);\n        if (nextIndex !== currentIndex && nextIndex < stages.length - 1) {\n          // Reset progress for new stage\n          setStageProgress(0);\n          stageStartTime.current = Date.now();\n\n          const delay = getStageDelay(nextIndex);\n          timeoutId = setTimeout(advanceStage, delay);\n        }\n        return nextIndex;\n      });\n    };\n\n    // Update progress bar for current stage\n    progressInterval = setInterval(() => {\n      const stage = stages[stageIndex];\n      if (stage) {\n        const elapsed = Date.now() - stageStartTime.current;\n        const duration = stage.duration || 5000;\n        const progress = Math.min(100, (elapsed / duration) * 100);\n        setStageProgress(progress);\n      }\n    }, 100);\n\n    // Start with first stage delay\n    stageStartTime.current = Date.now();\n    timeoutId = setTimeout(advanceStage, getStageDelay(0));\n\n    return () => {\n      clearTimeout(timeoutId);\n      clearInterval(progressInterval);\n    };\n  }, [isComplete, hasError, stages]);\n\n  useEffect(() => {\n    if (isComplete && orchestratorResult) {\n      setStageIndex(stages.length - 1);\n    }\n  }, [isComplete, orchestratorResult, stages.length]);\n\n  const current = Math.max(0, Math.min(stageIndex, stages.length - 1));\n\n  // Handle stage completion animation\n  useEffect(() => {\n    if (current > 0 && !completedStages.includes(current - 1)) {\n      // Animate the previous stage dropping down\n      setAnimatingStages(prev => [...prev, current - 1]);\n\n      // After animation, mark as completed\n      setTimeout(() => {\n        setCompletedStages(prev => [...prev, current - 1]);\n        setAnimatingStages(prev => prev.filter(idx => idx !== current - 1));\n      }, 800);\n    }\n  }, [current, completedStages]);\n  const borderColor = hasError ? 'border-red-500/50' : 'animate-border-hum';\n  const glowColor = hasError\n    ? 'from-red-500/10 via-transparent to-red-500/10'\n    : 'from-cyan-500/5 via-transparent to-orange-500/5';\n\n  // Calculate phase progress\n  const currentPhase = stages[current]?.phase || 'initial';\n  const phaseProgress = {\n    initial: current < 3 ? ((current + 1) / 3) * 100 : 100,\n    meta:\n      current >= 3 && current < 6\n        ? ((current - 2) / 3) * 100\n        : current >= 6\n          ? 100\n          : 0,\n    synthesis: current >= 6 ? ((current - 5) / 2) * 100 : 0,\n  };\n\n  return (\n    <div\n      className={`glass-strong rounded-xl p-6 border-2 ${borderColor} relative overflow-hidden`}\n    >\n      <div\n        className={`absolute inset-0 bg-gradient-to-br ${glowColor} pointer-events-none`}\n      />\n      <div className=\"relative z-10\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <Zap className=\"w-8 h-8 animate-pulse\" />\n            <div>\n              <div className=\"text-sm font-bold uppercase tracking-wider\">\n                Ultra Synthesis Processing\n              </div>\n              <div className=\"text-xs text-white/60 mt-0.5\">\n                Orchestrating{' '}\n                {Array.isArray(orchestratorResult?.models_used)\n                  ? orchestratorResult.models_used.length\n                  : '3'}{' '}\n                AI models\n              </div>\n            </div>\n          </div>\n          {!isComplete && (\n            <div className=\"text-xs text-white/60\">\n              Est.{' '}\n              {(() => {\n                let remaining = 0;\n                for (let i = current + 1; i < stages.length; i++) {\n                  const stage = stages[i];\n                  if (stage) {\n                    remaining += Math.round((stage.duration || 5000) / 1000);\n                  }\n                }\n                // Add buffer for network latency\n                remaining += 2;\n                return Math.max(3, Math.round(remaining));\n              })()}\n              s remaining\n            </div>\n          )}\n        </div>\n\n        {/* Phase Progress Indicators */}\n        <div className=\"grid grid-cols-3 gap-2 mb-6\">\n          <div className=\"text-center\">\n            <div className=\"text-xs font-semibold mb-1\">Initial Analysis</div>\n            <div className=\"h-2 bg-white/10 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-cyan-400 transition-all duration-1000\"\n                style={{ width: `${phaseProgress.initial}%` }}\n              />\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-xs font-semibold mb-1\">Meta Analysis</div>\n            <div className=\"h-2 bg-white/10 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-purple-400 transition-all duration-1000\"\n                style={{ width: `${phaseProgress.meta}%` }}\n              />\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-xs font-semibold mb-1\">Ultra Synthesis</div>\n            <div className=\"h-2 bg-white/10 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-1000\"\n                style={{ width: `${phaseProgress.synthesis}%` }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"relative\" style={{ minHeight: '280px' }}>\n          {/* Active stages display */}\n          <div className=\"space-y-3\">\n            {stages.map((st, i) => {\n              const state =\n                i < current ? 'done' : i === current ? 'current' : 'pending';\n              const isAnimating = animatingStages.includes(i);\n              const isCompleted = completedStages.includes(i);\n\n              if (isCompleted && !isAnimating) return null;\n\n              return (\n                <div\n                  key={st.key}\n                  className={`transition-all duration-500 ${state === 'pending' ? 'translate-x-8 opacity-50' : ''} ${\n                    isAnimating\n                      ? 'animate-[dropDown_0.8s_ease-in-out_forwards]'\n                      : ''\n                  }`}\n                  style={{\n                    animation: isAnimating\n                      ? 'dropDown 0.8s ease-in-out forwards'\n                      : undefined,\n                  }}\n                >\n                  <div className=\"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/20\">\n                    <div\n                      className={`${state === 'done' ? 'text-green-400' : state === 'current' ? 'text-cyan-300' : 'text-white/40'}`}\n                    >\n                      {state === 'done' ? (\n                        <Check className=\"w-6 h-6\" />\n                      ) : state === 'current' ? (\n                        <Activity className=\"w-6 h-6 animate-pulse\" />\n                      ) : (\n                        <OutlineIcon\n                          name={st.key}\n                          category=\"status\"\n                          className=\"w-6 h-6\"\n                        />\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div\n                        className={`text-sm font-semibold ${state === 'current' ? 'text-white' : ''}`}\n                      >\n                        {st.label}\n                      </div>\n                      {st.subtext && state === 'current' && (\n                        <div className=\"text-[10px] text-cyan-300/80 mt-0.5\">\n                          {st.subtext}\n                        </div>\n                      )}\n                    </div>\n                    {state === 'current' && (\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"h-2 w-24 bg-white/10 rounded-full overflow-hidden\">\n                          <div\n                            className=\"h-full bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 rounded-full transition-all duration-300\"\n                            style={{\n                              width: `${stageProgress}%`,\n                            }}\n                          ></div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Collection area at bottom */}\n          {completedStages.length > 0 && (\n            <div className=\"absolute bottom-0 left-0 right-0 mt-4 p-3 bg-gradient-to-t from-black/40 to-transparent rounded-b-lg\">\n              <div className=\"text-[10px] font-semibold text-white/60 mb-2\">\n                Completed Stages\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                {completedStages.map(idx => (\n                  <div\n                    key={stages[idx].key}\n                    className=\"bg-green-500/20 border border-green-400/50 rounded px-2 py-1 text-[9px] text-green-300 animate-[fadeInUp_0.5s_ease-out]\"\n                  >\n                    <Check className=\"w-3 h-3 inline mr-1\" />\n                    {stages[idx].label.split(' ').slice(0, 2).join(' ')}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {isComplete && orchestratorResult && (\n          <>\n            <div className=\"grid grid-cols-3 gap-3 mt-6 mb-4\">\n              <div className=\"bg-white/5 rounded-lg p-3 text-center border border-white/10\">\n                <OutlineIcon\n                  name=\"Models Used\"\n                  category=\"status\"\n                  className=\"w-8 h-8 mx-auto mb-1\"\n                />\n                <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                  Models Used\n                </div>\n                <div className=\"text-[14px] font-bold text-green-300 mt-1\">\n                  {Array.isArray(orchestratorResult.models_used)\n                    ? orchestratorResult.models_used.length\n                    : '3'}\n                </div>\n              </div>\n              <div className=\"bg-white/5 rounded-lg p-3 text-center border border-white/10\">\n                <OutlineIcon\n                  name=\"Processing Time\"\n                  category=\"status\"\n                  className=\"w-8 h-8 mx-auto mb-1\"\n                />\n                <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                  Processing Time\n                </div>\n                <div className=\"text-[14px] font-bold text-blue-300 mt-1\">\n                  {(() => {\n                    // Calculate total time from stages (typical: 30-60s)\n                    const totalMs = stages.reduce(\n                      (sum, stage) => sum + (stage.duration || 5000),\n                      0\n                    );\n                    const totalSec = Math.round(totalMs / 1000);\n                    const mins = Math.floor(totalSec / 60);\n                    const secs = totalSec % 60;\n                    return `${mins}:${String(secs).padStart(2, '0')}`;\n                  })()}\n                </div>\n              </div>\n              <div className=\"bg-white/5 rounded-lg p-3 text-center border border-white/10\">\n                <OutlineIcon\n                  name=\"Pattern\"\n                  category=\"status\"\n                  className=\"w-8 h-8 mx-auto mb-1\"\n                />\n                <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                  Pattern\n                </div>\n                <div className=\"text-[14px] font-bold text-purple-300 mt-1\">\n                  {orchestratorResult.pattern_used || 'Ultra'}\n                </div>\n              </div>\n            </div>\n\n            {selectedAddons.length > 0 && (\n              <div className=\"mb-4 p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-white/20\">\n                <div className=\"text-[11px] font-semibold text-white/80 mb-3 flex items-center gap-2\">\n                  <OutlineIcon\n                    name=\"Enhanced\"\n                    category=\"status\"\n                    className=\"w-4 h-4\"\n                  />{' '}\n                  Enhanced Analysis Features:\n                </div>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {selectedAddons.map((addon, idx) => (\n                    <div\n                      key={idx}\n                      className=\"flex items-center gap-2 text-[11px] text-white/90\"\n                    >\n                      <Check className=\"w-4 h-4 text-green-400\" />\n                      <span>{addon.label}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <div className=\"space-y-2 mt-4\">\n              <button\n                className=\"w-full px-4 py-3 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] relative group\"\n                style={{\n                  background:\n                    'linear-gradient(135deg, #00ff9f 0%, #00d4ff 100%)',\n                  border: '2px solid transparent',\n                  backgroundClip: 'padding-box',\n                }}\n                onClick={onViewResults}\n              >\n                <span className=\"relative z-10 flex items-center justify-center gap-2\">\n                  <OutlineIcon\n                    name=\"Results\"\n                    category=\"action\"\n                    className=\"w-5 h-5\"\n                  />{' '}\n                  View Full Results\n                </span>\n                <div className=\"absolute inset-0 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 opacity-0 group-hover:opacity-50 blur-xl transition-opacity duration-300\" />\n              </button>\n\n              <button\n                className=\"w-full px-3 py-2 rounded-lg font-medium text-white/70 transition-all duration-300 hover:text-white hover:bg-white/10\"\n                style={{ border: '1px solid rgba(255,255,255,0.2)' }}\n                onClick={onStartNew}\n              >\n                <span className=\"flex items-center justify-center gap-2\">\n                  <OutlineIcon\n                    name=\"Restart\"\n                    category=\"action\"\n                    className=\"w-5 h-5\"\n                  />{' '}\n                  Start New Analysis\n                </span>\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n  Internal-only \"no-bad-answer\" analysis tracker.\n  - Aggregates suggestions from model outputs\n  - Deduplicates with simple similarity\n  - Produces confidence per merged item\n  - Persists to localStorage (private, non-UI)\n*/\n\nexport interface AnalysisItem {\n  id: string;\n  text: string;\n  sources: string[]; // model names or identifiers\n  mergedIds: string[];\n  summary: string;\n  confidence: number; // 0..1\n  tags?: string[];\n  createdAt: string; // ISO\n}\n\nexport interface NoBadAnswerPayload {\n  items: AnalysisItem[];\n  generatedAt: string; // ISO\n  prompt?: string;\n}\n\nconst STORAGE_NAMESPACE = 'ultra_internal_no_bad_answer';\n\nfunction safeLog(...args: any[]) {\n  try {\n    // eslint-disable-next-line no-console\n    console.debug('[internal]', ...args);\n  } catch (_) {}\n}\n\nfunction normalizeText(input: string): string {\n  return (input || '')\n    .toLowerCase()\n    .replace(/\\s+/g, ' ')\n    .replace(/[\\-*]+\\s*/g, ' ')\n    .trim();\n}\n\nfunction jaccardSimilarity(a: string, b: string): number {\n  const aTokens = new Set(a.split(' '));\n  const bTokens = new Set(b.split(' '));\n  if (aTokens.size === 0 && bTokens.size === 0) return 1;\n  let intersection = 0;\n  for (const t of aTokens) if (bTokens.has(t)) intersection++;\n  const union = aTokens.size + bTokens.size - intersection;\n  return union === 0 ? 0 : intersection / union;\n}\n\nfunction summarizeCluster(texts: string[]): string {\n  if (texts.length === 0) return '';\n  // Simple summary: first sentence of the longest item\n  const longest = texts.slice().sort((x, y) => y.length - x.length)[0];\n  const firstSentence = longest.split(/(?<=[.!?])\\s+/)[0];\n  return firstSentence.length > 200\n    ? longest.slice(0, 200) + ''\n    : firstSentence;\n}\n\nfunction computeConfidence(votes: number, agreement: number): number {\n  // Heuristic: votes (0.01.0) and agreement (0.01.0)\n  const votesScore = Math.min(1, votes / 5); // saturate at 5 sources\n  const agreementScore = agreement; // direct\n  const base = 0.25;\n  return Math.max(\n    0,\n    Math.min(1, base + 0.5 * votesScore + 0.25 * agreementScore)\n  );\n}\n\nexport function buildNoBadAnswer(\n  rawSuggestions: Array<{ text: string; source?: string }>,\n  prompt?: string\n): NoBadAnswerPayload {\n  const suggestions = (rawSuggestions || []).filter(\n    s => s && s.text && s.text.trim().length > 0\n  );\n  const clusters: Array<{\n    texts: string[];\n    sources: string[];\n    normalized: string[];\n  }> = [];\n\n  const SIM_THRESHOLD = 0.82;\n\n  for (const s of suggestions) {\n    const norm = normalizeText(s.text);\n    let placed = false;\n    for (const c of clusters) {\n      // Compare to cluster representative (first normalized)\n      const rep = c.normalized[0] || '';\n      const sim = jaccardSimilarity(rep, norm);\n      if (sim >= SIM_THRESHOLD) {\n        c.texts.push(s.text);\n        c.sources.push(s.source || 'unknown');\n        c.normalized.push(norm);\n        placed = true;\n        break;\n      }\n    }\n    if (!placed)\n      clusters.push({\n        texts: [s.text],\n        sources: [s.source || 'unknown'],\n        normalized: [norm],\n      });\n  }\n\n  const items: AnalysisItem[] = clusters.map((c, idx) => {\n    const id = `nba_${Date.now()}_${idx}`;\n    const summary = summarizeCluster(c.texts);\n    // Agreement as average pairwise similarity to representative\n    const rep = c.normalized[0] || '';\n    const sims = c.normalized.map(n => jaccardSimilarity(rep, n));\n    const agreement = sims.length\n      ? sims.reduce((a, b) => a + b, 0) / sims.length\n      : 0;\n    const confidence = computeConfidence(c.sources.length, agreement);\n    return {\n      id,\n      text: summary,\n      sources: Array.from(new Set(c.sources)),\n      mergedIds: c.normalized.map((_, i) => `${id}_m${i}`),\n      summary,\n      confidence,\n      createdAt: new Date().toISOString(),\n    };\n  });\n\n  return {\n    items,\n    generatedAt: new Date().toISOString(),\n    prompt,\n  };\n}\n\nexport function persistNoBadAnswer(payload: NoBadAnswerPayload): void {\n  try {\n    const key = `${STORAGE_NAMESPACE}:${payload.generatedAt}`;\n    localStorage.setItem(key, JSON.stringify(payload));\n    localStorage.setItem(`${STORAGE_NAMESPACE}:latest`, key);\n    safeLog('no-bad-answer stored', key, payload.items.length, 'items');\n  } catch (err) {\n    safeLog('persist error', err);\n  }\n}\n\nexport function getLatestNoBadAnswer(): NoBadAnswerPayload | null {\n  try {\n    const latestKey = localStorage.getItem(`${STORAGE_NAMESPACE}:latest`);\n    if (!latestKey) return null;\n    const raw = localStorage.getItem(latestKey);\n    return raw ? (JSON.parse(raw) as NoBadAnswerPayload) : null;\n  } catch (err) {\n    safeLog('read latest error', err);\n    return null;\n  }\n}\n\n// Internal analyses registry (private): definitions, prompt templates, expected outputs\nexport type AnalysisRole =\n  | 'negotiator'\n  | 'mediator'\n  | 'devils_advocate'\n  | 'no_bad_idea';\n\nexport interface AnalysisDefinition {\n  id: AnalysisRole;\n  displayName: string;\n  objective: string;\n  promptTemplate: string; // Internal system prompt used to drive this analysis\n  expectedOutputs: string[]; // Headings/sections we expect back\n}\n\nconst REGISTRY_NS = 'ultra_internal_analyses_registry';\n\nexport function getAnalysesRegistry(): Record<\n  AnalysisRole,\n  AnalysisDefinition\n> {\n  try {\n    const raw = localStorage.getItem(REGISTRY_NS);\n    if (raw) return JSON.parse(raw);\n  } catch (_) {}\n  const defaults: Record<AnalysisRole, AnalysisDefinition> = {\n    negotiator: {\n      id: 'negotiator',\n      displayName: 'Negotiator',\n      objective:\n        'Reconcile competing positions into a mutually beneficial plan with explicit trade-offs.',\n      promptTemplate:\n        'You are a master negotiator. Given multiple model proposals, identify conflicts, propose concessions, and synthesize a win-win plan. Output concise, actionable steps and deal terms.',\n      expectedOutputs: [\n        'Positions Summary',\n        'Conflicts & Constraints',\n        'Proposed Concessions',\n        'Final Negotiated Plan',\n        'Risks & Mitigations',\n      ],\n    },\n    mediator: {\n      id: 'mediator',\n      displayName: 'Mediator',\n      objective:\n        'Facilitate consensus across divergent proposals while preserving key intents.',\n      promptTemplate:\n        'You are a neutral mediator. Cluster overlapping ideas, surface shared ground, and produce a consensus plan preserving core intents. Be transparent about dissent.',\n      expectedOutputs: [\n        'Shared Ground',\n        'Points of Divergence',\n        'Consensus Plan',\n        'Unresolved Items',\n      ],\n    },\n    devils_advocate: {\n      id: 'devils_advocate',\n      displayName: \"Devil's Advocate\",\n      objective:\n        'Stress-test assumptions and identify failures, edge cases, and counterarguments.',\n      promptTemplate:\n        \"Adopt a rigorous devil's advocate stance. Challenge assumptions, find edge cases, quantify impact, and propose tests or safeguards.\",\n      expectedOutputs: [\n        'Key Assumptions',\n        'Counterarguments & Failure Modes',\n        'Impact Assessment',\n        'Tests & Safeguards',\n      ],\n    },\n    no_bad_idea: {\n      id: 'no_bad_idea',\n      displayName: 'No Bad Idea (Convergence/Divergence)',\n      objective:\n        'Include all suggestions; dedupe; label confidence; show divergent branches and convergence options.',\n      promptTemplate:\n        'Include every suggestion without discarding. Dedupe near-duplicates. Group into divergent branches, then propose convergence options. Assign a 0-1 confidence to each consolidated idea (based on support, agreement, clarity).',\n      expectedOutputs: [\n        'All Suggestions (Deduped)',\n        'Divergent Branches',\n        'Convergence Options',\n        'Per-Item Confidence (0-1)',\n      ],\n    },\n  };\n  try {\n    localStorage.setItem(REGISTRY_NS, JSON.stringify(defaults));\n  } catch (_) {}\n  return defaults;\n}\n\nexport function setAnalysesRegistry(\n  reg: Record<AnalysisRole, AnalysisDefinition>\n): void {\n  try {\n    localStorage.setItem(REGISTRY_NS, JSON.stringify(reg));\n  } catch (_) {}\n}\n\nfunction extractSuggestions(\n  orchestratorResult: any\n): Array<{ text: string; source?: string }> {\n  if (!orchestratorResult) return [];\n  // Prefer explicit arrays if present\n  const direct: Array<{ text: string; source?: string }> = [];\n  if (Array.isArray(orchestratorResult?.suggestions)) {\n    for (const s of orchestratorResult.suggestions) {\n      if (typeof s === 'string') direct.push({ text: s });\n      else if (s && typeof s.text === 'string')\n        direct.push({ text: s.text, source: s.source });\n    }\n  }\n  if (direct.length) return direct;\n\n  // Try model_responses: { model: string, text: string }[]\n  if (Array.isArray(orchestratorResult?.model_responses)) {\n    for (const r of orchestratorResult.model_responses) {\n      if (r && typeof r.text === 'string')\n        direct.push({ text: r.text, source: r.model });\n    }\n    if (direct.length) return direct;\n  }\n\n  // Fallback: attempt to split final_result into bullet-like suggestions\n  const fr: string | undefined = orchestratorResult?.final_result;\n  if (typeof fr === 'string' && fr.trim().length > 0) {\n    const lines = fr.split(/\\n+/);\n    for (const line of lines) {\n      const trimmed = line.trim();\n      if (/^(\\-|\\*|\\d+\\.|\\u2022)\\s+/.test(trimmed) || trimmed.length > 40) {\n        // Treat as a candidate suggestion\n        direct.push({ text: trimmed });\n      }\n    }\n  }\n  return direct;\n}\n\nexport function captureNoBadAnswerFromOrchestrator(\n  orchestratorResult: any,\n  selectedModels: string[] | undefined,\n  prompt?: string\n): void {\n  try {\n    const raw = extractSuggestions(orchestratorResult);\n    // Map sources to known selected models if missing\n    const normalized = raw.map((r, i) => ({\n      text: r.text,\n      source:\n        r.source ||\n        (selectedModels && selectedModels[i % (selectedModels.length || 1)]) ||\n        'unknown',\n    }));\n    const payload = buildNoBadAnswer(normalized, prompt);\n    persistNoBadAnswer(payload);\n  } catch (err) {\n    safeLog('capture error', err);\n  }\n}\n","import * as React from 'react';\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group';\nimport { Circle } from 'lucide-react';\n\nimport { cn } from '../../lib/utils';\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn('grid gap-2', className)}\n      {...props}\n      ref={ref}\n    />\n  );\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, children, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n","import React, { InputHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '../../lib/utils';\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = 'Input';\n","export function loadSkin(skin: string) {\n  switch (skin) {\n    case 'afternoon':\n      import('./afternoon.css');\n      break;\n    case 'sunset':\n      import('./sunset.css');\n      break;\n    case 'morning':\n      import('./morning.css');\n      break;\n    case 'minimalist':\n      import('./minimalist.css');\n      break;\n    case 'business':\n      import('./business.css');\n      break;\n    default:\n      import('./night.css');\n  }\n}\n","import { useEffect, useState } from 'react';\n\n/**\n * Hook to detect if the user prefers reduced motion\n * @returns boolean indicating if reduced motion is preferred\n */\nexport function useReducedMotion(): boolean {\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\n\n  useEffect(() => {\n    // Check if window is available (for SSR compatibility)\n    if (typeof window === 'undefined' || !window.matchMedia) {\n      return;\n    }\n\n    // Create media query\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n\n    // Set initial value\n    setPrefersReducedMotion(mediaQuery.matches);\n\n    // Handler for changes\n    const handleChange = (event: MediaQueryListEvent) => {\n      setPrefersReducedMotion(event.matches);\n    };\n\n    // Modern browsers\n    if (mediaQuery.addEventListener) {\n      mediaQuery.addEventListener('change', handleChange);\n      return () => mediaQuery.removeEventListener('change', handleChange);\n    }\n    // Legacy browsers\n    else if (mediaQuery.addListener) {\n      mediaQuery.addListener(handleChange);\n      return () => mediaQuery.removeListener(handleChange);\n    }\n  }, []);\n\n  return prefersReducedMotion;\n}\n\n/**\n * Utility to conditionally apply animation classes based on motion preference\n */\nexport function useAnimationClass(\n  animationClass: string,\n  fallbackClass: string = ''\n): string {\n  const prefersReducedMotion = useReducedMotion();\n  return prefersReducedMotion ? fallbackClass : animationClass;\n}\n\n/**\n * Utility to get animation duration based on motion preference\n */\nexport function useAnimationDuration(duration: number): number {\n  const prefersReducedMotion = useReducedMotion();\n  return prefersReducedMotion ? 0 : duration;\n}\n","import React from 'react';\nimport { cn } from '../../lib/utils';\n\ninterface SwitchProps {\n  id?: string;\n  checked?: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n  disabled?: boolean;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport const Switch = React.forwardRef<HTMLButtonElement, SwitchProps>(\n  (\n    {\n      id,\n      checked = false,\n      onCheckedChange,\n      disabled = false,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const handleClick = () => {\n      if (!disabled && onCheckedChange) {\n        onCheckedChange(!checked);\n      }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      if (e.key === ' ' || e.key === 'Enter') {\n        e.preventDefault();\n        handleClick();\n      }\n    };\n\n    return (\n      <button\n        ref={ref}\n        id={id}\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        disabled={disabled}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        className={cn(\n          'relative inline-flex h-6 w-11 items-center rounded-full transition-colors',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2',\n          'focus-visible:ring-mint-400 focus-visible:ring-offset-black',\n          checked ? 'bg-mint-400' : 'bg-white/20',\n          disabled && 'opacity-50 cursor-not-allowed',\n          className\n        )}\n        {...props}\n      >\n        <span\n          className={cn(\n            'inline-block h-4 w-4 transform rounded-full bg-white transition-transform',\n            checked ? 'translate-x-6' : 'translate-x-1'\n          )}\n        />\n      </button>\n    );\n  }\n);\n\nSwitch.displayName = 'Switch';\n","import React from 'react';\nimport { useReducedMotion } from '../hooks/useReducedMotion';\nimport { Switch } from './ui/switch';\n\nexport const AnimationToggle: React.FC = () => {\n  const prefersReducedMotion = useReducedMotion();\n  const [animationsEnabled, setAnimationsEnabled] =\n    React.useState(!prefersReducedMotion);\n\n  React.useEffect(() => {\n    // Update body class based on preference\n    if (!animationsEnabled) {\n      document.body.classList.add('reduce-motion');\n    } else {\n      document.body.classList.remove('reduce-motion');\n    }\n  }, [animationsEnabled]);\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <Switch\n        id=\"animation-toggle\"\n        checked={animationsEnabled}\n        onCheckedChange={setAnimationsEnabled}\n        aria-label=\"Toggle animations\"\n      />\n      <label\n        htmlFor=\"animation-toggle\"\n        className=\"text-[11px] text-white/70 cursor-pointer select-none font-medium\"\n      >\n        Animations\n      </label>\n    </div>\n  );\n};\n\nexport default AnimationToggle;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { config, Skin } from '../config';\nimport { loadSkin } from '../skins';\nimport { AnimationToggle } from './AnimationToggle';\n\nexport default function SkinSwitcher() {\n  const params = useMemo(() => new URLSearchParams(window.location.search), []);\n  const paramSkin = params.get('skin') as Skin | null;\n\n  // Check localStorage for saved skin preference\n  const savedSkin = localStorage.getItem('selectedSkin') as Skin | null;\n\n  const initialSkin: Skin =\n    paramSkin && (config.availableSkins as string[]).includes(paramSkin)\n      ? paramSkin\n      : savedSkin && (config.availableSkins as string[]).includes(savedSkin)\n        ? savedSkin\n        : config.defaultSkin;\n\n  const [skin, setSkin] = useState<Skin>(initialSkin);\n\n  useEffect(() => {\n    try {\n      loadSkin(skin);\n      // Update body class for skin-specific styles\n      document.body.className = document.body.className.replace(\n        /skin-\\w+/g,\n        ''\n      );\n      document.body.classList.add(`skin-${skin}`);\n    } catch (e) {\n      // Fallback to default skin if dynamic import fails\n      loadSkin(config.defaultSkin);\n      document.body.classList.add(`skin-${config.defaultSkin}`);\n    }\n  }, [skin]);\n\n  const handleChange = (newSkin: Skin) => {\n    if ((config.availableSkins as string[]).includes(newSkin)) {\n      setSkin(newSkin);\n      // Save the skin preference to localStorage\n      localStorage.setItem('selectedSkin', newSkin);\n    }\n  };\n\n  const getThemeIcon = (themeName: string) => {\n    switch (themeName) {\n      case 'morning':\n        return '';\n      case 'afternoon':\n        return '';\n      case 'sunset':\n        return '';\n      case 'night':\n        return '';\n      case 'minimalist':\n        return '';\n      default:\n        return '';\n    }\n  };\n\n  const getThemeColor = (themeName: string) => {\n    switch (themeName) {\n      case 'morning':\n        return '#FFD27A';\n      case 'afternoon':\n        return '#7AD1FF';\n      case 'sunset':\n        return '#FF7A7A';\n      case 'night':\n        return '#B88CFF';\n      case 'minimalist':\n        return '#6B7280';\n      default:\n        return '#fff';\n    }\n  };\n\n  return (\n    <div\n      className=\"skin-switcher\"\n      style={{\n        position: 'fixed',\n        top: 70,\n        right: 10,\n        background: 'rgba(0, 0, 0, 0.85)',\n        backdropFilter: 'blur(10px)',\n        color: '#fff',\n        padding: '12px',\n        borderRadius: 12,\n        fontSize: 12,\n        zIndex: 1000,\n        border: '1px solid rgba(255, 255, 255, 0.1)',\n        boxShadow: '0 4px 20px rgba(0, 0, 0, 0.3)',\n      }}\n    >\n      <div\n        style={{\n          fontSize: 11,\n          fontWeight: 'bold',\n          marginBottom: 8,\n          textTransform: 'uppercase',\n          letterSpacing: 1,\n          opacity: 0.8,\n        }}\n        id=\"theme-selector-label\"\n      >\n        Theme\n      </div>\n      <div\n        style={{ display: 'flex', gap: 4 }}\n        role=\"radiogroup\"\n        aria-labelledby=\"theme-selector-label\"\n      >\n        {config.availableSkins.map(s => {\n          const isActive = skin === s;\n          const themeColor = getThemeColor(s);\n          return (\n            <button\n              key={s}\n              onClick={() => handleChange(s as Skin)}\n              title={s.charAt(0).toUpperCase() + s.slice(1)}\n              role=\"radio\"\n              aria-checked={isActive}\n              aria-label={`Select ${s} theme`}\n              style={{\n                background: isActive\n                  ? `${themeColor}20`\n                  : 'rgba(255, 255, 255, 0.05)',\n                border: isActive\n                  ? `2px solid ${themeColor}`\n                  : '1px solid rgba(255, 255, 255, 0.2)',\n                color: isActive ? themeColor : 'rgba(255, 255, 255, 0.7)',\n                borderRadius: 8,\n                padding: '8px',\n                cursor: 'pointer',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                gap: 2,\n                fontSize: 16,\n                minWidth: 45,\n                transition: 'all 0.2s ease',\n                transform: isActive ? 'scale(1.05)' : 'scale(1)',\n              }}\n              onMouseEnter={e => {\n                if (!isActive) {\n                  e.currentTarget.style.transform = 'scale(1.05)';\n                  e.currentTarget.style.background = `${themeColor}10`;\n                }\n              }}\n              onMouseLeave={e => {\n                if (!isActive) {\n                  e.currentTarget.style.transform = 'scale(1)';\n                  e.currentTarget.style.background =\n                    'rgba(255, 255, 255, 0.05)';\n                }\n              }}\n            >\n              <div>{getThemeIcon(s)}</div>\n              <div\n                style={{\n                  fontSize: 9,\n                  fontWeight: isActive ? 'bold' : 'normal',\n                }}\n              >\n                {s === 'minimalist' ? 'Min' : s.slice(0, 3).toUpperCase()}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      <div className=\"mt-3 pt-3 border-t border-white/20\">\n        <AnimationToggle />\n      </div>\n    </div>\n  );\n}\n","'use client';\nimport { useEffect, useState, useMemo, useCallback, memo } from 'react';\nimport { Button } from '@components/ui/button';\nimport { Checkbox } from '@components/ui/checkbox';\nimport { Card } from '@components/ui/card';\nimport {\n  processWithFeatherOrchestration,\n  getAvailableModels,\n} from '@api/orchestrator';\nimport LaunchStatus from '@components/wizard/LaunchStatus';\nimport { captureNoBadAnswerFromOrchestrator } from '@internal/analysisTracker';\nimport { RadioGroup, RadioGroupItem } from '@components/ui/radio-group';\nimport { Input } from '@components/ui/input';\nimport { OutlineIcon } from '@components/icons/OutlineIcons';\nimport {\n  Rocket,\n  Film,\n  Check,\n  Copy,\n  Zap,\n  Activity,\n  Sparkles,\n  Brain,\n  Network,\n  Download,\n} from 'lucide-react';\nimport SkinSwitcher from '@components/SkinSwitcher';\n// Bridge animation disabled for professional static look\n\ninterface StepOption {\n  label: string;\n  cost?: number;\n  icon?: string;\n  description?: string;\n}\ninterface Step {\n  title: string;\n  color: string;\n  type: string;\n  narrative?: string;\n  options?: StepOption[];\n  baseCost?: number;\n}\ninterface SummaryItem {\n  label: string;\n  cost: number;\n  color: string;\n  section: string;\n}\n\ninterface ReceiptSectionProps {\n  sectionTitle: string;\n  items: SummaryItem[];\n}\n\nconst ReceiptSection = memo(function ReceiptSection({\n  sectionTitle,\n  items,\n}: ReceiptSectionProps) {\n  const dots = '. . . . . . . . . . . . . . . . . . . .';\n  return (\n    <div className=\"mb-3\">\n      <div className=\"uppercase text-[9px] tracking-[0.2em] mb-2 text-center text-white/60 font-bold\">\n        {sectionTitle}\n      </div>\n      {items.map((s, i) => (\n        <div\n          key={i}\n          className=\"text-[11px] leading-relaxed flex items-center text-white/85 hover:text-white transition-colors duration-200 group cursor-pointer mb-1\"\n        >\n          <span\n            className=\"flex-auto overflow-hidden text-ellipsis whitespace-nowrap group-hover:text-shadow-sm font-medium\"\n            title={s.label}\n          >\n            {s.label}\n          </span>\n          <span className=\"px-1 select-none opacity-30 group-hover:opacity-50 text-[10px]\">\n            {dots}\n          </span>\n          <span className=\"text-right w-16 group-hover:text-pink-400 transition-colors font-mono\">\n            ${s.cost.toFixed(2)}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n});\n\nexport default function CyberWizard() {\n  // Track current skin and update when it changes\n  const [currentSkin, setCurrentSkin] = useState(() => {\n    return (\n      Array.from(document.body.classList)\n        .find(cls => cls.startsWith('skin-'))\n        ?.replace('skin-', '') || 'night'\n    );\n  });\n\n  // Minimalist skin flag removed (not used)\n  const isNonTimeSkin =\n    currentSkin === 'minimalist' || currentSkin === 'business';\n\n  // Watch for skin changes\n  useEffect(() => {\n    const observer = new MutationObserver(() => {\n      const newSkin =\n        Array.from(document.body.classList)\n          .find(cls => cls.startsWith('skin-'))\n          ?.replace('skin-', '') || 'night';\n      if (newSkin !== currentSkin) {\n        setCurrentSkin(newSkin);\n      }\n    });\n\n    observer.observe(document.body, {\n      attributes: true,\n      attributeFilter: ['class'],\n    });\n\n    return () => observer.disconnect();\n  }, [currentSkin]);\n  const [steps, setSteps] = useState<Step[]>([]);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [summary, setSummary] = useState<SummaryItem[]>([]);\n  const [totalCost, setTotalCost] = useState(0);\n  const [selectedGoals, setSelectedGoals] = useState<string[]>([]);\n  const [selectedInputs, setSelectedInputs] = useState<string[]>([]);\n  const [selectedModels, setSelectedModels] = useState<string[]>([]);\n  const [availableModels, setAvailableModels] = useState<string[] | null>(null);\n  const [availableModelInfos, setAvailableModelInfos] = useState<\n    Record<string, { provider: string; cost_per_1k_tokens: number }>\n  >({});\n  const [, setModelSelectionMode] = useState<'auto' | 'manual'>('auto');\n  const [autoPreference, setAutoPreference] = useState<\n    'cost' | 'premium' | 'speed'\n  >('premium');\n  // const [selectedAddons, setSelectedAddons] = useState<string[]>([]);\n  const [showStatus, setShowStatus] = useState<boolean>(false);\n  const [stepFadeKey, setStepFadeKey] = useState(0);\n  const [userQuery, setUserQuery] = useState<string>('');\n  const [queryFocused, setQueryFocused] = useState<boolean>(false);\n  const [isRunning, setIsRunning] = useState<boolean>(false);\n  const [orchestratorResult, setOrchestratorResult] = useState<any>(null);\n  const [orchestratorError, setOrchestratorError] = useState<string | null>(\n    null\n  );\n  const [showResults, setShowResults] = useState<boolean>(false);\n  const [isOptimizing] = useState<boolean>(false);\n  const [optimizationStep] = useState<number>(0);\n  const [, setModelStatuses] = useState<\n    Record<string, 'checking' | 'ready' | 'error'>\n  >({});\n  const [viewingIteration, setViewingIteration] = useState<\n    'final' | 'initial' | 'meta'\n  >('final');\n  // Sync bgTheme with currentSkin for non-minimalist skins\n  const [bgTheme, setBgTheme] = useState<\n    'morning' | 'afternoon' | 'sunset' | 'night'\n  >('night');\n\n  // Set document title for accessibility and SEO\n  useEffect(() => {\n    const previousTitle = document.title;\n    document.title = 'UltrAI  Wizard';\n    return () => {\n      document.title = previousTitle;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (\n      !isNonTimeSkin &&\n      ['morning', 'afternoon', 'sunset', 'night'].includes(currentSkin)\n    ) {\n      setBgTheme(currentSkin as any);\n    }\n  }, [currentSkin, isNonTimeSkin]);\n  const [otherGoalText, setOtherGoalText] = useState<string>('');\n  const [showModelList, setShowModelList] = useState<boolean>(false);\n  const [addonsSubmitted, setAddonsSubmitted] = useState<boolean>(false);\n  const [, setLastAddedItem] = useState<string | null>(null);\n  // Billboard overlay disabled; remove state to avoid unused variable lints\n  // Check if we're in demo/mock mode based on environment (read at runtime)\n  const isDemoMode =\n    (globalThis as any).import?.meta?.env?.VITE_API_MODE === 'mock' ||\n    (globalThis as any).import?.meta?.env?.VITE_DEMO_MODE === 'true';\n\n  // Setup demo mode (no auto-progression)\n  useEffect(() => {\n    if (!isDemoMode) return;\n    // In demo mode, just set default models and start at intro\n    setSelectedModels(['gpt-5', 'claude-4.1', 'gemini-2.5']);\n    setCurrentStep(0);\n    setStepFadeKey(k => k + 1);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDemoMode]);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const response = await fetch('/wizard_steps.json', {\n          cache: 'no-store',\n        });\n        if (!response.ok) throw new Error(`HTTP ${response.status}`);\n        const data = await response.json();\n        if (!Array.isArray(data))\n          throw new Error('Invalid steps schema: not an array');\n        setSteps(data as Step[]);\n      } catch (error) {\n        console.error('Failed to load wizard steps', error);\n        setSteps([]);\n      }\n    };\n    load();\n  }, []);\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.ctrlKey || e.metaKey) return;\n\n      switch (e.key) {\n        case 'ArrowRight':\n          if (currentStep < steps.length - 1 && !showStatus) {\n            setCurrentStep(prev => prev + 1);\n            setStepFadeKey(k => k + 1);\n          }\n          break;\n        case 'ArrowLeft':\n          if (currentStep > 0 && !showStatus) {\n            setCurrentStep(prev => prev - 1);\n            setStepFadeKey(k => k + 1);\n          }\n          break;\n        case 'Enter':\n          if (currentStep === 0) {\n            setCurrentStep(1);\n            setStepFadeKey(k => k + 1);\n          }\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [currentStep, steps.length, showStatus]);\n\n  // Load available models for Step 3 (only show keyed models)\n  useEffect(() => {\n    const fetchAvailable = async () => {\n      try {\n        const d = await getAvailableModels();\n        if (d && Array.isArray(d.models)) {\n          // Normalize models to string[]\n          const names = d.models\n            .map((m: any) => (typeof m === 'string' ? m : m.id || m.name))\n            .filter(Boolean);\n          setAvailableModels(names as string[]);\n          const statusMap: Record<string, 'checking' | 'ready' | 'error'> = {};\n\n          // If modelInfos present, store it; else build a minimal map\n          if ((d as any).modelInfos) {\n            setAvailableModelInfos((d as any).modelInfos);\n            names.forEach((modelName: string) => {\n              statusMap[modelName] = 'ready';\n            });\n          } else {\n            const infoMap: Record<\n              string,\n              { provider: string; cost_per_1k_tokens: number }\n            > = {};\n            (d.models as any[]).forEach((m: any) => {\n              const name = typeof m === 'string' ? m : m.id || m.name;\n              if (!name) return;\n              infoMap[name] = {\n                provider: m.provider || '',\n                cost_per_1k_tokens: m.cost_per_1k_tokens || 0,\n              };\n              statusMap[name] = 'ready';\n            });\n            setAvailableModelInfos(infoMap);\n          }\n          setModelStatuses(statusMap);\n        } else {\n          setAvailableModels([]);\n        }\n      } catch (e) {\n        console.error('Failed to load available models', e);\n        setAvailableModels([]);\n      }\n    };\n    fetchAvailable();\n  }, []);\n\n  // Kick off Ultra Synthesis pipeline when status is shown (hook placed before any conditional returns)\n  useEffect(() => {\n    // Enforce minimum 3 selected models client-side to avoid unnecessary calls\n    if (!showStatus || isRunning) return;\n    if ((selectedModels?.length || 0) > 0 && selectedModels.length < 3) {\n      setOrchestratorError('At least 3 models are required to run Ultra Synthesis.');\n      return;\n    }\n    setIsRunning(true);\n    (async () => {\n      try {\n        setOrchestratorError(null);\n\n        // Use the orchestrator API (which will use mock in demo mode)\n        const models = selectedModels.length > 0 ? selectedModels : null;\n        const res = await processWithFeatherOrchestration({\n          prompt: userQuery || '',\n          models,\n          pattern: 'comparative',\n          ultraModel: null,\n          outputFormat: 'plain',\n        });\n\n        // Check if the API returned an error in the response\n        if ((res as any)?.error) {\n          const errVal: any = (res as any).error;\n          const errorMessage =\n            typeof errVal === 'object'\n              ? errVal?.message || JSON.stringify(errVal)\n              : String(errVal);\n          setOrchestratorError(errorMessage);\n          setOrchestratorResult(null);\n        } else {\n          setOrchestratorResult(res);\n          console.log('Ultra Synthesis result', res);\n        }\n      } catch (e: any) {\n        console.error('Ultra Synthesis failed', e);\n        setOrchestratorError(e?.message || String(e));\n      } finally {\n        setIsRunning(false);\n      }\n    })();\n  }, [showStatus, userQuery, selectedModels]);\n\n  // Internal: capture no-bad-answer aggregation after results\n  useEffect(() => {\n    if (!orchestratorResult) return;\n    try {\n      captureNoBadAnswerFromOrchestrator(\n        orchestratorResult,\n        selectedModels,\n        userQuery\n      );\n    } catch (_) {\n      // internal-only; ignore\n    }\n  }, [orchestratorResult, selectedModels, userQuery]);\n\n  const addSelection = (\n    label: string,\n    cost: number | undefined,\n    color: string,\n    section?: string\n  ) => {\n    const appliedCost = typeof cost === 'number' ? cost : 0;\n    const sectionVal = section || step.title;\n    setSummary(prev => [\n      ...prev,\n      { label, cost: appliedCost, color, section: sectionVal } as SummaryItem,\n    ]);\n    setTotalCost(prev => prev + appliedCost);\n    setLastAddedItem(`${sectionVal}-${label}`);\n    setTimeout(() => setLastAddedItem(null), 1000);\n  };\n\n  const removeSelectionCost = (cost?: number) => {\n    const appliedCost = typeof cost === 'number' ? cost : 0;\n    setTotalCost(prev => Math.max(0, prev - appliedCost));\n  };\n\n  const step = steps[currentStep];\n  const mapColorHex = (c: string) =>\n    c === 'mint'\n      ? '#00ff9f'\n      : c === 'blue'\n        ? '#00d4ff'\n        : c === 'deepblue'\n          ? '#4169ff'\n          : c === 'purple'\n            ? '#bd00ff'\n            : c === 'pink'\n              ? '#ff0095'\n              : '#d600ff';\n  const mapColorRGBA = (c: string, alpha: number) =>\n    c === 'mint'\n      ? `rgba(0,255,159,${alpha})`\n      : c === 'blue'\n        ? `rgba(0,212,255,${alpha})`\n        : c === 'deepblue'\n          ? `rgba(65,105,255,${alpha})`\n          : c === 'purple'\n            ? `rgba(189,0,255,${alpha})`\n            : c === 'pink'\n              ? `rgba(255,0,149,${alpha})`\n              : `rgba(214,0,255,${alpha})`;\n\n  const colorHex = useMemo(\n    () => (step?.color ? mapColorHex(step.color) : '#00ff9f'),\n    [step]\n  );\n  const receiptColor = '#ff6600'; // Cyberpunk orange\n\n  const handleGoalToggle = useCallback(\n    (label: string) => {\n      if (!step) return;\n      const option = step.options?.find(o => o.label === label);\n      const cost = option?.cost;\n      setSelectedGoals(prev =>\n        prev.includes(label)\n          ? (removeSelectionCost(cost), prev.filter(l => l !== label))\n          : (addSelection(\n              label,\n              cost,\n              step?.color || 'mint',\n              step?.title || ''\n            ),\n            [...prev, label])\n      );\n    },\n    [step]\n  );\n\n  const handleInputToggle = useCallback(\n    (label: string) => {\n      if (!step) return;\n      const option = step.options?.find(o => o.label === label);\n      const cost = option?.cost;\n      setSelectedInputs(prev =>\n        prev.includes(label)\n          ? (removeSelectionCost(cost), prev.filter(l => l !== label))\n          : (addSelection(\n              label,\n              cost,\n              step?.color || 'blue',\n              step?.title || ''\n            ),\n            [...prev, label])\n      );\n    },\n    [step]\n  );\n\n  const handleModelToggle = useCallback(\n    (label: string) => {\n      if (!step) return;\n      const option = step.options?.find(o => o.label === label);\n      const cost = option?.cost;\n      setSelectedModels(prev =>\n        prev.includes(label)\n          ? (removeSelectionCost(cost), prev.filter(l => l !== label))\n          : (addSelection(\n              label,\n              cost,\n              step?.color || 'deepblue',\n              step?.title || ''\n            ),\n            [...prev, label])\n      );\n    },\n    [step]\n  );\n\n  const monoStack =\n    'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace';\n\n  // Theme overlay helper to tint background by time of day\n  const themeOverlayStyle = useMemo(() => {\n    switch (bgTheme) {\n      case 'morning':\n        return {\n          background:\n            'linear-gradient(180deg, rgba(255, 210, 122, 0.25) 0%, rgba(255, 255, 255, 0) 60%)',\n          zIndex: 1,\n        };\n      case 'afternoon':\n        return {\n          background:\n            'linear-gradient(180deg, rgba(122, 209, 255, 0.25) 0%, rgba(255, 255, 255, 0) 60%)',\n          zIndex: 1,\n        };\n      case 'sunset':\n        return {\n          background:\n            'linear-gradient(180deg, rgba(255, 122, 122, 0.20) 0%, rgba(255, 0, 212, 0.15) 40%, rgba(0, 0, 0, 0) 70%)',\n          zIndex: 1,\n        };\n      case 'night':\n      default:\n        return {\n          background:\n            'linear-gradient(180deg, rgba(0, 17, 51, 0.20) 0%, rgba(51, 0, 68, 0.15) 40%, rgba(0, 0, 0, 0) 70%)',\n          zIndex: 1,\n        };\n    }\n  }, [bgTheme]);\n\n  const themeBgUrl = useMemo(() => {\n    let url;\n    switch (bgTheme) {\n      case 'morning':\n        url = '/bg-morning.jpg';\n        break;\n      case 'afternoon':\n        url = '/bg-afternoon.jpg';\n        break;\n      case 'sunset':\n        url = '/bg-sunset.jpg';\n        break;\n      case 'night':\n      default:\n        url = '/bg-nightf-1x.jpg';\n        break;\n    }\n    return url;\n  }, [bgTheme]);\n\n  // Provide explicit 2x variant for retina where available\n  const themeBgUrl2x = useMemo(() => {\n    let url;\n    switch (bgTheme) {\n      case 'morning':\n        url = '/bg-morning.jpg';\n        break;\n      case 'afternoon':\n        url = '/bg-afternoon.jpg';\n        break;\n      case 'sunset':\n        url = '/bg-sunset.jpg';\n        break;\n      case 'night':\n      default:\n        url = '/bg-nightf-2x.jpg';\n        break;\n    }\n    return url;\n  }, [bgTheme]);\n\n  // Glass panel darkness based on theme for better readability\n  const glassBackground = useMemo(() => {\n    switch (bgTheme) {\n      case 'morning':\n        return 'rgba(0, 0, 0, 0.35)'; // Darker for bright morning\n      case 'afternoon':\n        return 'rgba(0, 0, 0, 0.30)'; // Darker for bright afternoon\n      case 'sunset':\n        return 'rgba(0, 0, 0, 0.25)'; // Slightly darker for better contrast\n      case 'night':\n      default:\n        return 'rgba(0, 0, 0, 0.25)'; // Darker for night to improve legibility\n    }\n  }, [bgTheme]);\n\n  // Selected models display memo removed (not used)\n  const receiptSections = useMemo(() => {\n    return steps\n      .map(s => s.title)\n      .filter(title => summary.some(it => it.section === title))\n      .map(sectionTitle => (\n        <ReceiptSection\n          key={sectionTitle}\n          sectionTitle={sectionTitle}\n          items={summary.filter(it => it.section === sectionTitle)}\n        />\n      ));\n  }, [steps, summary]);\n\n  const chooseAutoModels = useCallback(\n    (pref: 'cost' | 'premium' | 'speed', names: string[] | null): string[] => {\n      const list = Array.isArray(names) ? names : [];\n      if (list.length === 0) return [];\n      const has = (n: string) => list.includes(n);\n      if (pref === 'premium') {\n        const picks = ['gpt-5', 'claude-4.1', 'gemini-2.5'].filter(has);\n        return picks.length ? picks : list.slice(0, Math.min(3, list.length));\n      }\n      if (pref === 'speed') {\n        const picks = ['gpt-4o-mini', 'gemini-1.5-flash'].filter(has);\n        return picks.length ? picks : list.slice(0, Math.min(2, list.length));\n      }\n      // cost\n      const cheapSorted = list\n        .map(name => ({\n          name,\n          cost: availableModelInfos[name]?.cost_per_1k_tokens ?? 0,\n        }))\n        .sort((a, b) => a.cost - b.cost)\n        .map(x => x.name);\n      return cheapSorted.slice(0, Math.min(2, cheapSorted.length));\n    },\n    [availableModelInfos]\n  );\n\n  const optimizeQuery = useCallback(() => {\n    // This function will suggest an improved query based on the user's input\n    const query = userQuery.trim();\n    let improvedQuery = query;\n\n    // Add context based on selected goals\n    if (selectedGoals.length > 0) {\n      improvedQuery = `For ${selectedGoals.join(', ').toLowerCase()}: ${query}`;\n    }\n\n    // Add specificity suggestions\n    if (!query.includes('specific') && !query.includes('detailed')) {\n      improvedQuery += '. Please provide specific, detailed analysis';\n    }\n\n    // Add format suggestions\n    if (!query.includes('format') && !query.includes('structure')) {\n      improvedQuery += ' with structured output';\n    }\n\n    setUserQuery(improvedQuery);\n  }, [userQuery, selectedGoals]);\n\n  // Show loading state while steps are being loaded\n  if (steps.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>\n          <p className=\"text-white opacity-70\">Loading UltrAI...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Step 0: Intro  render with background and billboard\n  if (currentStep === 0 && step && step.type === 'intro') {\n    return (\n      <div className=\"relative flex min-h-screen w-full items-start justify-center p-0 text-white font-cyber text-sm overflow-hidden\">\n        {/* Animated Background */}\n        <div className=\"absolute inset-0\">\n          <div\n            className=\"absolute inset-0\"\n            style={{\n              backgroundImage:\n                \"url('/cityscape-background.jpeg'), url('/ultrai-bg.jpg')\",\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n              transform: 'none',\n            }}\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80\" />\n\n          {/* Animated grid overlay */}\n          <div\n            className=\"absolute inset-0\"\n            style={{\n              backgroundImage: `linear-gradient(rgba(0,255,159,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,255,159,0.03) 1px, transparent 1px)`,\n              backgroundSize: '50px 50px',\n              animation: 'grid-move 20s linear infinite',\n            }}\n          />\n\n          {/* Demo Mode Indicator */}\n          {isDemoMode && (\n            <div className=\"absolute top-4 right-4 z-50\">\n              <div className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-cyan-500/20 border border-green-400/30 backdrop-blur-md animate-fade-in\">\n                <div className=\"w-2 h-2 rounded-full bg-green-400 animate-pulse\" />\n                <span className=\"text-xs font-medium text-green-300\">\n                  Demo Environment\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Removed floating particles for cleaner professional look */}\n\n        {/* Hero content */}\n        <div\n          className=\"relative z-10 w-full mx-auto max-w-5xl px-8\"\n          style={{ marginTop: '25vh' }}\n        >\n          {/* Neon Billboard sitting on top of box */}\n          <div className=\"relative\">\n            <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-full mb-0.5\">\n              <div className=\"relative\">\n                <div\n                  className=\"px-8 py-3 rounded-lg animate-pulse-glow\"\n                  style={{\n                    background: 'rgba(0, 0, 0, 0.8)',\n                    border: '2px solid #00ff9f',\n                    boxShadow: `\n                      0 0 20px #00ff9f,\n                      inset 0 0 20px rgba(0, 255, 159, 0.2),\n                      0 0 40px rgba(0, 255, 159, 0.4)\n                    `,\n                  }}\n                >\n                  <h1\n                    className=\"text-3xl font-bold tracking-wider\"\n                    style={{\n                      color: '#00ff9f',\n                      textShadow: '0 0 10px #00ff9f',\n                    }}\n                  >\n                    ULTRA AI\n                  </h1>\n                </div>\n                {/* Billboard legs */}\n                <div className=\"absolute -bottom-4 left-4 w-1 h-4 bg-gray-600\"></div>\n                <div className=\"absolute -bottom-4 right-4 w-1 h-4 bg-gray-600\"></div>\n              </div>\n            </div>\n\n            {/* Main professional card */}\n            <div\n              className=\"glass-panel glass-grain relative p-12 rounded-3xl overflow-hidden animate-scale-in transition-smooth\"\n              style={{\n                background: glassBackground,\n                backdropFilter: 'blur(40px)',\n                WebkitBackdropFilter: 'blur(40px)',\n                border: '2px solid #ff6600',\n                boxShadow:\n                  '0 0 60px rgba(255,102,0,0.3), inset 0 0 40px rgba(255,102,0,0.05)',\n                animationDelay: '0.3s',\n              }}\n            >\n              <div className=\"relative space-y-8\">\n                {/* Feature pills */}\n                <div className=\"flex flex-wrap gap-3 justify-center\">\n                  {[\n                    {\n                      icon: '',\n                      text: 'Multi-Model Orchestration',\n                      color: 'mint',\n                    },\n                    { icon: '', text: 'Real-time Synthesis', color: 'blue' },\n                    {\n                      icon: '',\n                      text: 'Intelligent Optimization',\n                      color: 'purple',\n                    },\n                    { icon: '', text: 'Premium Results', color: 'pink' },\n                  ].map((feature, i) => (\n                    <span\n                      key={i}\n                      className={`px-6 py-2 rounded-full text-sm font-semibold border backdrop-blur animate-slide-in-bottom hover:scale-105 transition-smooth cursor-pointer`}\n                      style={{\n                        background: `${mapColorRGBA(feature.color, 0.2)}`,\n                        borderColor: `${mapColorHex(feature.color)}50`,\n                        color: mapColorHex(feature.color),\n                        animationDelay: '0.3s',\n                      }}\n                    >\n                      {feature.icon} {feature.text}\n                    </span>\n                  ))}\n                </div>\n\n                {/* Main narrative */}\n                <div className=\"max-w-3xl mx-auto mt-8\">\n                  <p className=\"text-lg leading-relaxed text-center text-white/90\">\n                    <span\n                      className=\"text-2xl font-bold block mb-4\"\n                      style={{\n                        background:\n                          'linear-gradient(90deg, #00ff9f, #00d4ff, #bd00ff)',\n                        WebkitBackgroundClip: 'text',\n                        WebkitTextFillColor: 'transparent',\n                        backgroundClip: 'text',\n                        textShadow: 'none',\n                      }}\n                    >\n                      Intelligence Multiplication Platform\n                    </span>\n                    Query multiple premium AI models simultaneously. Get\n                    synthesized insights that no single model could provide.\n                    <span className=\"font-bold text-white\">\n                      Pay only for what you use\n                    </span>\n                    .\n                  </p>\n                  <div className=\"flex justify-center gap-6 text-sm mt-6 text-white/90\">\n                    <span\n                      className=\"text-white\"\n                      style={{\n                        textShadow: '0 0 5px rgba(255,255,255,0.3)',\n                      }}\n                    >\n                      Pay-as-you-go\n                    </span>\n                    <span className=\"text-white/70\"></span>\n                    <span\n                      className=\"text-white\"\n                      style={{\n                        textShadow: '0 0 5px rgba(255,255,255,0.3)',\n                      }}\n                    >\n                      No commitments\n                    </span>\n                    <span className=\"text-white/70\"></span>\n                    <span\n                      className=\"text-white\"\n                      style={{\n                        textShadow: '0 0 5px rgba(255,255,255,0.3)',\n                      }}\n                    >\n                      Enterprise-grade\n                    </span>\n                  </div>\n                </div>\n\n                {/* CTA Button */}\n                <div className=\"text-center space-y-3\">\n                  <button\n                    onClick={() => {\n                      setCurrentStep(1);\n                      setStepFadeKey(k => k + 1);\n                    }}\n                    className=\"relative overflow-hidden px-12 py-5 text-xl font-bold rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95 group\"\n                    style={{\n                      background:\n                        'linear-gradient(135deg, #00ff9f 0%, #00d4ff 50%, #bd00ff 100%)',\n                      boxShadow:\n                        '0 4px 20px rgba(0, 255, 159, 0.4), 0 0 60px rgba(0, 212, 255, 0.3)',\n                      animation:\n                        'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',\n                    }}\n                  >\n                    <span className=\"relative z-10 flex items-center gap-3 justify-center text-black font-extrabold\">\n                      <span>Enter UltrAI</span>\n                      <span className=\"transform group-hover:translate-x-1 transition-transform\">\n                        \n                      </span>\n                    </span>\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\" />\n                  </button>\n                  {isDemoMode && (\n                    <button\n                      onClick={() => {\n                        setCurrentStep(1);\n                        setStepFadeKey(k => k + 1);\n                      }}\n                      className=\"px-8 py-3 text-sm font-semibold rounded-lg border-2 border-cyan-400/50 text-cyan-400 hover:bg-cyan-400/10 transition-all duration-200\"\n                    >\n                      <span className=\"flex items-center gap-2 justify-center\">\n                        <Film className=\"w-4 h-4\" />\n                        <span>Try Demo</span>\n                      </span>\n                    </button>\n                  )}\n                </div>\n\n                {/* Trust indicators */}\n                <div className=\"flex justify-center gap-8 text-sm text-white/80\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-green-400\"></span>\n                    <span>20+ AI Models</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-green-400\"></span>\n                    <span>Enterprise Ready</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-green-400\"></span>\n                    <span>SOC2 Compliant</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={`relative flex flex-col min-h-screen w-full ${isNonTimeSkin ? 'text-gray-900' : 'text-white'} font-cyber text-sm`}\n    >\n      {/* Skip link for keyboard users */}\n      <a\n        href=\"#main-content\"\n        className=\"sr-only focus:not-sr-only fixed top-2 left-2 z-50 bg-black text-white px-3 py-2 rounded\"\n      >\n        Skip to content\n      </a>\n\n      {/* Skin Switcher with Animation Toggle */}\n      <SkinSwitcher />\n\n      {/* Background layer - only show for time-based skins */}\n      {!isNonTimeSkin && (\n        <>\n          {/* Animated billboard outline sweep keyframes */}\n          <style>{`\n            @keyframes ultrai-billboard-sweep {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          `}</style>\n          <div\n            className=\"pointer-events-none fixed inset-0\"\n            style={{\n              backgroundImage: `image-set(url('${themeBgUrl}') 1x, url('${themeBgUrl2x}') 2x)`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n              // Use scroll to avoid single-layer rasterization blur with fixed backgrounds\n              backgroundAttachment: 'scroll',\n              zIndex: 0,\n            }}\n          />\n          {/* Static faint lines overlay (PNG provided by user) */}\n          <div\n            className=\"pointer-events-none fixed inset-0\"\n            style={{\n              backgroundImage: \"url('/lines-bill-static.png')\",\n              backgroundSize: 'cover',\n              backgroundPosition: 'top right',\n              opacity: 0.04,\n              mixBlendMode: 'screen',\n              zIndex: 1,\n            }}\n          />\n          {/* Animated sweep through billboard lines using mask (SVG provided by user) */}\n          <div\n            className=\"pointer-events-none fixed inset-0\"\n            style={{\n              backgroundImage:\n                'linear-gradient(90deg, rgba(0,255,159,0) 0%, rgba(0,255,159,0.65) 50%, rgba(0,255,159,0) 100%)',\n              backgroundSize: '200% 100%',\n              WebkitMaskImage: \"url('/lines-bill-anim.svg')\",\n              maskImage: \"url('/lines-bill-anim.svg')\",\n              WebkitMaskRepeat: 'no-repeat',\n              maskRepeat: 'no-repeat',\n              WebkitMaskSize: 'cover',\n              maskSize: 'cover',\n              WebkitMaskPosition: 'top right',\n              maskPosition: 'top right',\n              animation: 'ultrai-billboard-sweep 3.2s linear infinite',\n              filter: 'drop-shadow(0 0 10px rgba(0,255,159,0.25))',\n              opacity: 0.7,\n              zIndex: 2,\n            }}\n          />\n          {/* Theme overlay tint */}\n          <div\n            className=\"pointer-events-none fixed inset-0\"\n            style={themeOverlayStyle}\n          />\n        </>\n      )}\n\n      {/* UltrAI Logo - Show for non-time themes */}\n      {isNonTimeSkin && (\n        <div className=\"fixed top-10 left-1/2 transform -translate-x-1/2 z-10\">\n          <div className=\"relative flex flex-col items-center\">\n            <img\n              src=\"/assets/logo.jpg\"\n              alt=\"UltrAI Logo\"\n              className={`w-32 h-32 ${currentSkin === 'minimalist' ? 'border-4 border-black' : 'rounded-lg shadow-2xl'}`}\n              style={{\n                filter:\n                  currentSkin === 'minimalist'\n                    ? 'none'\n                    : 'drop-shadow(0 0 20px rgba(0, 0, 0, 0.3))',\n              }}\n            />\n            <div\n              className={`mt-4 text-3xl font-bold ${currentSkin === 'minimalist' ? 'text-black uppercase tracking-widest' : 'text-gray-800'}`}\n            >\n              ULTRAI\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Animated Billboard Lines - Lower Right Corner */}\n      {/* Overlay removed */}\n\n      {/* Bridge Animation - Lower Left Corner */}\n      {/* Bridge animation disabled for professional static look */}\n\n      {/* Optimization Status Boxes */}\n      {isOptimizing && (\n        <div className=\"absolute w-full\" style={{ top: '10vh', zIndex: 5 }}>\n          <div className=\"max-w-4xl mx-auto px-8\">\n            <div\n              className=\"glass-strong p-4 rounded-xl\"\n              style={{\n                background: glassBackground,\n                backdropFilter: 'blur(40px)',\n                WebkitBackdropFilter: 'blur(40px)',\n                border: '2px solid #ff6600',\n                boxShadow:\n                  '0 8px 32px rgba(0, 0, 0, 0.3), inset 0 0 60px rgba(255, 255, 255, 0.05)',\n              }}\n            >\n              <div className=\"text-center mb-3\">\n                <h3 className=\"text-sm font-bold text-white mb-1\">\n                  Optimizing Your Search\n                </h3>\n                <p className=\"text-[11px] opacity-70\">\n                  AI is analyzing your request and selecting the best options\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-4 gap-3\">\n                <div\n                  className={`text-center transition-all duration-300 ${optimizationStep >= 1 ? 'opacity-100' : 'opacity-40'}`}\n                >\n                  <div\n                    className={`w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center transition-all duration-300 ${\n                      optimizationStep >= 1\n                        ? 'bg-mint-400/20 border-2 border-mint-400'\n                        : 'bg-white/5 border border-white/10'\n                    }`}\n                  >\n                    <span className=\"text-lg\"></span>\n                  </div>\n                  <div className=\"text-[10px] font-medium\">Analyzing</div>\n                  <div className=\"text-[9px] opacity-70\">Query parsed</div>\n                </div>\n\n                <div\n                  className={`text-center transition-all duration-300 ${optimizationStep >= 2 ? 'opacity-100' : 'opacity-40'}`}\n                >\n                  <div\n                    className={`w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center transition-all duration-300 ${\n                      optimizationStep >= 2\n                        ? 'bg-blue-400/20 border-2 border-blue-400'\n                        : 'bg-white/5 border border-white/10'\n                    }`}\n                  >\n                    <span className=\"text-lg\"></span>\n                  </div>\n                  <div className=\"text-[10px] font-medium\">Goals</div>\n                  <div className=\"text-[9px] opacity-70\">\n                    {optimizationStep >= 2 && selectedGoals.length > 0\n                      ? `${selectedGoals.length} selected`\n                      : 'Matching...'}\n                  </div>\n                </div>\n\n                <div\n                  className={`text-center transition-all duration-300 ${optimizationStep >= 3 ? 'opacity-100' : 'opacity-40'}`}\n                >\n                  <div\n                    className={`w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center transition-all duration-300 ${\n                      optimizationStep >= 3\n                        ? 'bg-purple-400/20 border-2 border-purple-400'\n                        : 'bg-white/5 border border-white/10'\n                    }`}\n                  >\n                    <span className=\"text-lg\"></span>\n                  </div>\n                  <div className=\"text-[10px] font-medium\">Models</div>\n                  <div className=\"text-[9px] opacity-70\">\n                    {optimizationStep >= 3 && selectedModels.length > 0\n                      ? `${selectedModels.length} chosen`\n                      : 'Selecting...'}\n                  </div>\n                </div>\n\n                <div\n                  className={`text-center transition-all duration-300 ${optimizationStep >= 4 ? 'opacity-100' : 'opacity-40'}`}\n                >\n                  <div\n                    className={`w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center transition-all duration-300 ${\n                      optimizationStep >= 4\n                        ? 'bg-pink-400/20 border-2 border-pink-400'\n                        : 'bg-white/5 border border-white/10'\n                    }`}\n                  >\n                    <span className=\"text-lg\"></span>\n                  </div>\n                  <div className=\"text-[10px] font-medium\">Format</div>\n                  <div className=\"text-[9px] opacity-70\">\n                    {optimizationStep >= 4 ? 'Ready' : 'Preparing...'}\n                  </div>\n                </div>\n              </div>\n\n              {/* Progress bar */}\n              <div className=\"mt-4 h-1 bg-white/10 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-mint-400 via-blue-400 to-purple-400 transition-all duration-500\"\n                  style={{ width: `${(optimizationStep / 4) * 100}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Progress Indicator */}\n      {currentStep > 0 && (\n        <div className=\"fixed top-0 left-0 w-full h-1 bg-black/20 z-50\">\n          <div\n            className=\"h-full bg-gradient-to-r from-mint-400 via-blue-400 to-purple-400 transition-all duration-500\"\n            style={{\n              width: `${(currentStep / (steps.length - 1)) * 100}%`,\n              boxShadow: '0 0 10px rgba(0, 255, 159, 0.5)',\n            }}\n          />\n        </div>\n      )}\n\n      {/* Main Content - Below Billboard */}\n      <div className=\"relative z-10 w-full\" id=\"main-content\" role=\"main\">\n        <h1 className=\"sr-only\">UltrAI Wizard</h1>\n        <div\n          className=\"flex items-center justify-center\"\n          style={{\n            minHeight: '100vh',\n            paddingTop: isNonTimeSkin ? '20vh' : '30vh',\n          }}\n        >\n          <div className=\"w-full max-w-7xl px-8\">\n            <div\n              className={`${showStatus && showResults ? 'flex justify-center' : showStatus && !showResults ? 'flex justify-center' : 'grid grid-cols-12 gap-4'}`}\n            >\n              {/* Wizard Panel (center) - Hidden during processing and results */}\n              {!showStatus && (\n                <div className=\"col-span-8\">\n                  <div\n                    className={`relative p-8 rounded-2xl overflow-hidden transition-smooth will-change-transform ${\n                      step.color === 'mint'\n                        ? 'glow-mint'\n                        : step.color === 'blue'\n                          ? 'glow-blue'\n                          : step.color === 'purple'\n                            ? 'glow-purple'\n                            : step.color === 'pink'\n                              ? 'glow-pink'\n                              : ''\n                    }`}\n                    style={{\n                      background: `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.08)}, ${mapColorRGBA(step.color, 0.02)}), ${glassBackground}`,\n                      backdropFilter: 'blur(20px) saturate(180%)',\n                      WebkitBackdropFilter: 'blur(20px) saturate(180%)',\n                      border: `2px solid ${colorHex}80`,\n                      height: '500px',\n                      boxShadow: `\n                      0 8px 32px rgba(0, 0, 0, 0.4),\n                      0 0 40px ${colorHex}30,\n                      0 0 80px ${colorHex}15,\n                      inset 0 0 40px rgba(255, 255, 255, 0.03),\n                      inset 0 1px 0 rgba(255, 255, 255, 0.1)\n                    `,\n                      clipPath:\n                        'polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px))',\n                      transform: showStatus ? 'scale(1.02)' : 'scale(1)',\n                    }}\n                  >\n                    <div className=\"flex flex-col h-full\">\n                      {!showStatus ? (\n                        // Show normal wizard content\n                        <>\n                          {/* Step markers (centered) - exclude Step 0 (Intro) */}\n                          <div className=\"w-full mb-4\">\n                            <nav\n                              aria-label=\"Wizard steps\"\n                              className=\"flex items-center justify-center\"\n                            >\n                              {steps\n                                .map((s, idx) => ({ s, idx }))\n                                .filter(x => x.idx !== 0)\n                                .map(({ s, idx }) => {\n                                  const stepIndex = idx; // real index in steps\n                                  const isActive = stepIndex === currentStep;\n                                  const isDone = stepIndex < currentStep;\n                                  const dotHex = mapColorHex(s.color);\n                                  return (\n                                    <div\n                                      key={s.title}\n                                      className=\"flex items-center\"\n                                    >\n                                      <div\n                                        onClick={() => {\n                                          setCurrentStep(stepIndex);\n                                          setStepFadeKey(k => k + 1);\n                                        }}\n                                        className=\"relative cursor-pointer group\"\n                                        role=\"button\"\n                                        tabIndex={0}\n                                        aria-current={\n                                          isActive ? 'step' : undefined\n                                        }\n                                        aria-label={`Go to step ${stepIndex}: ${s.title}`}\n                                      >\n                                        <div\n                                          className={`w-8 h-8 rounded-full flex items-center justify-center transition-smooth will-change-transform ${\n                                            isActive\n                                              ? 'scale-110'\n                                              : 'hover:scale-105'\n                                          }`}\n                                          style={{\n                                            background: isActive\n                                              ? `radial-gradient(circle at 30% 30%, ${dotHex}40, ${dotHex}20)`\n                                              : isDone\n                                                ? `radial-gradient(circle at 30% 30%, ${dotHex}30, ${dotHex}10)`\n                                                : 'radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1), rgba(255,255,255,0.05))',\n                                            border: `2px solid ${isActive ? dotHex : isDone ? dotHex : dotHex + '40'}`,\n                                            boxShadow: isActive\n                                              ? `0 0 0 4px ${dotHex}20, 0 0 30px ${dotHex}50, inset 0 0 10px ${dotHex}30`\n                                              : isDone\n                                                ? `0 0 15px ${dotHex}30`\n                                                : 'none',\n                                            transform: isActive\n                                              ? 'translateY(-2px)'\n                                              : 'translateY(0)',\n                                          }}\n                                        >\n                                          <span\n                                            className=\"text-[10px] font-bold\"\n                                            style={{\n                                              color:\n                                                isActive || isDone\n                                                  ? dotHex\n                                                  : 'rgba(255,255,255,0.5)',\n                                            }}\n                                          >\n                                            {stepIndex}\n                                          </span>\n                                        </div>\n                                        {/* Tooltip */}\n                                        <div className=\"absolute -bottom-6 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none\">\n                                          <div\n                                            className=\"text-[9px] whitespace-nowrap bg-black/80 px-2 py-1 rounded\"\n                                            style={{ color: dotHex }}\n                                          >\n                                            {s.title.split('. ')[1]}\n                                          </div>\n                                        </div>\n                                      </div>\n                                      {idx < steps.length - 1 && (\n                                        <div\n                                          className=\"w-12 h-0.5 mx-2 transition-all duration-300\"\n                                          style={{\n                                            backgroundColor:\n                                              idx < currentStep\n                                                ? dotHex\n                                                : 'rgba(255,255,255,0.2)',\n                                            boxShadow:\n                                              idx < currentStep\n                                                ? `0 0 10px ${dotHex}50`\n                                                : 'none',\n                                          }}\n                                        />\n                                      )}\n                                    </div>\n                                  );\n                                })}\n                            </nav>\n                          </div>\n\n                          <h2\n                            className={`${step.color === 'mint' ? 'text-shadow-neon-mint' : step.color === 'blue' ? 'text-shadow-neon-blue' : step.color === 'deepblue' ? 'text-shadow-neon-deep' : step.color === 'purple' ? 'text-shadow-neon-purple' : 'text-shadow-neon-pink'} text-2xl font-bold mb-4 text-center uppercase tracking-wide`}\n                            style={{\n                              color: colorHex,\n                              borderBottom: `2px solid ${colorHex}`,\n                              paddingBottom: 8,\n                            }}\n                          >\n                            {step.title}\n                          </h2>\n                          {step.narrative && (\n                            <p className=\"text-[11px] text-white opacity-95 mb-2 text-center whitespace-pre-line\">\n                              {currentStep === 2 && selectedGoals.length > 0\n                                ? `Based on your selected goals (${selectedGoals.slice(0, 3).join(', ')}${selectedGoals.length > 3 ? '...' : ''}), tell us what you need.`\n                                : step.narrative}\n                            </p>\n                          )}\n\n                          {/* Scrollable options area */}\n                          <div\n                            key={stepFadeKey}\n                            className={`relative space-y-2 overflow-auto pr-1 pb-16 ${showStatus ? 'opacity-50' : ''}`}\n                            style={{\n                              height: 'calc(100% - 120px)',\n                              pointerEvents: showStatus ? 'none' : 'auto',\n                            }}\n                          >\n                            {step.type === 'intro' && (\n                              <>\n                                <div className=\"text-center space-y-4\">\n                                  <div className=\"inline-block\">\n                                    <div className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#ff00de] to-[#00ffff]\">\n                                      Welcome to the Future\n                                    </div>\n                                    <div className=\"w-24 h-1 bg-gradient-to-r from-[#ff00de] to-[#00ffff] mx-auto mt-2\"></div>\n                                    {isDemoMode && (\n                                      <div className=\"mt-2 text-[10px] text-green-300/70\">\n                                        Demo Environment\n                                      </div>\n                                    )}\n                                  </div>\n\n                                  <div className=\"grid grid-cols-2 gap-4 max-w-2xl mx-auto\">\n                                    <div className=\"glass p-4 rounded-xl border border-mint-400/20 bg-mint-400/5\">\n                                      <div className=\"text-mint-400 text-lg mb-2\">\n                                        \n                                      </div>\n                                      <div className=\"text-sm font-bold mb-1 text-mint-400\">\n                                        Why UltrAI?\n                                      </div>\n                                      <div className=\"text-xs opacity-80\">\n                                        Multiple LLMs working together. Better\n                                        results, fewer blind spots.\n                                      </div>\n                                    </div>\n                                    <div className=\"glass p-4 rounded-xl border border-blue-400/20 bg-blue-400/5\">\n                                      <div className=\"text-blue-400 text-lg mb-2\">\n                                        \n                                      </div>\n                                      <div className=\"text-sm font-bold mb-1 text-blue-400\">\n                                        How it works\n                                      </div>\n                                      <div className=\"text-xs opacity-80\">\n                                        Select goals, enter query, choose\n                                        models. We handle the rest.\n                                      </div>\n                                    </div>\n                                  </div>\n\n                                  <div\n                                    className=\"glass p-3 rounded-xl inline-block\"\n                                    style={{ fontFamily: monoStack }}\n                                  >\n                                    <div className=\"text-[12px] font-extrabold tracking-widest text-white text-shadow-neon-pink\">\n                                      ITEMIZED SUMMARY\n                                    </div>\n                                    <div className=\"mt-2 text-[10px] opacity-80\">\n                                      Pay as you go  No commitment\n                                    </div>\n                                    <div className=\"mt-3 text-[24px] font-bold text-neon-pink\">\n                                      Total: $0.00\n                                    </div>\n                                    <div className=\"mt-2 text-[11px] opacity-80\">\n                                      Some queries can be under $1\n                                    </div>\n                                  </div>\n                                </div>\n                                <div className=\"w-full mt-4 flex flex-col items-center justify-center gap-3\">\n                                  <button\n                                    className=\"btn-neon text-lg font-extrabold transition-smooth hover:scale-105 active:scale-95\"\n                                    onClick={() => {\n                                      setCurrentStep(1);\n                                      setStepFadeKey(k => k + 1);\n                                    }}\n                                  >\n                                    Enter UltrAI\n                                  </button>\n                                </div>\n                                <div className=\"text-center mt-3 text-[10px] text-white/80 animate-pulse\">\n                                  Press Enter or \n                                </div>\n                              </>\n                            )}\n\n                            {step.type === 'textarea' && (\n                              <>\n                                <div className=\"relative\">\n                                  <textarea\n                                    placeholder={\n                                      selectedGoals.length > 0\n                                        ? `e.g. A ${selectedGoals[0].toLowerCase()} analysis of...`\n                                        : 'What do you need? Be as specific as possible.'\n                                    }\n                                    value={userQuery}\n                                    onChange={e => setUserQuery(e.target.value)}\n                                    onFocus={() => setQueryFocused(true)}\n                                    onBlur={() => setQueryFocused(false)}\n                                    className=\"w-full min-h-[500px] text-[16px] leading-7 resize-none rounded-lg p-4 border-2 focus:outline-none focus:ring-2 focus:ring-offset-0\"\n                                    style={{\n                                      backgroundColor: 'rgba(0, 0, 0, 0.85)',\n                                      color: 'white',\n                                      borderColor: colorHex + '60',\n                                    }}\n                                  />\n                                  {/* Character counter */}\n                                  <div\n                                    className=\"absolute bottom-2 right-2 text-[10px] transition-opacity duration-200\"\n                                    style={{\n                                      color:\n                                        userQuery.length > 500\n                                          ? '#ff00d4'\n                                          : userQuery.length > 300\n                                            ? '#ffeb55'\n                                            : colorHex,\n                                      opacity:\n                                        queryFocused || userQuery.length > 0\n                                          ? 1\n                                          : 0,\n                                    }}\n                                  >\n                                    {userQuery.length} / 1000\n                                  </div>\n                                  {/* Dynamic typing indicator */}\n                                  {queryFocused && userQuery.length > 0 && (\n                                    <div\n                                      className=\"absolute -top-6 left-0 text-[10px] animate-fade-in text-white\"\n                                      style={{ color: undefined }}\n                                    >\n                                      <span className=\"animate-pulse\"></span>{' '}\n                                      AI is ready to enhance your query...\n                                    </div>\n                                  )}\n                                </div>\n\n                                {step.options && (\n                                  <div className=\"grid grid-cols-2 gap-2 mt-1\">\n                                    {step.options.map(o => (\n                                      <label\n                                        key={o.label}\n                                        className=\"flex items-center text-[11px] leading-tight truncate opacity-95 hover:opacity-100\"\n                                      >\n                                        <Checkbox\n                                          onChange={() =>\n                                            handleInputToggle(o.label)\n                                          }\n                                          checked={selectedInputs.includes(\n                                            o.label\n                                          )}\n                                        />{' '}\n                                        <span className=\"align-middle truncate tracking-wide text-white\">\n                                          {o.icon ? `${o.icon} ` : ''}\n                                          {o.label}\n                                          {typeof o.cost === 'number'\n                                            ? ` ($${o.cost})`\n                                            : ''}\n                                        </span>\n                                      </label>\n                                    ))}\n                                  </div>\n                                )}\n\n                                {/* Add optimization button for Step 2 */}\n                                {userQuery.trim() && (\n                                  <div className=\"mt-4\">\n                                    <Button\n                                      variant=\"secondary\"\n                                      onClick={optimizeQuery}\n                                      className=\"w-full\"\n                                    >\n                                       Allow UltrAI to optimize my query\n                                    </Button>\n                                    <p className=\"text-[10px] text-white/60 text-center mt-2\">\n                                      AI will suggest improvements to your query\n                                      for better results\n                                    </p>\n                                  </div>\n                                )}\n                              </>\n                            )}\n\n                            {step.type === 'radio' && step.options && (\n                              <div className=\"grid grid-cols-2 gap-2\">\n                                <RadioGroup\n                                  onValueChange={val =>\n                                    addSelection(\n                                      val,\n                                      step.options?.find(s => s.label === val)\n                                        ?.cost,\n                                      step.color,\n                                      step.title\n                                    )\n                                  }\n                                >\n                                  {step.options.map(o => (\n                                    <label\n                                      key={o.label}\n                                      className=\"flex items-center text-[11px] leading-tight truncate opacity-95 hover:opacity-100 gap-2\"\n                                    >\n                                      <RadioGroupItem\n                                        value={o.label}\n                                        id={`radio-${currentStep}-${o.label}`}\n                                      />\n                                      <span className=\"align-middle truncate tracking-wide text-white\">\n                                        {o.icon ? `${o.icon} ` : ''}\n                                        {o.label}\n                                        {typeof o.cost === 'number'\n                                          ? ` ($${o.cost})`\n                                          : ''}\n                                      </span>\n                                    </label>\n                                  ))}\n                                </RadioGroup>\n                              </div>\n                            )}\n\n                            {step.type === 'checkbox' &&\n                              step.options &&\n                              (currentStep === 1 ? (\n                                <div\n                                  className=\"grid grid-cols-3 gap-2\"\n                                  style={{ height: 'calc(100% - 20px)' }}\n                                >\n                                  {step.options.slice(0, 9).map(o => (\n                                    <div\n                                      key={o.label}\n                                      onClick={() => handleGoalToggle(o.label)}\n                                      className=\"flex flex-col items-center justify-center p-2 border-2 rounded-lg cursor-pointer transition-all hover:scale-105\"\n                                      style={{\n                                        borderColor: selectedGoals.includes(\n                                          o.label\n                                        )\n                                          ? colorHex\n                                          : colorHex + '40',\n                                        background: selectedGoals.includes(\n                                          o.label\n                                        )\n                                          ? `${mapColorRGBA(step.color, 0.3)}`\n                                          : 'rgba(255,255,255,0.05)',\n                                        boxShadow: selectedGoals.includes(\n                                          o.label\n                                        )\n                                          ? `0 0 20px ${colorHex}40`\n                                          : 'none',\n                                      }}\n                                    >\n                                      <OutlineIcon\n                                        name={o.label}\n                                        category=\"goal\"\n                                        className=\"w-6 h-6 mb-1\"\n                                      />\n                                      <span className=\"text-center text-xs font-medium text-white\">\n                                        {o.label}\n                                      </span>\n                                    </div>\n                                  ))}\n                                </div>\n                              ) : (step.title || '').includes(\n                                  'Model selection'\n                                ) ? (\n                                <>\n                                  {showModelList ? (\n                                    <div className=\"glass p-4 rounded-lg border border-white/20\">\n                                      <div className=\"flex items-center justify-between mb-3\">\n                                        <button\n                                          onClick={() =>\n                                            setShowModelList(false)\n                                          }\n                                          className=\"text-white/80 hover:text-white text-sm\"\n                                        >\n                                           Back\n                                        </button>\n                                        <div className=\"text-sm font-bold text-white/90\">\n                                          Select Models\n                                        </div>\n                                        <div />\n                                      </div>\n                                      <div className=\"grid grid-cols-3 gap-2\">\n                                        {(availableModels || []).map(name => (\n                                          <label\n                                            key={name}\n                                            className=\"flex items-center text-[11px] leading-tight truncate opacity-95 hover:opacity-100\"\n                                          >\n                                            <Checkbox\n                                              className=\"mr-2\"\n                                              onChange={() =>\n                                                handleModelToggle(name)\n                                              }\n                                              checked={selectedModels.includes(\n                                                name\n                                              )}\n                                            />\n                                            <span className=\"align-middle truncate tracking-wide text-white\">\n                                              {name}\n                                            </span>\n                                          </label>\n                                        ))}\n                                        {availableModels &&\n                                          availableModels.length === 0 && (\n                                            <div className=\"text-xs opacity-80 col-span-3\">\n                                              No models available. Add API keys.\n                                            </div>\n                                          )}\n                                      </div>\n                                    </div>\n                                  ) : (\n                                    <div\n                                      className=\"space-y-2\"\n                                      style={{ height: 'calc(100% - 12px)' }}\n                                    >\n                                      <div className=\"text-center mb-2\">\n                                        <div className=\"text-sm font-bold text-white\">\n                                          Have UltrAI choose. Do you want a:\n                                        </div>\n                                      </div>\n                                      {/* Three horizontal boxes for model selection */}\n                                      <div className=\"grid grid-cols-3 gap-3\">\n                                        {/* Premium Query Box */}\n                                        <div\n                                          className=\"glass-panel glass-grain border-2 rounded-lg p-3 cursor-pointer hover:scale-105 transition-smooth group\"\n                                          style={{\n                                            borderColor:\n                                              autoPreference === 'premium'\n                                                ? colorHex\n                                                : colorHex + '40',\n                                            background:\n                                              autoPreference === 'premium'\n                                                ? `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.15)}, ${mapColorRGBA(step.color, 0.25)})`\n                                                : 'rgba(255,255,255,0.05)',\n                                            transform:\n                                              autoPreference === 'premium'\n                                                ? 'scale(1.02)'\n                                                : 'scale(1)',\n                                          }}\n                                          onClick={() => {\n                                            const premiumModels =\n                                              chooseAutoModels(\n                                                'premium',\n                                                availableModels\n                                              );\n                                            setSelectedModels(premiumModels);\n                                            setAutoPreference('premium');\n                                            setModelSelectionMode('auto');\n                                            const modelsCost =\n                                              premiumModels.reduce(\n                                                (sum, n) =>\n                                                  sum +\n                                                  (availableModelInfos[n]\n                                                    ?.cost_per_1k_tokens || 0),\n                                                0\n                                              ) * 0.1;\n                                            setSummary(prev =>\n                                              prev.filter(\n                                                item =>\n                                                  !item.section?.includes(\n                                                    'Model selection'\n                                                  )\n                                              )\n                                            );\n                                            addSelection(\n                                              `Premium Query: ${premiumModels.join(', ')}`,\n                                              modelsCost,\n                                              step.color,\n                                              step.title\n                                            );\n                                          }}\n                                        >\n                                          <div className=\"text-center\">\n                                            <OutlineIcon\n                                              name=\"Premium\"\n                                              category=\"model\"\n                                              className=\"w-8 h-8 mb-1 mx-auto transition-transform group-hover:scale-110\"\n                                            />\n                                            <div className=\"text-[12px] font-bold text-white\">\n                                              Premium Query\n                                            </div>\n                                            <div className=\"text-[9px] opacity-70 mt-1\">\n                                              Best quality results\n                                            </div>\n                                            {autoPreference === 'premium' && (\n                                              <div className=\"mt-2\">\n                                                <div className=\"w-4 h-4 mx-auto rounded-full bg-gradient-to-r from-[#00ff9f] to-[#00d4ff] animate-pulse\"></div>\n                                              </div>\n                                            )}\n                                          </div>\n                                        </div>\n\n                                        {/* Speed Query Box */}\n                                        <div\n                                          className=\"glass-panel glass-grain border-2 rounded-lg p-3 cursor-pointer hover:scale-105 transition-smooth group\"\n                                          style={{\n                                            borderColor:\n                                              autoPreference === 'speed'\n                                                ? colorHex\n                                                : colorHex + '40',\n                                            background:\n                                              autoPreference === 'speed'\n                                                ? `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.15)}, ${mapColorRGBA(step.color, 0.25)})`\n                                                : 'rgba(255,255,255,0.05)',\n                                            transform:\n                                              autoPreference === 'speed'\n                                                ? 'scale(1.02)'\n                                                : 'scale(1)',\n                                          }}\n                                          onClick={() => {\n                                            const speedModels =\n                                              chooseAutoModels(\n                                                'speed',\n                                                availableModels\n                                              );\n                                            setSelectedModels(speedModels);\n                                            setAutoPreference('speed');\n                                            setModelSelectionMode('auto');\n                                            const modelsCost =\n                                              speedModels.reduce(\n                                                (sum, n) =>\n                                                  sum +\n                                                  (availableModelInfos[n]\n                                                    ?.cost_per_1k_tokens || 0),\n                                                0\n                                              ) * 0.1;\n                                            setSummary(prev =>\n                                              prev.filter(\n                                                item =>\n                                                  !item.section?.includes(\n                                                    'Model selection'\n                                                  )\n                                              )\n                                            );\n                                            addSelection(\n                                              `Quickest Query: ${speedModels.join(', ')}`,\n                                              modelsCost,\n                                              step.color,\n                                              step.title\n                                            );\n                                          }}\n                                        >\n                                          <div className=\"text-center\">\n                                            <OutlineIcon\n                                              name=\"Speed\"\n                                              category=\"model\"\n                                              className=\"w-8 h-8 mb-1 mx-auto transition-transform group-hover:scale-110\"\n                                            />\n                                            <div className=\"text-[12px] font-bold text-white\">\n                                              Quick Query\n                                            </div>\n                                            <div className=\"text-[9px] opacity-70 mt-1\">\n                                              Fast responses\n                                            </div>\n                                            {autoPreference === 'speed' && (\n                                              <div className=\"mt-2\">\n                                                <div className=\"w-4 h-4 mx-auto rounded-full bg-gradient-to-r from-[#00ff9f] to-[#00d4ff] animate-pulse\"></div>\n                                              </div>\n                                            )}\n                                          </div>\n                                        </div>\n\n                                        {/* Budget Query Box */}\n                                        <div\n                                          className=\"glass-panel glass-grain border-2 rounded-lg p-3 cursor-pointer hover:scale-105 transition-smooth group\"\n                                          style={{\n                                            borderColor:\n                                              autoPreference === 'cost'\n                                                ? colorHex\n                                                : colorHex + '40',\n                                            background:\n                                              autoPreference === 'cost'\n                                                ? `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.15)}, ${mapColorRGBA(step.color, 0.25)})`\n                                                : 'rgba(255,255,255,0.05)',\n                                            transform:\n                                              autoPreference === 'cost'\n                                                ? 'scale(1.02)'\n                                                : 'scale(1)',\n                                          }}\n                                          onClick={() => {\n                                            const budgetModels =\n                                              chooseAutoModels(\n                                                'cost',\n                                                availableModels\n                                              );\n                                            setSelectedModels(budgetModels);\n                                            setAutoPreference('cost');\n                                            setModelSelectionMode('auto');\n                                            const modelsCost =\n                                              budgetModels.reduce(\n                                                (sum, n) =>\n                                                  sum +\n                                                  (availableModelInfos[n]\n                                                    ?.cost_per_1k_tokens || 0),\n                                                0\n                                              ) * 0.1;\n                                            setSummary(prev =>\n                                              prev.filter(\n                                                item =>\n                                                  !item.section?.includes(\n                                                    'Model selection'\n                                                  )\n                                              )\n                                            );\n                                            addSelection(\n                                              `Budget Query: ${budgetModels.join(', ')}`,\n                                              modelsCost,\n                                              step.color,\n                                              step.title\n                                            );\n                                          }}\n                                        >\n                                          <div className=\"text-center\">\n                                            <OutlineIcon\n                                              name=\"Budget\"\n                                              category=\"model\"\n                                              className=\"w-8 h-8 mb-1 mx-auto transition-transform group-hover:scale-110\"\n                                            />\n                                            <div className=\"text-[12px] font-bold text-white\">\n                                              Budget Query\n                                            </div>\n                                            <div className=\"text-[9px] opacity-70 mt-1\">\n                                              Cost-effective\n                                            </div>\n                                            {autoPreference === 'cost' && (\n                                              <div className=\"mt-2\">\n                                                <div className=\"w-4 h-4 mx-auto rounded-full bg-gradient-to-r from-[#00ff9f] to-[#00d4ff] animate-pulse\"></div>\n                                              </div>\n                                            )}\n                                          </div>\n                                        </div>\n                                      </div>\n\n                                      {/* OR divider */}\n                                      <div className=\"flex items-center justify-center my-2\">\n                                        <div className=\"h-px bg-white/20 flex-1\"></div>\n                                        <div className=\"px-3 text-xs font-bold text-white/80\">\n                                          OR\n                                        </div>\n                                        <div className=\"h-px bg-white/20 flex-1\"></div>\n                                      </div>\n                                      {/* Manual option triggers full-card view */}\n                                      <div className=\"text-center\">\n                                        <button\n                                          className=\"px-4 py-2 rounded-lg text-[11px] font-semibold transition-smooth hover:scale-[1.02] active:scale-[0.98] glass-panel\"\n                                          style={{\n                                            background: `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.15)}, ${mapColorRGBA(step.color, 0.25)})`,\n                                            border: `2px solid ${colorHex}`,\n                                            color: 'white',\n                                            boxShadow: `0 4px 15px ${colorHex}20`,\n                                          }}\n                                          onClick={e => {\n                                            setModelSelectionMode('manual');\n                                            setAutoPreference('premium');\n                                            setShowModelList(true);\n                                            const btn =\n                                              e.currentTarget as HTMLButtonElement;\n                                            btn.classList.add('ripple-effect');\n                                            setTimeout(\n                                              () =>\n                                                btn.classList.remove(\n                                                  'ripple-effect'\n                                                ),\n                                              1500\n                                            );\n                                          }}\n                                        >\n                                           Manual: Choose Models\n                                        </button>\n                                      </div>\n                                    </div>\n                                  )}\n                                </>\n                              ) : (step.title || '')\n                                  .toLowerCase()\n                                  .includes('select your goals') ? (\n                                <div className=\"space-y-2\">\n                                  <div className=\"grid grid-cols-3 gap-2\">\n                                    {step.options.map(o => {\n                                      const isSelected = selectedGoals.includes(\n                                        o.label\n                                      );\n                                      return (\n                                        <div\n                                          key={o.label}\n                                          className=\"relative group cursor-pointer\"\n                                          onClick={() =>\n                                            handleGoalToggle(o.label)\n                                          }\n                                        >\n                                          <div\n                                            className=\"p-3 rounded-lg transition-all duration-200 hover:scale-105\"\n                                            style={{\n                                              background: isSelected\n                                                ? `linear-gradient(135deg, ${mapColorRGBA(step.color, 0.2)}, ${mapColorRGBA(step.color, 0.3)})`\n                                                : 'rgba(255, 255, 255, 0.05)',\n                                              backdropFilter: 'blur(20px)',\n                                              border: `2px solid ${isSelected ? colorHex : colorHex + '40'}`,\n                                              boxShadow: isSelected\n                                                ? `0 0 20px ${colorHex}40`\n                                                : `0 4px 12px ${colorHex}20`,\n                                            }}\n                                          >\n                                            <div className=\"text-center\">\n                                              <div className=\"text-2xl mb-1\">\n                                                {o.icon}\n                                              </div>\n                                              <div className=\"text-xs font-semibold text-white\">\n                                                {o.label}\n                                              </div>\n                                            </div>\n                                            {isSelected && (\n                                              <div className=\"absolute top-1 right-1\">\n                                                <div\n                                                  className=\"w-5 h-5 rounded-full flex items-center justify-center\"\n                                                  style={{\n                                                    background: colorHex,\n                                                  }}\n                                                >\n                                                  <span className=\"text-white text-xs\">\n                                                    \n                                                  </span>\n                                                </div>\n                                              </div>\n                                            )}\n                                          </div>\n                                        </div>\n                                      );\n                                    })}\n                                  </div>\n                                  {selectedGoals.includes('Other') && (\n                                    <div className=\"mt-3\">\n                                      <Input\n                                        placeholder=\"Describe your custom goal...\"\n                                        value={otherGoalText}\n                                        onChange={e =>\n                                          setOtherGoalText(e.target.value)\n                                        }\n                                        className={\n                                          isNonTimeSkin\n                                            ? 'bg-white text-gray-900 placeholder:text-gray-500 border border-gray-300'\n                                            : 'bg-white/5 text-white placeholder:text-white/60'\n                                        }\n                                      />\n                                    </div>\n                                  )}\n                                </div>\n                              ) : (step.title || '').includes('Add-ons') ? (\n                                <div\n                                  className=\"space-y-2\"\n                                  style={{ height: 'calc(100% - 12px)' }}\n                                >\n                                  {/* Delivery Section */}\n                                  <div>\n                                    <div className=\"text-[11px] font-bold text-white/70 uppercase tracking-wider mb-1\">\n                                      Delivery\n                                    </div>\n                                    <div className=\"grid grid-cols-3 gap-2\">\n                                      {step.options.slice(0, 3).map(o => {\n                                        const isSelected = summary.some(\n                                          it =>\n                                            it.label === o.label &&\n                                            it.section === step.title\n                                        );\n                                        return (\n                                          <div\n                                            key={o.label}\n                                            className=\"relative group cursor-pointer\"\n                                            onClick={() =>\n                                              isSelected\n                                                ? removeSelectionCost(o.cost)\n                                                : addSelection(\n                                                    o.label,\n                                                    o.cost,\n                                                    step.color,\n                                                    step.title\n                                                  )\n                                            }\n                                          >\n                                            <div\n                                              className=\"p-2 rounded-lg transition-all duration-200 hover:scale-105\"\n                                              style={{\n                                                background: isSelected\n                                                  ? 'rgba(0, 255, 159, 0.2)'\n                                                  : 'rgba(255, 255, 255, 0.05)',\n                                                border: `2px solid ${isSelected ? '#00ff9f' : '#00ff9f40'}`,\n                                                boxShadow: isSelected\n                                                  ? '0 0 15px rgba(0, 255, 159, 0.4)'\n                                                  : 'none',\n                                              }}\n                                            >\n                                              <div className=\"text-center\">\n                                                <OutlineIcon\n                                                  name={o.label}\n                                                  category=\"addon\"\n                                                  className=\"w-6 h-6 mb-1 mx-auto\"\n                                                />\n                                                <div className=\"text-[9px] font-semibold text-white leading-tight\">\n                                                  {o.label}\n                                                </div>\n                                                {typeof o.cost === 'number' && (\n                                                  <div className=\"text-[8px] text-green-400 mt-1\">\n                                                    +${o.cost.toFixed(2)}\n                                                  </div>\n                                                )}\n                                              </div>\n                                            </div>\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  </div>\n\n                                  {/* Security Section */}\n                                  <div>\n                                    <div className=\"text-[11px] font-bold text-white/70 uppercase tracking-wider mb-1\">\n                                      Security\n                                    </div>\n                                    <div className=\"grid grid-cols-3 gap-2\">\n                                      {step.options.slice(3, 6).map(o => {\n                                        const isSelected = summary.some(\n                                          it =>\n                                            it.label === o.label &&\n                                            it.section === step.title\n                                        );\n                                        return (\n                                          <div\n                                            key={o.label}\n                                            className=\"relative group cursor-pointer\"\n                                            onClick={() =>\n                                              isSelected\n                                                ? removeSelectionCost(o.cost)\n                                                : addSelection(\n                                                    o.label,\n                                                    o.cost,\n                                                    step.color,\n                                                    step.title\n                                                  )\n                                            }\n                                          >\n                                            <div\n                                              className=\"p-2 rounded-lg transition-all duration-200 hover:scale-105\"\n                                              style={{\n                                                background: isSelected\n                                                  ? 'rgba(0, 212, 255, 0.2)'\n                                                  : 'rgba(255, 255, 255, 0.05)',\n                                                border: `2px solid ${isSelected ? '#00d4ff' : '#00d4ff40'}`,\n                                                boxShadow: isSelected\n                                                  ? '0 0 15px rgba(0, 212, 255, 0.4)'\n                                                  : 'none',\n                                              }}\n                                            >\n                                              <div className=\"text-center\">\n                                                <OutlineIcon\n                                                  name={o.label}\n                                                  category=\"addon\"\n                                                  className=\"w-6 h-6 mb-1 mx-auto\"\n                                                />\n                                                <div className=\"text-[9px] font-semibold text-white leading-tight\">\n                                                  {o.label}\n                                                </div>\n                                                {typeof o.cost === 'number' && (\n                                                  <div className=\"text-[8px] text-cyan-400 mt-1\">\n                                                    +${o.cost.toFixed(2)}\n                                                  </div>\n                                                )}\n                                              </div>\n                                            </div>\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  </div>\n\n                                  {/* Polish Section */}\n                                  <div>\n                                    <div className=\"text-[11px] font-bold text-white/70 uppercase tracking-wider mb-1\">\n                                      Polish\n                                    </div>\n                                    <div className=\"grid grid-cols-3 gap-2\">\n                                      {step.options.slice(6, 9).map(o => {\n                                        const isSelected = summary.some(\n                                          it =>\n                                            it.label === o.label &&\n                                            it.section === step.title\n                                        );\n                                        return (\n                                          <div\n                                            key={o.label}\n                                            className=\"relative group cursor-pointer\"\n                                            onClick={() =>\n                                              isSelected\n                                                ? removeSelectionCost(o.cost)\n                                                : addSelection(\n                                                    o.label,\n                                                    o.cost,\n                                                    step.color,\n                                                    step.title\n                                                  )\n                                            }\n                                          >\n                                            <div\n                                              className=\"p-2 rounded-lg transition-all duration-200 hover:scale-105\"\n                                              style={{\n                                                background: isSelected\n                                                  ? 'rgba(189, 0, 255, 0.2)'\n                                                  : 'rgba(255, 255, 255, 0.05)',\n                                                border: `2px solid ${isSelected ? '#bd00ff' : '#bd00ff40'}`,\n                                                boxShadow: isSelected\n                                                  ? '0 0 15px rgba(189, 0, 255, 0.4)'\n                                                  : 'none',\n                                              }}\n                                            >\n                                              <div className=\"text-center\">\n                                                <OutlineIcon\n                                                  name={o.label}\n                                                  category=\"addon\"\n                                                  className=\"w-6 h-6 mb-1 mx-auto\"\n                                                />\n                                                <div className=\"text-[9px] font-semibold text-white leading-tight\">\n                                                  {o.label}\n                                                </div>\n                                                {typeof o.cost === 'number' && (\n                                                  <div className=\"text-[8px] text-purple-400 mt-1\">\n                                                    +${o.cost.toFixed(2)}\n                                                  </div>\n                                                )}\n                                              </div>\n                                            </div>\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  </div>\n                                </div>\n                              ) : (\n                                <div className=\"grid grid-cols-2 gap-2\">\n                                  {step.options.map(o => (\n                                    <label\n                                      key={o.label}\n                                      className=\"flex items-center text-[11px] leading-tight truncate opacity-95 hover:opacity-100\"\n                                    >\n                                      <input\n                                        type=\"checkbox\"\n                                        onChange={e =>\n                                          e.target.checked\n                                            ? addSelection(\n                                                o.label,\n                                                o.cost,\n                                                step.color,\n                                                step.title\n                                              )\n                                            : removeSelectionCost(o.cost)\n                                        }\n                                      />{' '}\n                                      <span className=\"align-middle truncate tracking-wide text-white\">\n                                        {o.icon ? `${o.icon} ` : ''}\n                                        {o.label}\n                                        {typeof o.cost === 'number'\n                                          ? ` ($${o.cost})`\n                                          : ''}\n                                      </span>\n                                    </label>\n                                  ))}\n                                </div>\n                              ))}\n\n                            {step.type === 'groupbox' && step.options && (\n                              <>\n                                <div\n                                  className=\"grid grid-cols-2 gap-2\"\n                                  style={{ height: 'calc(100% - 20px)' }}\n                                >\n                                  {step.options.map(o => {\n                                    const comingSoon = (o.label || '')\n                                      .toLowerCase()\n                                      .includes('coming soon');\n                                    const isLive = !comingSoon;\n                                    const already = summary.some(\n                                      it =>\n                                        it.label === o.label &&\n                                        it.section === step.title\n                                    );\n                                    return (\n                                      <div\n                                        key={o.label}\n                                        onClick={() => {\n                                          if (isLive && !already)\n                                            addSelection(\n                                              o.label,\n                                              o.cost,\n                                              step.color,\n                                              step.title\n                                            );\n                                        }}\n                                        className={`glass-panel border-2 rounded-lg p-2 transition-smooth hover:scale-[1.02] cursor-pointer ${comingSoon ? 'opacity-30 pointer-events-none' : ''} ${already ? 'glow-' + step.color : ''}`}\n                                        style={{\n                                          borderColor: already\n                                            ? colorHex\n                                            : colorHex + '40',\n                                          background: already\n                                            ? mapColorRGBA(step.color, 0.2)\n                                            : 'rgba(255, 255, 255, 0.05)',\n                                          boxShadow: already\n                                            ? `0 0 20px ${colorHex}40`\n                                            : 'none',\n                                        }}\n                                      >\n                                        <div className=\"text-center\">\n                                          <OutlineIcon\n                                            name={o.label.replace(\n                                              ' (Coming soon)',\n                                              ''\n                                            )}\n                                            category=\"analysis\"\n                                            className=\"w-5 h-5 mb-0.5 mx-auto\"\n                                          />\n                                          <div className=\"font-bold text-[11px] text-white leading-tight\">\n                                            {o.label.replace(\n                                              ' (Coming soon)',\n                                              ''\n                                            )}\n                                          </div>\n                                          {comingSoon && (\n                                            <div className=\"text-[8px] text-white/50 mt-0.5\">\n                                              Coming Soon\n                                            </div>\n                                          )}\n                                        </div>\n                                        {o.description && (\n                                          <div className=\"text-[8px] text-white/70 text-center leading-tight mt-1\">\n                                            {o.description}\n                                          </div>\n                                        )}\n                                        {typeof o.cost === 'number' && (\n                                          <div className=\"text-[8px] text-center mt-0.5 text-pink-400 font-bold\">\n                                            +${o.cost.toFixed(2)}\n                                          </div>\n                                        )}\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                              </>\n                            )}\n                          </div>\n\n                          {/* Action buttons (absolute positioned at bottom) */}\n                          {!showStatus && (\n                            <div\n                              className=\"absolute bottom-0 left-0 right-0 p-8 pt-4\"\n                              style={{\n                                background:\n                                  'linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0))',\n                              }}\n                            >\n                              <button\n                                className=\"w-full mt-2 px-3 py-2 rounded text-center font-semibold transition-smooth hover:scale-[1.02] active:scale-[0.98]\"\n                                style={{\n                                  border: `2px solid ${colorHex}`,\n                                  color: colorHex,\n                                  background: mapColorRGBA(step.color, 0.06),\n                                  boxShadow: `0 4px 15px ${colorHex}20`,\n                                  backdropFilter: 'blur(10px)',\n                                }}\n                                onClick={() => {\n                                  if (currentStep === steps.length - 1) {\n                                    // Mark add-ons as submitted\n                                    setAddonsSubmitted(true);\n                                  } else {\n                                    setCurrentStep(\n                                      Math.min(\n                                        currentStep + 1,\n                                        steps.length - 1\n                                      )\n                                    );\n                                    setStepFadeKey(k => k + 1);\n                                  }\n                                }}\n                              >\n                                {currentStep === steps.length - 1\n                                  ? 'Submit Add-ons'\n                                  : 'Next Step'}\n                              </button>\n                            </div>\n                          )}\n                        </>\n                      ) : null}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Receipt Panel - Only show when not in status mode */}\n              {!showStatus && (\n                <div className=\"col-span-4\">\n                  <Card\n                    className=\"relative p-6 rounded-2xl transition-smooth\"\n                    style={{\n                      fontFamily: monoStack,\n                      background: 'rgba(0, 0, 0, 0.1)',\n                      backdropFilter: 'blur(40px)',\n                      WebkitBackdropFilter: 'blur(40px)',\n                      border: `2px solid ${receiptColor}`,\n                      minHeight: '420px',\n                      width: '100%',\n                      boxShadow: `\n                  0 8px 32px rgba(0, 0, 0, 0.3),\n                  0 0 60px ${receiptColor}10,\n                  0 0 0 1px ${receiptColor}20,\n                  inset 0 0 60px rgba(255, 255, 255, 0.05)\n                `,\n                      clipPath:\n                        'polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px))',\n                    }}\n                  >\n                    {!showStatus ? (\n                      <>\n                        <div className=\"text-center mb-4 pb-3 border-b border-white/20\">\n                          <div className=\"flex flex-col items-center gap-2 mb-2\">\n                            <img\n                              src=\"/assets/logo.jpg\"\n                              alt=\"UltrAI Logo\"\n                              className=\"w-16 h-16 rounded-lg shadow-lg\"\n                              style={{\n                                filter:\n                                  'drop-shadow(0 0 10px rgba(0, 255, 255, 0.5))',\n                                border: '2px solid rgba(0, 255, 255, 0.3)',\n                              }}\n                            />\n                            <div className=\"text-[16px] font-extrabold tracking-[0.2em] text-white\">\n                              ULTRAI\n                            </div>\n                          </div>\n                          <div className=\"text-[9px] text-white/60 font-mono\">\n                            ITEMIZED RECEIPT\n                          </div>\n                          <div className=\"text-[8px] text-white/40 font-mono mt-1\">\n                            #{Date.now().toString(36).toUpperCase()}\n                          </div>\n                        </div>\n                        <div\n                          className=\"space-y-2\"\n                          style={{\n                            maxHeight: '360px',\n                            overflowY: 'auto',\n                            paddingRight: 6,\n                          }}\n                        >\n                          {receiptSections}\n                        </div>\n                        <div\n                          className=\"mt-3 font-bold text-pink-400 text-lg text-center transition-all duration-300 hover:scale-105\"\n                          style={{\n                            textShadow: '0 0 10px rgba(255, 0, 212, 0.5)',\n                          }}\n                        >{`Total: $${totalCost.toFixed(2)}`}</div>\n                        {addonsSubmitted ? (\n                          selectedModels.length >= 2 ? (\n                            <button\n                              className=\"w-full mt-3 px-4 py-3 rounded text-center font-semibold animate-pulse-glow transition-smooth hover:scale-[1.02] active:scale-[0.98]\"\n                              style={{\n                                border: '2px solid #ff00d4',\n                                color: '#ff00d4',\n                                background: 'rgba(255,0,212,0.08)',\n                                boxShadow: '0 0 20px rgba(255,0,212,0.3)',\n                              }}\n                              onClick={() => setShowStatus(true)}\n                            >\n                              <Rocket className=\"inline-block w-4 h-4 mr-1\" />{' '}\n                              Initialize UltrAI\n                            </button>\n                          ) : (\n                            <div className=\"mt-3\">\n                              <button\n                                className=\"w-full px-4 py-3 rounded text-center font-semibold opacity-50 cursor-not-allowed\"\n                                style={{\n                                  border: '2px solid rgba(255,0,212,0.5)',\n                                  color: 'rgba(255,0,212,0.7)',\n                                  background: 'rgba(255,0,212,0.04)',\n                                }}\n                                disabled\n                              >\n                                 Select at least 2 models\n                              </button>\n                              <p className=\"text-[10px] text-white/50 text-center mt-2\">\n                                Ultra Synthesis requires multiple models for\n                                optimal results\n                              </p>\n                            </div>\n                          )\n                        ) : currentStep === steps.length - 1 ? (\n                          <div className=\"mt-3 text-center text-[11px] text-white/60\">\n                            Submit add-ons to continue...\n                          </div>\n                        ) : (\n                          <div className=\"mt-3 text-center text-[11px] text-white/60\">\n                            Complete all steps to proceed\n                          </div>\n                        )}\n                      </>\n                    ) : null}\n                  </Card>\n                </div>\n              )}\n\n              {/* Processing Status - Centered */}\n              {showStatus && !showResults && (\n                <div className=\"max-w-4xl w-full\" style={{ marginTop: '-6vh' }}>\n                  <LaunchStatus\n                    isComplete={\n                      !isRunning && !!orchestratorResult && !orchestratorError\n                    }\n                    orchestratorResult={orchestratorResult}\n                    selectedAddons={summary.filter(\n                      item => item.section === '5. Add-ons & formatting'\n                    )}\n                    onViewResults={() => {\n                      setShowResults(true);\n                      console.debug('Viewing final results');\n                    }}\n                    onStartNew={() => {\n                      setShowStatus(false);\n                      setCurrentStep(0);\n                      setSummary([]);\n                      setTotalCost(0);\n                      setOrchestratorResult(null);\n                      setOrchestratorError(null);\n                      setShowResults(false);\n                    }}\n                  />\n                </div>\n              )}\n\n              {/* Centered Professional Results Panel - Only when showing final results */}\n              {showStatus && showResults && (\n                <div className=\"max-w-2xl w-full\">\n                  <Card\n                    className=\"relative p-6 rounded-2xl transition-smooth\"\n                    style={{\n                      background: 'rgba(0, 0, 0, 0.1)',\n                      backdropFilter: 'blur(40px)',\n                      WebkitBackdropFilter: 'blur(40px)',\n                      border: `2px solid ${receiptColor}`,\n                      minHeight: '420px',\n                      width: '100%',\n                      boxShadow: `\n                    0 8px 32px rgba(0, 0, 0, 0.3),\n                    0 0 60px ${receiptColor}10,\n                    0 0 0 1px ${receiptColor}20,\n                    inset 0 0 60px rgba(255, 255, 255, 0.05)\n                  `,\n                      clipPath:\n                        'polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px))',\n                    }}\n                  >\n                    {/* Show final results in professional layout */}\n                    <div className=\"space-y-6\">\n                      <div className=\"text-center mb-6 pb-6 border-b border-white/10\">\n                        <div className=\"flex flex-col items-center gap-3 mb-3\">\n                          <div className=\"relative\">\n                            <img\n                              src=\"/assets/logo.jpg\"\n                              alt=\"UltrAI Logo\"\n                              className=\"w-20 h-20 rounded-xl shadow-2xl\"\n                              style={{\n                                filter:\n                                  'drop-shadow(0 0 20px rgba(0, 255, 255, 0.3))',\n                                border: '2px solid rgba(0, 255, 255, 0.2)',\n                              }}\n                            />\n                            <div className=\"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-green-500/20 border-2 border-green-400 flex items-center justify-center\">\n                              <Check className=\"w-5 h-5 text-green-400\" />\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"text-[20px] font-extrabold tracking-[0.15em] text-white\">\n                              ULTRAI\n                            </div>\n                            <div className=\"text-[11px] text-white/60 tracking-wider\">\n                              Intelligence Multiplication Platform\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"text-[12px] text-green-400 font-medium flex items-center justify-center gap-2\">\n                          <Activity className=\"w-4 h-4 animate-pulse\" />\n                          SYNTHESIS COMPLETE\n                        </div>\n                      </div>\n\n                      {/* Results Summary */}\n                      <div className=\"grid grid-cols-3 gap-3 mb-6\">\n                        <div\n                          className=\"bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 text-center border border-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer\"\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label=\"View Initial Analysis\"\n                          onClick={() => {\n                            setViewingIteration('initial');\n                            console.debug('Switched to initial analysis view');\n                          }}\n                        >\n                          <OutlineIcon\n                            name=\"Models Used\"\n                            category=\"status\"\n                            className=\"w-8 h-8 mx-auto mb-2 text-[#00ff9f]\"\n                          />\n                          <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                            Models Used\n                          </div>\n                          <div className=\"text-[16px] font-bold text-green-300 mt-1\">\n                            {Array.isArray(orchestratorResult?.models_used)\n                              ? orchestratorResult.models_used.length\n                              : '3'}\n                          </div>\n                        </div>\n                        <div\n                          className=\"bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 text-center border border-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer\"\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label=\"View Final Synthesis\"\n                          onClick={() => {\n                            setViewingIteration('final');\n                            console.debug('Switched to final synthesis view');\n                          }}\n                        >\n                          <Zap className=\"w-8 h-8 mx-auto mb-2 text-blue-400\" />\n                          <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                            Processing Time\n                          </div>\n                          <div className=\"text-[16px] font-bold text-blue-300 mt-1\">\n                            {typeof orchestratorResult?.processing_time ===\n                            'number'\n                              ? `${Math.floor(orchestratorResult.processing_time / 60)}:${String(Math.floor(orchestratorResult.processing_time % 60)).padStart(2, '0')}`\n                              : '0:52'}\n                          </div>\n                        </div>\n                        <div\n                          className=\"bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 text-center border border-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer\"\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label=\"View Meta Analysis\"\n                          onClick={() => {\n                            setViewingIteration('meta');\n                            console.debug('Switched to meta analysis view');\n                          }}\n                        >\n                          <OutlineIcon\n                            name=\"Pattern\"\n                            category=\"status\"\n                            className=\"w-8 h-8 mx-auto mb-2 text-[#bd00ff]\"\n                          />\n                          <div className=\"text-[10px] font-semibold text-white/60 uppercase tracking-wider\">\n                            Pattern Used\n                          </div>\n                          <div className=\"text-[16px] font-bold text-purple-300 mt-1\">\n                            {orchestratorResult?.pattern_used || 'Ultra'}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Selected Addons */}\n                      {summary.filter(\n                        item => item.section === '5. Add-ons & formatting'\n                      ).length > 0 && (\n                        <div className=\"mb-4 p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-white/20\">\n                          <div className=\"text-[11px] font-semibold text-white/80 mb-3 flex items-center gap-2\">\n                            <OutlineIcon\n                              name=\"Enhanced\"\n                              category=\"status\"\n                              className=\"w-4 h-4\"\n                            />{' '}\n                            Enhanced Analysis Features:\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            {summary\n                              .filter(\n                                item =>\n                                  item.section === '5. Add-ons & formatting'\n                              )\n                              .map((addon, idx) => (\n                                <div\n                                  key={idx}\n                                  className=\"flex items-center gap-2 text-[11px] text-white/90\"\n                                >\n                                  <Check className=\"w-4 h-4 text-green-400\" />\n                                  <span>{addon.label}</span>\n                                </div>\n                              ))}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Iteration Navigation */}\n                      <div className=\"flex gap-2 mb-4\">\n                        <button\n                          className={`flex-1 px-3 py-2 rounded-lg text-[11px] font-medium transition-all ${\n                            viewingIteration === 'final'\n                              ? 'bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-white/30 text-white'\n                              : 'bg-white/5 border border-white/10 text-white/60 hover:text-white hover:border-white/20'\n                          }`}\n                          onClick={() => setViewingIteration('final')}\n                        >\n                          <Sparkles className=\"w-4 h-4 inline mr-1\" />\n                          Final Synthesis\n                        </button>\n                        <button\n                          className={`flex-1 px-3 py-2 rounded-lg text-[11px] font-medium transition-all ${\n                            viewingIteration === 'initial'\n                              ? 'bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-white/30 text-white'\n                              : 'bg-white/5 border border-white/10 text-white/60 hover:text-white hover:border-white/20'\n                          }`}\n                          onClick={() => setViewingIteration('initial')}\n                        >\n                          <Brain className=\"w-4 h-4 inline mr-1\" />\n                          Initial Analysis\n                        </button>\n                        <button\n                          className={`flex-1 px-3 py-2 rounded-lg text-[11px] font-medium transition-all ${\n                            viewingIteration === 'meta'\n                              ? 'bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-white/30 text-white'\n                              : 'bg-white/5 border border-white/10 text-white/60 hover:text-white hover:border-white/20'\n                          }`}\n                          onClick={() => setViewingIteration('meta')}\n                        >\n                          <Network className=\"w-4 h-4 inline mr-1\" />\n                          Meta Analysis\n                        </button>\n                      </div>\n\n                      {/* Professional Results Display */}\n                      <div className=\"space-y-4\">\n                        <div className=\"bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-lg p-4 border border-white/20\">\n                          <div className=\"flex items-center gap-2 mb-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center\">\n                              <Check className=\"w-5 h-5 text-green-400\" />\n                            </div>\n                            <div>\n                              <div className=\"text-[12px] font-bold text-white\">\n                                {viewingIteration === 'final'\n                                  ? 'Final Synthesis Complete'\n                                  : viewingIteration === 'initial'\n                                    ? 'Initial Analysis Results'\n                                    : 'Meta Analysis Results'}\n                              </div>\n                              <div className=\"text-[10px] text-white/60\">\n                                {viewingIteration === 'final'\n                                  ? 'Ultra Synthesis has processed your query'\n                                  : viewingIteration === 'initial'\n                                    ? 'Individual model responses'\n                                    : 'Cross-model pattern analysis'}\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"text-[11px] text-white/80 leading-relaxed whitespace-pre-wrap\">\n                            {viewingIteration === 'final'\n                              ? orchestratorResult?.ultra_response &&\n                                orchestratorResult.ultra_response.trim()\n                                  .length > 0\n                                ? orchestratorResult.ultra_response\n                                : 'Multi-model synthesis complete. Advanced intelligence multiplication has identified key insights across all dimensions of your query.'\n                              : viewingIteration === 'initial'\n                                ? 'Download the individual model responses below.'\n                                : 'Download the meta-analysis details below.'}\n                          </div>\n                        </div>\n\n                        <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                          <div className=\"text-[11px] font-semibold text-white/80 mb-3 flex items-center gap-2\">\n                            <Activity className=\"w-4 h-4\" /> Key Metrics\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-3\">\n                            <div>\n                              <div className=\"text-[10px] text-white/60\">\n                                Confidence Score\n                              </div>\n                              <div className=\"text-[14px] font-bold text-green-300\">\n                                94.7%\n                              </div>\n                            </div>\n                            <div>\n                              <div className=\"text-[10px] text-white/60\">\n                                Insights Generated\n                              </div>\n                              <div className=\"text-[14px] font-bold text-purple-300\">\n                                12\n                              </div>\n                            </div>\n                            <div>\n                              <div className=\"text-[10px] text-white/60\">\n                                Models Consensus\n                              </div>\n                              <div className=\"text-[14px] font-bold text-blue-300\">\n                                92%\n                              </div>\n                            </div>\n                            <div>\n                              <div className=\"text-[10px] text-white/60\">\n                                Quality Score\n                              </div>\n                              <div className=\"text-[14px] font-bold text-pink-300\">\n                                A+\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Downloads for Initial / Meta */}\n                        {(viewingIteration === 'initial' ||\n                          viewingIteration === 'meta') && (\n                          <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                            <div className=\"text-[11px] font-semibold text-white/80 mb-3 flex items-center gap-2\">\n                              <Download className=\"w-4 h-4\" /> Downloads\n                            </div>\n                            <div className=\"flex flex-wrap gap-2\">\n                              {viewingIteration === 'initial' &&\n                                Array.isArray(\n                                  orchestratorResult?.initial_responses\n                                ) &&\n                                orchestratorResult.initial_responses.length >\n                                  0 &&\n                                orchestratorResult.initial_responses.map(\n                                  (resp: any, idx: number) => (\n                                    <button\n                                      key={`init-${idx}`}\n                                      className=\"px-3 py-2 rounded-lg text-[11px] font-medium bg-white/10 hover:bg-white/20 border border-white/20\"\n                                      onClick={() => {\n                                        const text =\n                                          typeof resp?.content === 'string'\n                                            ? resp.content\n                                            : JSON.stringify(resp, null, 2);\n                                        const blob = new Blob([text], {\n                                          type: 'text/plain;charset=utf-8',\n                                        });\n                                        const url = URL.createObjectURL(blob);\n                                        const a = document.createElement('a');\n                                        a.href = url;\n                                        a.download = `initial_response_${idx + 1}.txt`;\n                                        a.click();\n                                        URL.revokeObjectURL(url);\n                                      }}\n                                    >\n                                      Download Initial #{idx + 1} (.txt)\n                                    </button>\n                                  )\n                                )}\n                              {viewingIteration === 'meta' &&\n                                orchestratorResult?.meta_analysis && (\n                                  <button\n                                    className=\"px-3 py-2 rounded-lg text-[11px] font-medium bg-white/10 hover:bg-white/20 border border-white/20\"\n                                    onClick={() => {\n                                      const text =\n                                        typeof orchestratorResult.meta_analysis\n                                          ?.content === 'string'\n                                          ? orchestratorResult.meta_analysis\n                                              .content\n                                          : JSON.stringify(\n                                              orchestratorResult.meta_analysis,\n                                              null,\n                                              2\n                                            );\n                                      const blob = new Blob([text], {\n                                        type: 'text/plain;charset=utf-8',\n                                      });\n                                      const url = URL.createObjectURL(blob);\n                                      const a = document.createElement('a');\n                                      a.href = url;\n                                      a.download = `meta_analysis.txt`;\n                                      a.click();\n                                      URL.revokeObjectURL(url);\n                                    }}\n                                  >\n                                    Download Meta Analysis (.txt)\n                                  </button>\n                                )}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Action Buttons */}\n                      <div className=\"space-y-2 mt-4\">\n                        <button\n                          className=\"w-full px-4 py-3 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] relative group\"\n                          style={{\n                            background:\n                              'linear-gradient(135deg, #bd00ff 0%, #00d4ff 100%)',\n                            border: '2px solid transparent',\n                            backgroundClip: 'padding-box',\n                          }}\n                          onClick={() => {\n                            try {\n                              let textContent = '';\n                              if (viewingIteration === 'final') {\n                                textContent = (\n                                  orchestratorResult?.ultra_response ||\n                                  orchestratorResult?.final_result ||\n                                  ''\n                                ).toString();\n                              } else if (viewingIteration === 'initial') {\n                                const list: any[] = Array.isArray(\n                                  orchestratorResult?.initial_responses\n                                )\n                                  ? orchestratorResult.initial_responses\n                                  : [];\n                                textContent = list\n                                  .map(\n                                    (resp: any, idx: number) =>\n                                      `Initial Response #${idx + 1}\\n\\n${typeof resp?.content === 'string' ? resp.content : JSON.stringify(resp, null, 2)}`\n                                  )\n                                  .join(\n                                    '\\n\\n------------------------------\\n\\n'\n                                  );\n                              } else {\n                                const meta = orchestratorResult?.meta_analysis;\n                                textContent =\n                                  (typeof meta?.content === 'string'\n                                    ? meta.content\n                                    : JSON.stringify(meta, null, 2)) || '';\n                              }\n                              const w = window.open(\n                                '',\n                                '_blank',\n                                'width=900,height=1200'\n                              );\n                              if (w) {\n                                const safe = (textContent || '')\n                                  .replace(/</g, '&lt;')\n                                  .replace(/>/g, '&gt;');\n                                w.document.write(\n                                  `<!doctype html><html><head><meta charset=\"utf-8\"><title>UltrAI ${viewingIteration} Results</title><style>body{margin:24px;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \"Apple Color Emoji\", \"Segoe UI Emoji\";} pre{white-space: pre-wrap; word-wrap: break-word; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; font-size: 12px; line-height: 1.6;}</style></head><body><h1 style=\"font-size:18px;margin:0 0 16px;\">UltrAI ${viewingIteration === 'final' ? 'Final Synthesis' : viewingIteration === 'initial' ? 'Initial Responses' : 'Meta Analysis'}</h1><pre>${safe}</pre></body></html>`\n                                );\n                                w.document.close();\n                                w.focus();\n                                w.print();\n                              }\n                            } catch {}\n                          }}\n                        >\n                          <span className=\"relative z-10 flex items-center justify-center gap-2\">\n                            <Download className=\"w-5 h-5\" /> Print / Save as PDF\n                          </span>\n                          <div className=\"absolute inset-0 rounded-lg bg-gradient-to-r from-purple-400 to-blue-400 opacity-0 group-hover:opacity-50 blur-xl transition-opacity duration-300\" />\n                        </button>\n\n                        <button\n                          className=\"w-full px-4 py-3 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] relative group\"\n                          style={{\n                            background:\n                              'linear-gradient(135deg, #00ff9f 0%, #00d4ff 100%)',\n                            border: '2px solid transparent',\n                            backgroundClip: 'padding-box',\n                          }}\n                          onClick={e => {\n                            if (\n                              orchestratorResult?.ultra_response ||\n                              orchestratorResult?.final_result\n                            ) {\n                              const content =\n                                orchestratorResult.ultra_response ||\n                                orchestratorResult.final_result;\n                              navigator.clipboard\n                                .writeText(content)\n                                .catch(() => {});\n                              const btn = e.currentTarget as HTMLButtonElement;\n                              const originalContent = btn.innerHTML;\n                              btn.innerHTML =\n                                '<span class=\"flex items-center justify-center gap-2\"><svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path></svg> Copied!</span>';\n                              setTimeout(() => {\n                                btn.innerHTML = originalContent;\n                              }, 2000);\n                            }\n                          }}\n                        >\n                          <span className=\"relative z-10 flex items-center justify-center gap-2\">\n                            <Copy className=\"w-5 h-5\" /> Copy Full Results\n                          </span>\n                          <div className=\"absolute inset-0 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 opacity-0 group-hover:opacity-50 blur-xl transition-opacity duration-300\" />\n                        </button>\n\n                        <button\n                          className=\"w-full px-3 py-2 rounded-lg font-medium text-white/70 transition-all duration-300 hover:text-white hover:bg-white/10\"\n                          style={{ border: '1px solid rgba(255,255,255,0.2)' }}\n                          onClick={() => {\n                            setShowStatus(false);\n                            setShowResults(false);\n                            setCurrentStep(0);\n                            setSummary([]);\n                            setTotalCost(0);\n                            setOrchestratorResult(null);\n                            setOrchestratorError(null);\n                          }}\n                        >\n                          <Rocket className=\"inline-block w-4 h-4 mr-1\" /> Start\n                          New Analysis\n                        </button>\n                      </div>\n                    </div>\n                  </Card>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Status Section Below removed; status now appears in right panel after approval */}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component, ReactNode } from 'react';\nimport { Button } from './ui/button';\n\ninterface Props {\n  children: ReactNode;\n  pageName?: string;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class PageErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    // Log error to monitoring service in production\n    if (process.env.NODE_ENV === 'production') {\n      // Send to error tracking service\n      console.error('Page Error:', error, errorInfo);\n    }\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: null });\n    window.location.reload();\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center p-4\">\n          <div className=\"max-w-md w-full bg-white/10 backdrop-blur-lg rounded-xl p-8 text-center\">\n            <div className=\"text-6xl mb-4\"></div>\n            <h1 className=\"text-2xl font-bold text-white mb-2\">\n              Oops! Something went wrong\n            </h1>\n            <p className=\"text-white/70 mb-6\">\n              {this.props.pageName\n                ? `An error occurred on the ${this.props.pageName} page.`\n                : 'An unexpected error occurred.'}\n            </p>\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <pre className=\"text-xs text-left bg-black/50 p-4 rounded mb-4 overflow-auto\">\n                {this.state.error.toString()}\n              </pre>\n            )}\n            <div className=\"space-y-2\">\n              <Button\n                onClick={this.handleReset}\n                className=\"w-full\"\n                variant=\"default\"\n              >\n                Refresh Page\n              </Button>\n              <Button\n                onClick={() => window.history.back()}\n                className=\"w-full\"\n                variant=\"outline\"\n              >\n                Go Back\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","import CyberWizard from '@components/wizard/CyberWizard';\nimport { PageErrorBoundary } from '@components/PageErrorBoundary';\n\nexport default function WizardPage() {\n  return (\n    <PageErrorBoundary pageName=\"Wizard\">\n      <CyberWizard />\n    </PageErrorBoundary>\n  );\n}\n","import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from 'react-router-dom';\nimport { useEffect, lazy, Suspense } from 'react';\nimport { useAuthStore } from './stores/authStore';\nimport { ProtectedRoute } from './components/auth/ProtectedRoute';\nimport ErrorBoundary from './components/ErrorBoundary';\n\n// Layout\nimport NavBar from './components/layout/NavBar';\nimport DemoIndicator from './components/DemoIndicator';\n\n// Immediate load for critical pages\nimport WizardPage from './pages/wizard';\n\n// Lazy load all other pages\nconst LoginPage = lazy(() =>\n  import('./pages/LoginPage').then(m => ({ default: m.LoginPage }))\n);\nconst RegisterPage = lazy(() =>\n  import('./pages/RegisterPage').then(m => ({ default: m.RegisterPage }))\n);\nconst SimpleAnalysis = lazy(() => import('./pages/SimpleAnalysis'));\nconst UIPrototype = lazy(() => import('./pages/UIPrototype'));\nconst UniversalUI = lazy(() => import('./pages/UniversalUI'));\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\nconst Outputs = lazy(() => import('./pages/Outputs'));\nconst FAQ = lazy(() => import('./pages/FAQ'));\nconst DocumentsPage = lazy(() => import('./pages/DocumentsPage'));\nconst OrchestratorPage = lazy(() => import('./pages/OrchestratorPage'));\nconst ModelRunnerDemo = lazy(() => import('./pages/ModelRunnerDemo'));\nconst ModelMonitor = lazy(() => import('./pages/ModelMonitor'));\nconst Admin = lazy(() => import('./pages/Admin'));\n\n// Loading component\nconst PageLoader = () => (\n  <div className=\"flex items-center justify-center min-h-[50vh]\">\n    <div className=\"text-center\">\n      <div className=\"w-12 h-12 border-4 border-mint-400 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n      <p className=\"text-white/60 text-sm\">Loading...</p>\n    </div>\n  </div>\n);\n\nfunction Profile() {\n  return (\n    <div className=\"text-white\">\n      <h1 className=\"text-2xl font-bold mb-2\">Profile</h1>\n      <p className=\"opacity-80\">Manage your user profile here.</p>\n    </div>\n  );\n}\n\nfunction App() {\n  const { fetchCurrentUser } = useAuthStore();\n\n  // Add skip navigation link for accessibility\n  useEffect(() => {\n    const skipLink = document.createElement('a');\n    skipLink.href = '#main-content';\n    skipLink.className = 'skip-link';\n    skipLink.textContent = 'Skip to main content';\n    skipLink.setAttribute('aria-label', 'Skip to main content');\n    document.body.insertBefore(skipLink, document.body.firstChild);\n\n    return () => {\n      if (skipLink.parentNode) {\n        skipLink.parentNode.removeChild(skipLink);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    // Try to fetch current user on app load if token exists\n    fetchCurrentUser();\n  }, [fetchCurrentUser]);\n\n  return (\n    <ErrorBoundary>\n      <Router>\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 md:pl-16\">\n          <NavBar />\n          <main className=\"container mx-auto px-4 py-6\">\n            <Suspense fallback={<PageLoader />}>\n              <Routes>\n                {/* Public Routes */}\n                <Route path=\"/\" element={<Navigate to=\"/wizard\" replace />} />\n                <Route path=\"/wizard\" element={<WizardPage />} />\n                <Route path=\"/login\" element={<LoginPage />} />\n                <Route path=\"/register\" element={<RegisterPage />} />\n                <Route path=\"/analyze\" element={<SimpleAnalysis />} />\n                <Route path=\"/prototype\" element={<UIPrototype />} />\n                <Route path=\"/universal-ui\" element={<UniversalUI />} />\n                <Route path=\"/dashboard\" element={<Dashboard />} />\n                <Route path=\"/outputs\" element={<Outputs />} />\n                <Route path=\"/faq\" element={<FAQ />} />\n                <Route path=\"/profile\" element={<Profile />} />\n                <Route path=\"/monitor\" element={<ModelMonitor />} />\n                <Route path=\"/admin\" element={<Admin />} />\n\n                {/* Protected Routes */}\n                <Route\n                  path=\"/documents\"\n                  element={\n                    <ProtectedRoute>\n                      <DocumentsPage />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/orchestrator\"\n                  element={\n                    <ProtectedRoute>\n                      <OrchestratorPage />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/modelrunner\"\n                  element={\n                    <ProtectedRoute>\n                      <ModelRunnerDemo />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/* Catch all - redirect to home */}\n                <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n              </Routes>\n            </Suspense>\n          </main>\n        </div>\n      </Router>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      gcTime: 1000 * 60 * 10, // 10 minutes (formerly cacheTime)\n      retry: (failureCount, error: any) => {\n        // Don't retry on 4xx errors except 429 (rate limit)\n        if (error?.response?.status >= 400 && error?.response?.status < 500 && error?.response?.status !== 429) {\n          return false;\n        }\n        // Retry up to 3 times with exponential backoff\n        return failureCount < 3;\n      },\n      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\n      refetchOnWindowFocus: false,\n      refetchOnMount: true,\n    },\n    mutations: {\n      retry: false, // Don't retry mutations by default\n    },\n  },\n});\n\ninterface QueryProviderProps {\n  children: React.ReactNode;\n}\n\nexport function QueryProvider({ children }: QueryProviderProps) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n      {import.meta.env.DEV && <ReactQueryDevtools initialIsOpen={false} />}\n    </QueryClientProvider>\n  );\n}\n\nexport { queryClient };","var __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _j = 0, _k = __getOwnPropSymbols(b); _j < _k.length; _j++) {\r\n            var prop = _k[_j];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __objRest = function (source, exclude) {\r\n    var target = {};\r\n    for (var prop in source)\r\n        if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\r\n            target[prop] = source[prop];\r\n    if (source != null && __getOwnPropSymbols)\r\n        for (var _j = 0, _k = __getOwnPropSymbols(source); _j < _k.length; _j++) {\r\n            var prop = _k[_j];\r\n            if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\r\n                target[prop] = source[prop];\r\n        }\r\n    return target;\r\n};\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/query/core/apiState.ts\r\nvar QueryStatus;\r\n(function (QueryStatus2) {\r\n    QueryStatus2[\"uninitialized\"] = \"uninitialized\";\r\n    QueryStatus2[\"pending\"] = \"pending\";\r\n    QueryStatus2[\"fulfilled\"] = \"fulfilled\";\r\n    QueryStatus2[\"rejected\"] = \"rejected\";\r\n})(QueryStatus || (QueryStatus = {}));\r\nfunction getRequestStatusFlags(status) {\r\n    return {\r\n        status: status,\r\n        isUninitialized: status === QueryStatus.uninitialized,\r\n        isLoading: status === QueryStatus.pending,\r\n        isSuccess: status === QueryStatus.fulfilled,\r\n        isError: status === QueryStatus.rejected\r\n    };\r\n}\r\n// src/query/utils/isAbsoluteUrl.ts\r\nfunction isAbsoluteUrl(url) {\r\n    return new RegExp(\"(^|:)//\").test(url);\r\n}\r\n// src/query/utils/joinUrls.ts\r\nvar withoutTrailingSlash = function (url) { return url.replace(/\\/$/, \"\"); };\r\nvar withoutLeadingSlash = function (url) { return url.replace(/^\\//, \"\"); };\r\nfunction joinUrls(base, url) {\r\n    if (!base) {\r\n        return url;\r\n    }\r\n    if (!url) {\r\n        return base;\r\n    }\r\n    if (isAbsoluteUrl(url)) {\r\n        return url;\r\n    }\r\n    var delimiter = base.endsWith(\"/\") || !url.startsWith(\"?\") ? \"/\" : \"\";\r\n    base = withoutTrailingSlash(base);\r\n    url = withoutLeadingSlash(url);\r\n    return \"\" + base + delimiter + url;\r\n}\r\n// src/query/utils/flatten.ts\r\nvar flatten = function (arr) { return [].concat.apply([], arr); };\r\n// src/query/utils/isOnline.ts\r\nfunction isOnline() {\r\n    return typeof navigator === \"undefined\" ? true : navigator.onLine === void 0 ? true : navigator.onLine;\r\n}\r\n// src/query/utils/isDocumentVisible.ts\r\nfunction isDocumentVisible() {\r\n    if (typeof document === \"undefined\") {\r\n        return true;\r\n    }\r\n    return document.visibilityState !== \"hidden\";\r\n}\r\n// src/query/utils/copyWithStructuralSharing.ts\r\nimport { isPlainObject as _iPO } from \"@reduxjs/toolkit\";\r\nvar isPlainObject = _iPO;\r\nfunction copyWithStructuralSharing(oldObj, newObj) {\r\n    if (oldObj === newObj || !(isPlainObject(oldObj) && isPlainObject(newObj) || Array.isArray(oldObj) && Array.isArray(newObj))) {\r\n        return newObj;\r\n    }\r\n    var newKeys = Object.keys(newObj);\r\n    var oldKeys = Object.keys(oldObj);\r\n    var isSameObject = newKeys.length === oldKeys.length;\r\n    var mergeObj = Array.isArray(newObj) ? [] : {};\r\n    for (var _j = 0, newKeys_1 = newKeys; _j < newKeys_1.length; _j++) {\r\n        var key = newKeys_1[_j];\r\n        mergeObj[key] = copyWithStructuralSharing(oldObj[key], newObj[key]);\r\n        if (isSameObject)\r\n            isSameObject = oldObj[key] === mergeObj[key];\r\n    }\r\n    return isSameObject ? oldObj : mergeObj;\r\n}\r\n// src/query/fetchBaseQuery.ts\r\nimport { isPlainObject as isPlainObject2 } from \"@reduxjs/toolkit\";\r\nvar defaultFetchFn = function () {\r\n    var args = [];\r\n    for (var _j = 0; _j < arguments.length; _j++) {\r\n        args[_j] = arguments[_j];\r\n    }\r\n    return fetch.apply(void 0, args);\r\n};\r\nvar defaultValidateStatus = function (response) { return response.status >= 200 && response.status <= 299; };\r\nvar defaultIsJsonContentType = function (headers) { return /ion\\/(vnd\\.api\\+)?json/.test(headers.get(\"content-type\") || \"\"); };\r\nfunction stripUndefined(obj) {\r\n    if (!isPlainObject2(obj)) {\r\n        return obj;\r\n    }\r\n    var copy = __spreadValues({}, obj);\r\n    for (var _j = 0, _k = Object.entries(copy); _j < _k.length; _j++) {\r\n        var _l = _k[_j], k = _l[0], v = _l[1];\r\n        if (v === void 0)\r\n            delete copy[k];\r\n    }\r\n    return copy;\r\n}\r\nfunction fetchBaseQuery(_a) {\r\n    var _this = this;\r\n    if (_a === void 0) { _a = {}; }\r\n    var _b = _a, baseUrl = _b.baseUrl, _j = _b.prepareHeaders, prepareHeaders = _j === void 0 ? function (x) { return x; } : _j, _k = _b.fetchFn, fetchFn = _k === void 0 ? defaultFetchFn : _k, paramsSerializer = _b.paramsSerializer, _l = _b.isJsonContentType, isJsonContentType = _l === void 0 ? defaultIsJsonContentType : _l, _m = _b.jsonContentType, jsonContentType = _m === void 0 ? \"application/json\" : _m, jsonReplacer = _b.jsonReplacer, defaultTimeout = _b.timeout, globalResponseHandler = _b.responseHandler, globalValidateStatus = _b.validateStatus, baseFetchOptions = __objRest(_b, [\r\n        \"baseUrl\",\r\n        \"prepareHeaders\",\r\n        \"fetchFn\",\r\n        \"paramsSerializer\",\r\n        \"isJsonContentType\",\r\n        \"jsonContentType\",\r\n        \"jsonReplacer\",\r\n        \"timeout\",\r\n        \"responseHandler\",\r\n        \"validateStatus\"\r\n    ]);\r\n    if (typeof fetch === \"undefined\" && fetchFn === defaultFetchFn) {\r\n        console.warn(\"Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments.\");\r\n    }\r\n    return function (arg, api) { return __async(_this, null, function () {\r\n        var signal, getState, extra, endpoint, forced, type, meta, _a2, url, _j, headers, _k, params, _l, responseHandler, _m, validateStatus, _o, timeout, rest, config, _p, isJsonifiable, divider, query, request, requestClone, response, timedOut, timeoutId, e_1, responseClone, resultData, responseText, handleResponseError_1, e_2;\r\n        return __generator(this, function (_q) {\r\n            switch (_q.label) {\r\n                case 0:\r\n                    signal = api.signal, getState = api.getState, extra = api.extra, endpoint = api.endpoint, forced = api.forced, type = api.type;\r\n                    _a2 = typeof arg == \"string\" ? { url: arg } : arg, url = _a2.url, _j = _a2.headers, headers = _j === void 0 ? new Headers(baseFetchOptions.headers) : _j, _k = _a2.params, params = _k === void 0 ? void 0 : _k, _l = _a2.responseHandler, responseHandler = _l === void 0 ? globalResponseHandler != null ? globalResponseHandler : \"json\" : _l, _m = _a2.validateStatus, validateStatus = _m === void 0 ? globalValidateStatus != null ? globalValidateStatus : defaultValidateStatus : _m, _o = _a2.timeout, timeout = _o === void 0 ? defaultTimeout : _o, rest = __objRest(_a2, [\r\n                        \"url\",\r\n                        \"headers\",\r\n                        \"params\",\r\n                        \"responseHandler\",\r\n                        \"validateStatus\",\r\n                        \"timeout\"\r\n                    ]);\r\n                    config = __spreadValues(__spreadProps(__spreadValues({}, baseFetchOptions), {\r\n                        signal: signal\r\n                    }), rest);\r\n                    headers = new Headers(stripUndefined(headers));\r\n                    _p = config;\r\n                    return [4 /*yield*/, prepareHeaders(headers, {\r\n                            getState: getState,\r\n                            extra: extra,\r\n                            endpoint: endpoint,\r\n                            forced: forced,\r\n                            type: type\r\n                        })];\r\n                case 1:\r\n                    _p.headers = (_q.sent()) || headers;\r\n                    isJsonifiable = function (body) { return typeof body === \"object\" && (isPlainObject2(body) || Array.isArray(body) || typeof body.toJSON === \"function\"); };\r\n                    if (!config.headers.has(\"content-type\") && isJsonifiable(config.body)) {\r\n                        config.headers.set(\"content-type\", jsonContentType);\r\n                    }\r\n                    if (isJsonifiable(config.body) && isJsonContentType(config.headers)) {\r\n                        config.body = JSON.stringify(config.body, jsonReplacer);\r\n                    }\r\n                    if (params) {\r\n                        divider = ~url.indexOf(\"?\") ? \"&\" : \"?\";\r\n                        query = paramsSerializer ? paramsSerializer(params) : new URLSearchParams(stripUndefined(params));\r\n                        url += divider + query;\r\n                    }\r\n                    url = joinUrls(baseUrl, url);\r\n                    request = new Request(url, config);\r\n                    requestClone = new Request(url, config);\r\n                    meta = { request: requestClone };\r\n                    timedOut = false, timeoutId = timeout && setTimeout(function () {\r\n                        timedOut = true;\r\n                        api.abort();\r\n                    }, timeout);\r\n                    _q.label = 2;\r\n                case 2:\r\n                    _q.trys.push([2, 4, 5, 6]);\r\n                    return [4 /*yield*/, fetchFn(request)];\r\n                case 3:\r\n                    response = _q.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 4:\r\n                    e_1 = _q.sent();\r\n                    return [2 /*return*/, {\r\n                            error: {\r\n                                status: timedOut ? \"TIMEOUT_ERROR\" : \"FETCH_ERROR\",\r\n                                error: String(e_1)\r\n                            },\r\n                            meta: meta\r\n                        }];\r\n                case 5:\r\n                    if (timeoutId)\r\n                        clearTimeout(timeoutId);\r\n                    return [7 /*endfinally*/];\r\n                case 6:\r\n                    responseClone = response.clone();\r\n                    meta.response = responseClone;\r\n                    responseText = \"\";\r\n                    _q.label = 7;\r\n                case 7:\r\n                    _q.trys.push([7, 9, , 10]);\r\n                    return [4 /*yield*/, Promise.all([\r\n                            handleResponse(response, responseHandler).then(function (r) { return resultData = r; }, function (e) { return handleResponseError_1 = e; }),\r\n                            responseClone.text().then(function (r) { return responseText = r; }, function () {\r\n                            })\r\n                        ])];\r\n                case 8:\r\n                    _q.sent();\r\n                    if (handleResponseError_1)\r\n                        throw handleResponseError_1;\r\n                    return [3 /*break*/, 10];\r\n                case 9:\r\n                    e_2 = _q.sent();\r\n                    return [2 /*return*/, {\r\n                            error: {\r\n                                status: \"PARSING_ERROR\",\r\n                                originalStatus: response.status,\r\n                                data: responseText,\r\n                                error: String(e_2)\r\n                            },\r\n                            meta: meta\r\n                        }];\r\n                case 10: return [2 /*return*/, validateStatus(response, resultData) ? {\r\n                        data: resultData,\r\n                        meta: meta\r\n                    } : {\r\n                        error: {\r\n                            status: response.status,\r\n                            data: resultData\r\n                        },\r\n                        meta: meta\r\n                    }];\r\n            }\r\n        });\r\n    }); };\r\n    function handleResponse(response, responseHandler) {\r\n        return __async(this, null, function () {\r\n            var text;\r\n            return __generator(this, function (_j) {\r\n                switch (_j.label) {\r\n                    case 0:\r\n                        if (typeof responseHandler === \"function\") {\r\n                            return [2 /*return*/, responseHandler(response)];\r\n                        }\r\n                        if (responseHandler === \"content-type\") {\r\n                            responseHandler = isJsonContentType(response.headers) ? \"json\" : \"text\";\r\n                        }\r\n                        if (!(responseHandler === \"json\")) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, response.text()];\r\n                    case 1:\r\n                        text = _j.sent();\r\n                        return [2 /*return*/, text.length ? JSON.parse(text) : null];\r\n                    case 2: return [2 /*return*/, response.text()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n// src/query/HandledError.ts\r\nvar HandledError = /** @class */ (function () {\r\n    function HandledError(value, meta) {\r\n        if (meta === void 0) { meta = void 0; }\r\n        this.value = value;\r\n        this.meta = meta;\r\n    }\r\n    return HandledError;\r\n}());\r\n// src/query/retry.ts\r\nfunction defaultBackoff(attempt, maxRetries) {\r\n    if (attempt === void 0) { attempt = 0; }\r\n    if (maxRetries === void 0) { maxRetries = 5; }\r\n    return __async(this, null, function () {\r\n        var attempts, timeout;\r\n        return __generator(this, function (_j) {\r\n            switch (_j.label) {\r\n                case 0:\r\n                    attempts = Math.min(attempt, maxRetries);\r\n                    timeout = ~~((Math.random() + 0.4) * (300 << attempts));\r\n                    return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(function (res) { return resolve(res); }, timeout); })];\r\n                case 1:\r\n                    _j.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction fail(e) {\r\n    throw Object.assign(new HandledError({ error: e }), {\r\n        throwImmediately: true\r\n    });\r\n}\r\nvar EMPTY_OPTIONS = {};\r\nvar retryWithBackoff = function (baseQuery, defaultOptions) { return function (args, api, extraOptions) { return __async(void 0, null, function () {\r\n    var possibleMaxRetries, maxRetries, defaultRetryCondition, options, retry2, result, e_3;\r\n    return __generator(this, function (_j) {\r\n        switch (_j.label) {\r\n            case 0:\r\n                possibleMaxRetries = [\r\n                    5,\r\n                    (defaultOptions || EMPTY_OPTIONS).maxRetries,\r\n                    (extraOptions || EMPTY_OPTIONS).maxRetries\r\n                ].filter(function (x) { return x !== void 0; });\r\n                maxRetries = possibleMaxRetries.slice(-1)[0];\r\n                defaultRetryCondition = function (_, __, _j) {\r\n                    var attempt = _j.attempt;\r\n                    return attempt <= maxRetries;\r\n                };\r\n                options = __spreadValues(__spreadValues({\r\n                    maxRetries: maxRetries,\r\n                    backoff: defaultBackoff,\r\n                    retryCondition: defaultRetryCondition\r\n                }, defaultOptions), extraOptions);\r\n                retry2 = 0;\r\n                _j.label = 1;\r\n            case 1:\r\n                if (!true) return [3 /*break*/, 7];\r\n                _j.label = 2;\r\n            case 2:\r\n                _j.trys.push([2, 4, , 6]);\r\n                return [4 /*yield*/, baseQuery(args, api, extraOptions)];\r\n            case 3:\r\n                result = _j.sent();\r\n                if (result.error) {\r\n                    throw new HandledError(result);\r\n                }\r\n                return [2 /*return*/, result];\r\n            case 4:\r\n                e_3 = _j.sent();\r\n                retry2++;\r\n                if (e_3.throwImmediately) {\r\n                    if (e_3 instanceof HandledError) {\r\n                        return [2 /*return*/, e_3.value];\r\n                    }\r\n                    throw e_3;\r\n                }\r\n                if (e_3 instanceof HandledError && !options.retryCondition(e_3.value.error, args, {\r\n                    attempt: retry2,\r\n                    baseQueryApi: api,\r\n                    extraOptions: extraOptions\r\n                })) {\r\n                    return [2 /*return*/, e_3.value];\r\n                }\r\n                return [4 /*yield*/, options.backoff(retry2, options.maxRetries)];\r\n            case 5:\r\n                _j.sent();\r\n                return [3 /*break*/, 6];\r\n            case 6: return [3 /*break*/, 1];\r\n            case 7: return [2 /*return*/];\r\n        }\r\n    });\r\n}); }; };\r\nvar retry = /* @__PURE__ */ Object.assign(retryWithBackoff, { fail: fail });\r\n// src/query/core/setupListeners.ts\r\nimport { createAction } from \"@reduxjs/toolkit\";\r\nvar onFocus = /* @__PURE__ */ createAction(\"__rtkq/focused\");\r\nvar onFocusLost = /* @__PURE__ */ createAction(\"__rtkq/unfocused\");\r\nvar onOnline = /* @__PURE__ */ createAction(\"__rtkq/online\");\r\nvar onOffline = /* @__PURE__ */ createAction(\"__rtkq/offline\");\r\nvar initialized = false;\r\nfunction setupListeners(dispatch, customHandler) {\r\n    function defaultHandler() {\r\n        var handleFocus = function () { return dispatch(onFocus()); };\r\n        var handleFocusLost = function () { return dispatch(onFocusLost()); };\r\n        var handleOnline = function () { return dispatch(onOnline()); };\r\n        var handleOffline = function () { return dispatch(onOffline()); };\r\n        var handleVisibilityChange = function () {\r\n            if (window.document.visibilityState === \"visible\") {\r\n                handleFocus();\r\n            }\r\n            else {\r\n                handleFocusLost();\r\n            }\r\n        };\r\n        if (!initialized) {\r\n            if (typeof window !== \"undefined\" && window.addEventListener) {\r\n                window.addEventListener(\"visibilitychange\", handleVisibilityChange, false);\r\n                window.addEventListener(\"focus\", handleFocus, false);\r\n                window.addEventListener(\"online\", handleOnline, false);\r\n                window.addEventListener(\"offline\", handleOffline, false);\r\n                initialized = true;\r\n            }\r\n        }\r\n        var unsubscribe = function () {\r\n            window.removeEventListener(\"focus\", handleFocus);\r\n            window.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n            window.removeEventListener(\"online\", handleOnline);\r\n            window.removeEventListener(\"offline\", handleOffline);\r\n            initialized = false;\r\n        };\r\n        return unsubscribe;\r\n    }\r\n    return customHandler ? customHandler(dispatch, { onFocus: onFocus, onFocusLost: onFocusLost, onOffline: onOffline, onOnline: onOnline }) : defaultHandler();\r\n}\r\n// src/query/core/buildSelectors.ts\r\nimport { createNextState as createNextState2, createSelector } from \"@reduxjs/toolkit\";\r\n// src/query/endpointDefinitions.ts\r\nvar DefinitionType;\r\n(function (DefinitionType2) {\r\n    DefinitionType2[\"query\"] = \"query\";\r\n    DefinitionType2[\"mutation\"] = \"mutation\";\r\n})(DefinitionType || (DefinitionType = {}));\r\nfunction isQueryDefinition(e) {\r\n    return e.type === DefinitionType.query;\r\n}\r\nfunction isMutationDefinition(e) {\r\n    return e.type === DefinitionType.mutation;\r\n}\r\nfunction calculateProvidedBy(description, result, error, queryArg, meta, assertTagTypes) {\r\n    if (isFunction(description)) {\r\n        return description(result, error, queryArg, meta).map(expandTagDescription).map(assertTagTypes);\r\n    }\r\n    if (Array.isArray(description)) {\r\n        return description.map(expandTagDescription).map(assertTagTypes);\r\n    }\r\n    return [];\r\n}\r\nfunction isFunction(t) {\r\n    return typeof t === \"function\";\r\n}\r\nfunction expandTagDescription(description) {\r\n    return typeof description === \"string\" ? { type: description } : description;\r\n}\r\n// src/query/core/buildSlice.ts\r\nimport { combineReducers, createAction as createAction2, createSlice, isAnyOf, isFulfilled as isFulfilled2, isRejectedWithValue as isRejectedWithValue2, createNextState, prepareAutoBatched } from \"@reduxjs/toolkit\";\r\n// src/query/utils/isNotNullish.ts\r\nfunction isNotNullish(v) {\r\n    return v != null;\r\n}\r\n// src/query/core/buildInitiate.ts\r\nvar forceQueryFnSymbol = Symbol(\"forceQueryFn\");\r\nvar isUpsertQuery = function (arg) { return typeof arg[forceQueryFnSymbol] === \"function\"; };\r\nfunction buildInitiate(_j) {\r\n    var serializeQueryArgs = _j.serializeQueryArgs, queryThunk = _j.queryThunk, mutationThunk = _j.mutationThunk, api = _j.api, context = _j.context;\r\n    var runningQueries = new Map();\r\n    var runningMutations = new Map();\r\n    var _k = api.internalActions, unsubscribeQueryResult = _k.unsubscribeQueryResult, removeMutationResult = _k.removeMutationResult, updateSubscriptionOptions = _k.updateSubscriptionOptions;\r\n    return {\r\n        buildInitiateQuery: buildInitiateQuery,\r\n        buildInitiateMutation: buildInitiateMutation,\r\n        getRunningQueryThunk: getRunningQueryThunk,\r\n        getRunningMutationThunk: getRunningMutationThunk,\r\n        getRunningQueriesThunk: getRunningQueriesThunk,\r\n        getRunningMutationsThunk: getRunningMutationsThunk,\r\n        getRunningOperationPromises: getRunningOperationPromises,\r\n        removalWarning: removalWarning\r\n    };\r\n    function removalWarning() {\r\n        throw new Error(\"This method had to be removed due to a conceptual bug in RTK.\\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.\");\r\n    }\r\n    function getRunningOperationPromises() {\r\n        if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n            removalWarning();\r\n        }\r\n        else {\r\n            var extract = function (v) { return Array.from(v.values()).flatMap(function (queriesForStore) { return queriesForStore ? Object.values(queriesForStore) : []; }); };\r\n            return __spreadArray(__spreadArray([], extract(runningQueries)), extract(runningMutations)).filter(isNotNullish);\r\n        }\r\n    }\r\n    function getRunningQueryThunk(endpointName, queryArgs) {\r\n        return function (dispatch) {\r\n            var _a;\r\n            var endpointDefinition = context.endpointDefinitions[endpointName];\r\n            var queryCacheKey = serializeQueryArgs({\r\n                queryArgs: queryArgs,\r\n                endpointDefinition: endpointDefinition,\r\n                endpointName: endpointName\r\n            });\r\n            return (_a = runningQueries.get(dispatch)) == null ? void 0 : _a[queryCacheKey];\r\n        };\r\n    }\r\n    function getRunningMutationThunk(_endpointName, fixedCacheKeyOrRequestId) {\r\n        return function (dispatch) {\r\n            var _a;\r\n            return (_a = runningMutations.get(dispatch)) == null ? void 0 : _a[fixedCacheKeyOrRequestId];\r\n        };\r\n    }\r\n    function getRunningQueriesThunk() {\r\n        return function (dispatch) { return Object.values(runningQueries.get(dispatch) || {}).filter(isNotNullish); };\r\n    }\r\n    function getRunningMutationsThunk() {\r\n        return function (dispatch) { return Object.values(runningMutations.get(dispatch) || {}).filter(isNotNullish); };\r\n    }\r\n    function middlewareWarning(dispatch) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (middlewareWarning.triggered)\r\n                return;\r\n            var registered = dispatch(api.internalActions.internal_probeSubscription({\r\n                queryCacheKey: \"DOES_NOT_EXIST\",\r\n                requestId: \"DUMMY_REQUEST_ID\"\r\n            }));\r\n            middlewareWarning.triggered = true;\r\n            if (typeof registered !== \"boolean\") {\r\n                throw new Error(\"Warning: Middleware for RTK-Query API at reducerPath \\\"\" + api.reducerPath + \"\\\" has not been added to the store.\\nYou must add the middleware for RTK-Query to function correctly!\");\r\n            }\r\n        }\r\n    }\r\n    function buildInitiateQuery(endpointName, endpointDefinition) {\r\n        var queryAction = function (arg, _j) {\r\n            var _k = _j === void 0 ? {} : _j, _l = _k.subscribe, subscribe = _l === void 0 ? true : _l, forceRefetch = _k.forceRefetch, subscriptionOptions = _k.subscriptionOptions, _m = forceQueryFnSymbol, forceQueryFn = _k[_m];\r\n            return function (dispatch, getState) {\r\n                var _j;\r\n                var _a;\r\n                var queryCacheKey = serializeQueryArgs({\r\n                    queryArgs: arg,\r\n                    endpointDefinition: endpointDefinition,\r\n                    endpointName: endpointName\r\n                });\r\n                var thunk = queryThunk((_j = {\r\n                        type: \"query\",\r\n                        subscribe: subscribe,\r\n                        forceRefetch: forceRefetch,\r\n                        subscriptionOptions: subscriptionOptions,\r\n                        endpointName: endpointName,\r\n                        originalArgs: arg,\r\n                        queryCacheKey: queryCacheKey\r\n                    },\r\n                    _j[forceQueryFnSymbol] = forceQueryFn,\r\n                    _j));\r\n                var selector = api.endpoints[endpointName].select(arg);\r\n                var thunkResult = dispatch(thunk);\r\n                var stateAfter = selector(getState());\r\n                middlewareWarning(dispatch);\r\n                var requestId = thunkResult.requestId, abort = thunkResult.abort;\r\n                var skippedSynchronously = stateAfter.requestId !== requestId;\r\n                var runningQuery = (_a = runningQueries.get(dispatch)) == null ? void 0 : _a[queryCacheKey];\r\n                var selectFromState = function () { return selector(getState()); };\r\n                var statePromise = Object.assign(forceQueryFn ? thunkResult.then(selectFromState) : skippedSynchronously && !runningQuery ? Promise.resolve(stateAfter) : Promise.all([runningQuery, thunkResult]).then(selectFromState), {\r\n                    arg: arg,\r\n                    requestId: requestId,\r\n                    subscriptionOptions: subscriptionOptions,\r\n                    queryCacheKey: queryCacheKey,\r\n                    abort: abort,\r\n                    unwrap: function () {\r\n                        return __async(this, null, function () {\r\n                            var result;\r\n                            return __generator(this, function (_j) {\r\n                                switch (_j.label) {\r\n                                    case 0: return [4 /*yield*/, statePromise];\r\n                                    case 1:\r\n                                        result = _j.sent();\r\n                                        if (result.isError) {\r\n                                            throw result.error;\r\n                                        }\r\n                                        return [2 /*return*/, result.data];\r\n                                }\r\n                            });\r\n                        });\r\n                    },\r\n                    refetch: function () { return dispatch(queryAction(arg, { subscribe: false, forceRefetch: true })); },\r\n                    unsubscribe: function () {\r\n                        if (subscribe)\r\n                            dispatch(unsubscribeQueryResult({\r\n                                queryCacheKey: queryCacheKey,\r\n                                requestId: requestId\r\n                            }));\r\n                    },\r\n                    updateSubscriptionOptions: function (options) {\r\n                        statePromise.subscriptionOptions = options;\r\n                        dispatch(updateSubscriptionOptions({\r\n                            endpointName: endpointName,\r\n                            requestId: requestId,\r\n                            queryCacheKey: queryCacheKey,\r\n                            options: options\r\n                        }));\r\n                    }\r\n                });\r\n                if (!runningQuery && !skippedSynchronously && !forceQueryFn) {\r\n                    var running_1 = runningQueries.get(dispatch) || {};\r\n                    running_1[queryCacheKey] = statePromise;\r\n                    runningQueries.set(dispatch, running_1);\r\n                    statePromise.then(function () {\r\n                        delete running_1[queryCacheKey];\r\n                        if (!Object.keys(running_1).length) {\r\n                            runningQueries.delete(dispatch);\r\n                        }\r\n                    });\r\n                }\r\n                return statePromise;\r\n            };\r\n        };\r\n        return queryAction;\r\n    }\r\n    function buildInitiateMutation(endpointName) {\r\n        return function (arg, _j) {\r\n            var _k = _j === void 0 ? {} : _j, _l = _k.track, track = _l === void 0 ? true : _l, fixedCacheKey = _k.fixedCacheKey;\r\n            return function (dispatch, getState) {\r\n                var thunk = mutationThunk({\r\n                    type: \"mutation\",\r\n                    endpointName: endpointName,\r\n                    originalArgs: arg,\r\n                    track: track,\r\n                    fixedCacheKey: fixedCacheKey\r\n                });\r\n                var thunkResult = dispatch(thunk);\r\n                middlewareWarning(dispatch);\r\n                var requestId = thunkResult.requestId, abort = thunkResult.abort, unwrap = thunkResult.unwrap;\r\n                var returnValuePromise = thunkResult.unwrap().then(function (data) { return ({ data: data }); }).catch(function (error) { return ({ error: error }); });\r\n                var reset = function () {\r\n                    dispatch(removeMutationResult({ requestId: requestId, fixedCacheKey: fixedCacheKey }));\r\n                };\r\n                var ret = Object.assign(returnValuePromise, {\r\n                    arg: thunkResult.arg,\r\n                    requestId: requestId,\r\n                    abort: abort,\r\n                    unwrap: unwrap,\r\n                    unsubscribe: reset,\r\n                    reset: reset\r\n                });\r\n                var running = runningMutations.get(dispatch) || {};\r\n                runningMutations.set(dispatch, running);\r\n                running[requestId] = ret;\r\n                ret.then(function () {\r\n                    delete running[requestId];\r\n                    if (!Object.keys(running).length) {\r\n                        runningMutations.delete(dispatch);\r\n                    }\r\n                });\r\n                if (fixedCacheKey) {\r\n                    running[fixedCacheKey] = ret;\r\n                    ret.then(function () {\r\n                        if (running[fixedCacheKey] === ret) {\r\n                            delete running[fixedCacheKey];\r\n                            if (!Object.keys(running).length) {\r\n                                runningMutations.delete(dispatch);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                return ret;\r\n            };\r\n        };\r\n    }\r\n}\r\n// src/query/core/buildThunks.ts\r\nimport { isAllOf, isFulfilled, isPending, isRejected, isRejectedWithValue } from \"@reduxjs/toolkit\";\r\nimport { isDraftable, produceWithPatches } from \"immer\";\r\nimport { createAsyncThunk, SHOULD_AUTOBATCH } from \"@reduxjs/toolkit\";\r\nfunction defaultTransformResponse(baseQueryReturnValue) {\r\n    return baseQueryReturnValue;\r\n}\r\nfunction buildThunks(_j) {\r\n    var _this = this;\r\n    var reducerPath = _j.reducerPath, baseQuery = _j.baseQuery, endpointDefinitions = _j.context.endpointDefinitions, serializeQueryArgs = _j.serializeQueryArgs, api = _j.api, assertTagType = _j.assertTagType;\r\n    var patchQueryData = function (endpointName, args, patches, updateProvided) { return function (dispatch, getState) {\r\n        var endpointDefinition = endpointDefinitions[endpointName];\r\n        var queryCacheKey = serializeQueryArgs({\r\n            queryArgs: args,\r\n            endpointDefinition: endpointDefinition,\r\n            endpointName: endpointName\r\n        });\r\n        dispatch(api.internalActions.queryResultPatched({ queryCacheKey: queryCacheKey, patches: patches }));\r\n        if (!updateProvided) {\r\n            return;\r\n        }\r\n        var newValue = api.endpoints[endpointName].select(args)(getState());\r\n        var providedTags = calculateProvidedBy(endpointDefinition.providesTags, newValue.data, void 0, args, {}, assertTagType);\r\n        dispatch(api.internalActions.updateProvidedBy({ queryCacheKey: queryCacheKey, providedTags: providedTags }));\r\n    }; };\r\n    var updateQueryData = function (endpointName, args, updateRecipe, updateProvided) {\r\n        if (updateProvided === void 0) { updateProvided = true; }\r\n        return function (dispatch, getState) {\r\n            var _j, _k;\r\n            var endpointDefinition = api.endpoints[endpointName];\r\n            var currentState = endpointDefinition.select(args)(getState());\r\n            var ret = {\r\n                patches: [],\r\n                inversePatches: [],\r\n                undo: function () { return dispatch(api.util.patchQueryData(endpointName, args, ret.inversePatches, updateProvided)); }\r\n            };\r\n            if (currentState.status === QueryStatus.uninitialized) {\r\n                return ret;\r\n            }\r\n            var newValue;\r\n            if (\"data\" in currentState) {\r\n                if (isDraftable(currentState.data)) {\r\n                    var _l = produceWithPatches(currentState.data, updateRecipe), value = _l[0], patches = _l[1], inversePatches = _l[2];\r\n                    (_j = ret.patches).push.apply(_j, patches);\r\n                    (_k = ret.inversePatches).push.apply(_k, inversePatches);\r\n                    newValue = value;\r\n                }\r\n                else {\r\n                    newValue = updateRecipe(currentState.data);\r\n                    ret.patches.push({ op: \"replace\", path: [], value: newValue });\r\n                    ret.inversePatches.push({\r\n                        op: \"replace\",\r\n                        path: [],\r\n                        value: currentState.data\r\n                    });\r\n                }\r\n            }\r\n            dispatch(api.util.patchQueryData(endpointName, args, ret.patches, updateProvided));\r\n            return ret;\r\n        };\r\n    };\r\n    var upsertQueryData = function (endpointName, args, value) { return function (dispatch) {\r\n        var _j;\r\n        return dispatch(api.endpoints[endpointName].initiate(args, (_j = {\r\n                subscribe: false,\r\n                forceRefetch: true\r\n            },\r\n            _j[forceQueryFnSymbol] = function () { return ({\r\n                data: value\r\n            }); },\r\n            _j)));\r\n    }; };\r\n    var executeEndpoint = function (_0, _1) { return __async(_this, [_0, _1], function (arg, _j) {\r\n        var endpointDefinition, transformResponse, result, baseQueryApi_1, forceQueryFn, what, err, _k, _l, key, _m, error_1, catchedError, transformErrorResponse, _o, e_4;\r\n        var _p, _q;\r\n        var signal = _j.signal, abort = _j.abort, rejectWithValue = _j.rejectWithValue, fulfillWithValue = _j.fulfillWithValue, dispatch = _j.dispatch, getState = _j.getState, extra = _j.extra;\r\n        return __generator(this, function (_r) {\r\n            switch (_r.label) {\r\n                case 0:\r\n                    endpointDefinition = endpointDefinitions[arg.endpointName];\r\n                    _r.label = 1;\r\n                case 1:\r\n                    _r.trys.push([1, 8, , 13]);\r\n                    transformResponse = defaultTransformResponse;\r\n                    result = void 0;\r\n                    baseQueryApi_1 = {\r\n                        signal: signal,\r\n                        abort: abort,\r\n                        dispatch: dispatch,\r\n                        getState: getState,\r\n                        extra: extra,\r\n                        endpoint: arg.endpointName,\r\n                        type: arg.type,\r\n                        forced: arg.type === \"query\" ? isForcedQuery(arg, getState()) : void 0\r\n                    };\r\n                    forceQueryFn = arg.type === \"query\" ? arg[forceQueryFnSymbol] : void 0;\r\n                    if (!forceQueryFn) return [3 /*break*/, 2];\r\n                    result = forceQueryFn();\r\n                    return [3 /*break*/, 6];\r\n                case 2:\r\n                    if (!endpointDefinition.query) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, baseQuery(endpointDefinition.query(arg.originalArgs), baseQueryApi_1, endpointDefinition.extraOptions)];\r\n                case 3:\r\n                    result = _r.sent();\r\n                    if (endpointDefinition.transformResponse) {\r\n                        transformResponse = endpointDefinition.transformResponse;\r\n                    }\r\n                    return [3 /*break*/, 6];\r\n                case 4: return [4 /*yield*/, endpointDefinition.queryFn(arg.originalArgs, baseQueryApi_1, endpointDefinition.extraOptions, function (arg2) { return baseQuery(arg2, baseQueryApi_1, endpointDefinition.extraOptions); })];\r\n                case 5:\r\n                    result = _r.sent();\r\n                    _r.label = 6;\r\n                case 6:\r\n                    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n                        what = endpointDefinition.query ? \"`baseQuery`\" : \"`queryFn`\";\r\n                        err = void 0;\r\n                        if (!result) {\r\n                            err = what + \" did not return anything.\";\r\n                        }\r\n                        else if (typeof result !== \"object\") {\r\n                            err = what + \" did not return an object.\";\r\n                        }\r\n                        else if (result.error && result.data) {\r\n                            err = what + \" returned an object containing both `error` and `result`.\";\r\n                        }\r\n                        else if (result.error === void 0 && result.data === void 0) {\r\n                            err = what + \" returned an object containing neither a valid `error` and `result`. At least one of them should not be `undefined`\";\r\n                        }\r\n                        else {\r\n                            for (_k = 0, _l = Object.keys(result); _k < _l.length; _k++) {\r\n                                key = _l[_k];\r\n                                if (key !== \"error\" && key !== \"data\" && key !== \"meta\") {\r\n                                    err = \"The object returned by \" + what + \" has the unknown property \" + key + \".\";\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (err) {\r\n                            console.error(\"Error encountered handling the endpoint \" + arg.endpointName + \".\\n              \" + err + \"\\n              It needs to return an object with either the shape `{ data: <value> }` or `{ error: <value> }` that may contain an optional `meta` property.\\n              Object returned was:\", result);\r\n                        }\r\n                    }\r\n                    if (result.error)\r\n                        throw new HandledError(result.error, result.meta);\r\n                    _m = fulfillWithValue;\r\n                    return [4 /*yield*/, transformResponse(result.data, result.meta, arg.originalArgs)];\r\n                case 7: return [2 /*return*/, _m.apply(void 0, [_r.sent(), (_p = {\r\n                                fulfilledTimeStamp: Date.now(),\r\n                                baseQueryMeta: result.meta\r\n                            },\r\n                            _p[SHOULD_AUTOBATCH] = true,\r\n                            _p)])];\r\n                case 8:\r\n                    error_1 = _r.sent();\r\n                    catchedError = error_1;\r\n                    if (!(catchedError instanceof HandledError)) return [3 /*break*/, 12];\r\n                    transformErrorResponse = defaultTransformResponse;\r\n                    if (endpointDefinition.query && endpointDefinition.transformErrorResponse) {\r\n                        transformErrorResponse = endpointDefinition.transformErrorResponse;\r\n                    }\r\n                    _r.label = 9;\r\n                case 9:\r\n                    _r.trys.push([9, 11, , 12]);\r\n                    _o = rejectWithValue;\r\n                    return [4 /*yield*/, transformErrorResponse(catchedError.value, catchedError.meta, arg.originalArgs)];\r\n                case 10: return [2 /*return*/, _o.apply(void 0, [_r.sent(), (_q = { baseQueryMeta: catchedError.meta }, _q[SHOULD_AUTOBATCH] = true, _q)])];\r\n                case 11:\r\n                    e_4 = _r.sent();\r\n                    catchedError = e_4;\r\n                    return [3 /*break*/, 12];\r\n                case 12:\r\n                    if (typeof process !== \"undefined\" && process.env.NODE_ENV !== \"production\") {\r\n                        console.error(\"An unhandled error occurred processing a request for the endpoint \\\"\" + arg.endpointName + \"\\\".\\nIn the case of an unhandled error, no tags will be \\\"provided\\\" or \\\"invalidated\\\".\", catchedError);\r\n                    }\r\n                    else {\r\n                        console.error(catchedError);\r\n                    }\r\n                    throw catchedError;\r\n                case 13: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    function isForcedQuery(arg, state) {\r\n        var _a, _b, _c, _d;\r\n        var requestState = (_b = (_a = state[reducerPath]) == null ? void 0 : _a.queries) == null ? void 0 : _b[arg.queryCacheKey];\r\n        var baseFetchOnMountOrArgChange = (_c = state[reducerPath]) == null ? void 0 : _c.config.refetchOnMountOrArgChange;\r\n        var fulfilledVal = requestState == null ? void 0 : requestState.fulfilledTimeStamp;\r\n        var refetchVal = (_d = arg.forceRefetch) != null ? _d : arg.subscribe && baseFetchOnMountOrArgChange;\r\n        if (refetchVal) {\r\n            return refetchVal === true || (Number(new Date()) - Number(fulfilledVal)) / 1e3 >= refetchVal;\r\n        }\r\n        return false;\r\n    }\r\n    var queryThunk = createAsyncThunk(reducerPath + \"/executeQuery\", executeEndpoint, {\r\n        getPendingMeta: function () {\r\n            var _j;\r\n            return _j = { startedTimeStamp: Date.now() }, _j[SHOULD_AUTOBATCH] = true, _j;\r\n        },\r\n        condition: function (queryThunkArgs, _j) {\r\n            var getState = _j.getState;\r\n            var _a, _b, _c;\r\n            var state = getState();\r\n            var requestState = (_b = (_a = state[reducerPath]) == null ? void 0 : _a.queries) == null ? void 0 : _b[queryThunkArgs.queryCacheKey];\r\n            var fulfilledVal = requestState == null ? void 0 : requestState.fulfilledTimeStamp;\r\n            var currentArg = queryThunkArgs.originalArgs;\r\n            var previousArg = requestState == null ? void 0 : requestState.originalArgs;\r\n            var endpointDefinition = endpointDefinitions[queryThunkArgs.endpointName];\r\n            if (isUpsertQuery(queryThunkArgs)) {\r\n                return true;\r\n            }\r\n            if ((requestState == null ? void 0 : requestState.status) === \"pending\") {\r\n                return false;\r\n            }\r\n            if (isForcedQuery(queryThunkArgs, state)) {\r\n                return true;\r\n            }\r\n            if (isQueryDefinition(endpointDefinition) && ((_c = endpointDefinition == null ? void 0 : endpointDefinition.forceRefetch) == null ? void 0 : _c.call(endpointDefinition, {\r\n                currentArg: currentArg,\r\n                previousArg: previousArg,\r\n                endpointState: requestState,\r\n                state: state\r\n            }))) {\r\n                return true;\r\n            }\r\n            if (fulfilledVal) {\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        dispatchConditionRejection: true\r\n    });\r\n    var mutationThunk = createAsyncThunk(reducerPath + \"/executeMutation\", executeEndpoint, {\r\n        getPendingMeta: function () {\r\n            var _j;\r\n            return _j = { startedTimeStamp: Date.now() }, _j[SHOULD_AUTOBATCH] = true, _j;\r\n        }\r\n    });\r\n    var hasTheForce = function (options) { return \"force\" in options; };\r\n    var hasMaxAge = function (options) { return \"ifOlderThan\" in options; };\r\n    var prefetch = function (endpointName, arg, options) { return function (dispatch, getState) {\r\n        var force = hasTheForce(options) && options.force;\r\n        var maxAge = hasMaxAge(options) && options.ifOlderThan;\r\n        var queryAction = function (force2) {\r\n            if (force2 === void 0) { force2 = true; }\r\n            return api.endpoints[endpointName].initiate(arg, { forceRefetch: force2 });\r\n        };\r\n        var latestStateValue = api.endpoints[endpointName].select(arg)(getState());\r\n        if (force) {\r\n            dispatch(queryAction());\r\n        }\r\n        else if (maxAge) {\r\n            var lastFulfilledTs = latestStateValue == null ? void 0 : latestStateValue.fulfilledTimeStamp;\r\n            if (!lastFulfilledTs) {\r\n                dispatch(queryAction());\r\n                return;\r\n            }\r\n            var shouldRetrigger = (Number(new Date()) - Number(new Date(lastFulfilledTs))) / 1e3 >= maxAge;\r\n            if (shouldRetrigger) {\r\n                dispatch(queryAction());\r\n            }\r\n        }\r\n        else {\r\n            dispatch(queryAction(false));\r\n        }\r\n    }; };\r\n    function matchesEndpoint(endpointName) {\r\n        return function (action) {\r\n            var _a, _b;\r\n            return ((_b = (_a = action == null ? void 0 : action.meta) == null ? void 0 : _a.arg) == null ? void 0 : _b.endpointName) === endpointName;\r\n        };\r\n    }\r\n    function buildMatchThunkActions(thunk, endpointName) {\r\n        return {\r\n            matchPending: isAllOf(isPending(thunk), matchesEndpoint(endpointName)),\r\n            matchFulfilled: isAllOf(isFulfilled(thunk), matchesEndpoint(endpointName)),\r\n            matchRejected: isAllOf(isRejected(thunk), matchesEndpoint(endpointName))\r\n        };\r\n    }\r\n    return {\r\n        queryThunk: queryThunk,\r\n        mutationThunk: mutationThunk,\r\n        prefetch: prefetch,\r\n        updateQueryData: updateQueryData,\r\n        upsertQueryData: upsertQueryData,\r\n        patchQueryData: patchQueryData,\r\n        buildMatchThunkActions: buildMatchThunkActions\r\n    };\r\n}\r\nfunction calculateProvidedByThunk(action, type, endpointDefinitions, assertTagType) {\r\n    return calculateProvidedBy(endpointDefinitions[action.meta.arg.endpointName][type], isFulfilled(action) ? action.payload : void 0, isRejectedWithValue(action) ? action.payload : void 0, action.meta.arg.originalArgs, \"baseQueryMeta\" in action.meta ? action.meta.baseQueryMeta : void 0, assertTagType);\r\n}\r\n// src/query/core/buildSlice.ts\r\nimport { isDraft } from \"immer\";\r\nimport { applyPatches, original } from \"immer\";\r\nfunction updateQuerySubstateIfExists(state, queryCacheKey, update) {\r\n    var substate = state[queryCacheKey];\r\n    if (substate) {\r\n        update(substate);\r\n    }\r\n}\r\nfunction getMutationCacheKey(id) {\r\n    var _a;\r\n    return (_a = \"arg\" in id ? id.arg.fixedCacheKey : id.fixedCacheKey) != null ? _a : id.requestId;\r\n}\r\nfunction updateMutationSubstateIfExists(state, id, update) {\r\n    var substate = state[getMutationCacheKey(id)];\r\n    if (substate) {\r\n        update(substate);\r\n    }\r\n}\r\nvar initialState = {};\r\nfunction buildSlice(_j) {\r\n    var reducerPath = _j.reducerPath, queryThunk = _j.queryThunk, mutationThunk = _j.mutationThunk, _k = _j.context, definitions = _k.endpointDefinitions, apiUid = _k.apiUid, extractRehydrationInfo = _k.extractRehydrationInfo, hasRehydrationInfo = _k.hasRehydrationInfo, assertTagType = _j.assertTagType, config = _j.config;\r\n    var resetApiState = createAction2(reducerPath + \"/resetApiState\");\r\n    var querySlice = createSlice({\r\n        name: reducerPath + \"/queries\",\r\n        initialState: initialState,\r\n        reducers: {\r\n            removeQueryResult: {\r\n                reducer: function (draft, _j) {\r\n                    var queryCacheKey = _j.payload.queryCacheKey;\r\n                    delete draft[queryCacheKey];\r\n                },\r\n                prepare: prepareAutoBatched()\r\n            },\r\n            queryResultPatched: {\r\n                reducer: function (draft, _j) {\r\n                    var _k = _j.payload, queryCacheKey = _k.queryCacheKey, patches = _k.patches;\r\n                    updateQuerySubstateIfExists(draft, queryCacheKey, function (substate) {\r\n                        substate.data = applyPatches(substate.data, patches.concat());\r\n                    });\r\n                },\r\n                prepare: prepareAutoBatched()\r\n            }\r\n        },\r\n        extraReducers: function (builder) {\r\n            builder.addCase(queryThunk.pending, function (draft, _j) {\r\n                var meta = _j.meta, arg = _j.meta.arg;\r\n                var _a, _b;\r\n                var upserting = isUpsertQuery(arg);\r\n                if (arg.subscribe || upserting) {\r\n                    (_b = draft[_a = arg.queryCacheKey]) != null ? _b : draft[_a] = {\r\n                        status: QueryStatus.uninitialized,\r\n                        endpointName: arg.endpointName\r\n                    };\r\n                }\r\n                updateQuerySubstateIfExists(draft, arg.queryCacheKey, function (substate) {\r\n                    substate.status = QueryStatus.pending;\r\n                    substate.requestId = upserting && substate.requestId ? substate.requestId : meta.requestId;\r\n                    if (arg.originalArgs !== void 0) {\r\n                        substate.originalArgs = arg.originalArgs;\r\n                    }\r\n                    substate.startedTimeStamp = meta.startedTimeStamp;\r\n                });\r\n            }).addCase(queryThunk.fulfilled, function (draft, _j) {\r\n                var meta = _j.meta, payload = _j.payload;\r\n                updateQuerySubstateIfExists(draft, meta.arg.queryCacheKey, function (substate) {\r\n                    var _a;\r\n                    if (substate.requestId !== meta.requestId && !isUpsertQuery(meta.arg))\r\n                        return;\r\n                    var merge = definitions[meta.arg.endpointName].merge;\r\n                    substate.status = QueryStatus.fulfilled;\r\n                    if (merge) {\r\n                        if (substate.data !== void 0) {\r\n                            var fulfilledTimeStamp_1 = meta.fulfilledTimeStamp, arg_1 = meta.arg, baseQueryMeta_1 = meta.baseQueryMeta, requestId_1 = meta.requestId;\r\n                            var newData = createNextState(substate.data, function (draftSubstateData) {\r\n                                return merge(draftSubstateData, payload, {\r\n                                    arg: arg_1.originalArgs,\r\n                                    baseQueryMeta: baseQueryMeta_1,\r\n                                    fulfilledTimeStamp: fulfilledTimeStamp_1,\r\n                                    requestId: requestId_1\r\n                                });\r\n                            });\r\n                            substate.data = newData;\r\n                        }\r\n                        else {\r\n                            substate.data = payload;\r\n                        }\r\n                    }\r\n                    else {\r\n                        substate.data = ((_a = definitions[meta.arg.endpointName].structuralSharing) != null ? _a : true) ? copyWithStructuralSharing(isDraft(substate.data) ? original(substate.data) : substate.data, payload) : payload;\r\n                    }\r\n                    delete substate.error;\r\n                    substate.fulfilledTimeStamp = meta.fulfilledTimeStamp;\r\n                });\r\n            }).addCase(queryThunk.rejected, function (draft, _j) {\r\n                var _k = _j.meta, condition = _k.condition, arg = _k.arg, requestId = _k.requestId, error = _j.error, payload = _j.payload;\r\n                updateQuerySubstateIfExists(draft, arg.queryCacheKey, function (substate) {\r\n                    if (condition) {\r\n                    }\r\n                    else {\r\n                        if (substate.requestId !== requestId)\r\n                            return;\r\n                        substate.status = QueryStatus.rejected;\r\n                        substate.error = payload != null ? payload : error;\r\n                    }\r\n                });\r\n            }).addMatcher(hasRehydrationInfo, function (draft, action) {\r\n                var queries = extractRehydrationInfo(action).queries;\r\n                for (var _j = 0, _k = Object.entries(queries); _j < _k.length; _j++) {\r\n                    var _l = _k[_j], key = _l[0], entry = _l[1];\r\n                    if ((entry == null ? void 0 : entry.status) === QueryStatus.fulfilled || (entry == null ? void 0 : entry.status) === QueryStatus.rejected) {\r\n                        draft[key] = entry;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    var mutationSlice = createSlice({\r\n        name: reducerPath + \"/mutations\",\r\n        initialState: initialState,\r\n        reducers: {\r\n            removeMutationResult: {\r\n                reducer: function (draft, _j) {\r\n                    var payload = _j.payload;\r\n                    var cacheKey = getMutationCacheKey(payload);\r\n                    if (cacheKey in draft) {\r\n                        delete draft[cacheKey];\r\n                    }\r\n                },\r\n                prepare: prepareAutoBatched()\r\n            }\r\n        },\r\n        extraReducers: function (builder) {\r\n            builder.addCase(mutationThunk.pending, function (draft, _j) {\r\n                var meta = _j.meta, _k = _j.meta, requestId = _k.requestId, arg = _k.arg, startedTimeStamp = _k.startedTimeStamp;\r\n                if (!arg.track)\r\n                    return;\r\n                draft[getMutationCacheKey(meta)] = {\r\n                    requestId: requestId,\r\n                    status: QueryStatus.pending,\r\n                    endpointName: arg.endpointName,\r\n                    startedTimeStamp: startedTimeStamp\r\n                };\r\n            }).addCase(mutationThunk.fulfilled, function (draft, _j) {\r\n                var payload = _j.payload, meta = _j.meta;\r\n                if (!meta.arg.track)\r\n                    return;\r\n                updateMutationSubstateIfExists(draft, meta, function (substate) {\r\n                    if (substate.requestId !== meta.requestId)\r\n                        return;\r\n                    substate.status = QueryStatus.fulfilled;\r\n                    substate.data = payload;\r\n                    substate.fulfilledTimeStamp = meta.fulfilledTimeStamp;\r\n                });\r\n            }).addCase(mutationThunk.rejected, function (draft, _j) {\r\n                var payload = _j.payload, error = _j.error, meta = _j.meta;\r\n                if (!meta.arg.track)\r\n                    return;\r\n                updateMutationSubstateIfExists(draft, meta, function (substate) {\r\n                    if (substate.requestId !== meta.requestId)\r\n                        return;\r\n                    substate.status = QueryStatus.rejected;\r\n                    substate.error = payload != null ? payload : error;\r\n                });\r\n            }).addMatcher(hasRehydrationInfo, function (draft, action) {\r\n                var mutations = extractRehydrationInfo(action).mutations;\r\n                for (var _j = 0, _k = Object.entries(mutations); _j < _k.length; _j++) {\r\n                    var _l = _k[_j], key = _l[0], entry = _l[1];\r\n                    if (((entry == null ? void 0 : entry.status) === QueryStatus.fulfilled || (entry == null ? void 0 : entry.status) === QueryStatus.rejected) && key !== (entry == null ? void 0 : entry.requestId)) {\r\n                        draft[key] = entry;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    var invalidationSlice = createSlice({\r\n        name: reducerPath + \"/invalidation\",\r\n        initialState: initialState,\r\n        reducers: {\r\n            updateProvidedBy: {\r\n                reducer: function (draft, action) {\r\n                    var _a, _b, _c, _d;\r\n                    var _j = action.payload, queryCacheKey = _j.queryCacheKey, providedTags = _j.providedTags;\r\n                    for (var _k = 0, _l = Object.values(draft); _k < _l.length; _k++) {\r\n                        var tagTypeSubscriptions = _l[_k];\r\n                        for (var _m = 0, _o = Object.values(tagTypeSubscriptions); _m < _o.length; _m++) {\r\n                            var idSubscriptions = _o[_m];\r\n                            var foundAt = idSubscriptions.indexOf(queryCacheKey);\r\n                            if (foundAt !== -1) {\r\n                                idSubscriptions.splice(foundAt, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    for (var _p = 0, providedTags_1 = providedTags; _p < providedTags_1.length; _p++) {\r\n                        var _q = providedTags_1[_p], type = _q.type, id = _q.id;\r\n                        var subscribedQueries = (_d = (_b = (_a = draft[type]) != null ? _a : draft[type] = {})[_c = id || \"__internal_without_id\"]) != null ? _d : _b[_c] = [];\r\n                        var alreadySubscribed = subscribedQueries.includes(queryCacheKey);\r\n                        if (!alreadySubscribed) {\r\n                            subscribedQueries.push(queryCacheKey);\r\n                        }\r\n                    }\r\n                },\r\n                prepare: prepareAutoBatched()\r\n            }\r\n        },\r\n        extraReducers: function (builder) {\r\n            builder.addCase(querySlice.actions.removeQueryResult, function (draft, _j) {\r\n                var queryCacheKey = _j.payload.queryCacheKey;\r\n                for (var _k = 0, _l = Object.values(draft); _k < _l.length; _k++) {\r\n                    var tagTypeSubscriptions = _l[_k];\r\n                    for (var _m = 0, _o = Object.values(tagTypeSubscriptions); _m < _o.length; _m++) {\r\n                        var idSubscriptions = _o[_m];\r\n                        var foundAt = idSubscriptions.indexOf(queryCacheKey);\r\n                        if (foundAt !== -1) {\r\n                            idSubscriptions.splice(foundAt, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }).addMatcher(hasRehydrationInfo, function (draft, action) {\r\n                var _a, _b, _c, _d;\r\n                var provided = extractRehydrationInfo(action).provided;\r\n                for (var _j = 0, _k = Object.entries(provided); _j < _k.length; _j++) {\r\n                    var _l = _k[_j], type = _l[0], incomingTags = _l[1];\r\n                    for (var _m = 0, _o = Object.entries(incomingTags); _m < _o.length; _m++) {\r\n                        var _p = _o[_m], id = _p[0], cacheKeys = _p[1];\r\n                        var subscribedQueries = (_d = (_b = (_a = draft[type]) != null ? _a : draft[type] = {})[_c = id || \"__internal_without_id\"]) != null ? _d : _b[_c] = [];\r\n                        for (var _q = 0, cacheKeys_1 = cacheKeys; _q < cacheKeys_1.length; _q++) {\r\n                            var queryCacheKey = cacheKeys_1[_q];\r\n                            var alreadySubscribed = subscribedQueries.includes(queryCacheKey);\r\n                            if (!alreadySubscribed) {\r\n                                subscribedQueries.push(queryCacheKey);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }).addMatcher(isAnyOf(isFulfilled2(queryThunk), isRejectedWithValue2(queryThunk)), function (draft, action) {\r\n                var providedTags = calculateProvidedByThunk(action, \"providesTags\", definitions, assertTagType);\r\n                var queryCacheKey = action.meta.arg.queryCacheKey;\r\n                invalidationSlice.caseReducers.updateProvidedBy(draft, invalidationSlice.actions.updateProvidedBy({\r\n                    queryCacheKey: queryCacheKey,\r\n                    providedTags: providedTags\r\n                }));\r\n            });\r\n        }\r\n    });\r\n    var subscriptionSlice = createSlice({\r\n        name: reducerPath + \"/subscriptions\",\r\n        initialState: initialState,\r\n        reducers: {\r\n            updateSubscriptionOptions: function (d, a) {\r\n            },\r\n            unsubscribeQueryResult: function (d, a) {\r\n            },\r\n            internal_probeSubscription: function (d, a) {\r\n            }\r\n        }\r\n    });\r\n    var internalSubscriptionsSlice = createSlice({\r\n        name: reducerPath + \"/internalSubscriptions\",\r\n        initialState: initialState,\r\n        reducers: {\r\n            subscriptionsUpdated: {\r\n                reducer: function (state, action) {\r\n                    return applyPatches(state, action.payload);\r\n                },\r\n                prepare: prepareAutoBatched()\r\n            }\r\n        }\r\n    });\r\n    var configSlice = createSlice({\r\n        name: reducerPath + \"/config\",\r\n        initialState: __spreadValues({\r\n            online: isOnline(),\r\n            focused: isDocumentVisible(),\r\n            middlewareRegistered: false\r\n        }, config),\r\n        reducers: {\r\n            middlewareRegistered: function (state, _j) {\r\n                var payload = _j.payload;\r\n                state.middlewareRegistered = state.middlewareRegistered === \"conflict\" || apiUid !== payload ? \"conflict\" : true;\r\n            }\r\n        },\r\n        extraReducers: function (builder) {\r\n            builder.addCase(onOnline, function (state) {\r\n                state.online = true;\r\n            }).addCase(onOffline, function (state) {\r\n                state.online = false;\r\n            }).addCase(onFocus, function (state) {\r\n                state.focused = true;\r\n            }).addCase(onFocusLost, function (state) {\r\n                state.focused = false;\r\n            }).addMatcher(hasRehydrationInfo, function (draft) { return __spreadValues({}, draft); });\r\n        }\r\n    });\r\n    var combinedReducer = combineReducers({\r\n        queries: querySlice.reducer,\r\n        mutations: mutationSlice.reducer,\r\n        provided: invalidationSlice.reducer,\r\n        subscriptions: internalSubscriptionsSlice.reducer,\r\n        config: configSlice.reducer\r\n    });\r\n    var reducer = function (state, action) { return combinedReducer(resetApiState.match(action) ? void 0 : state, action); };\r\n    var actions = __spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, configSlice.actions), querySlice.actions), subscriptionSlice.actions), internalSubscriptionsSlice.actions), mutationSlice.actions), invalidationSlice.actions), {\r\n        unsubscribeMutationResult: mutationSlice.actions.removeMutationResult,\r\n        resetApiState: resetApiState\r\n    });\r\n    return { reducer: reducer, actions: actions };\r\n}\r\n// src/query/core/buildSelectors.ts\r\nvar skipToken = /* @__PURE__ */ Symbol.for(\"RTKQ/skipToken\");\r\nvar skipSelector = skipToken;\r\nvar initialSubState = {\r\n    status: QueryStatus.uninitialized\r\n};\r\nvar defaultQuerySubState = /* @__PURE__ */ createNextState2(initialSubState, function () {\r\n});\r\nvar defaultMutationSubState = /* @__PURE__ */ createNextState2(initialSubState, function () {\r\n});\r\nfunction buildSelectors(_j) {\r\n    var serializeQueryArgs = _j.serializeQueryArgs, reducerPath = _j.reducerPath;\r\n    var selectSkippedQuery = function (state) { return defaultQuerySubState; };\r\n    var selectSkippedMutation = function (state) { return defaultMutationSubState; };\r\n    return { buildQuerySelector: buildQuerySelector, buildMutationSelector: buildMutationSelector, selectInvalidatedBy: selectInvalidatedBy };\r\n    function withRequestFlags(substate) {\r\n        return __spreadValues(__spreadValues({}, substate), getRequestStatusFlags(substate.status));\r\n    }\r\n    function selectInternalState(rootState) {\r\n        var state = rootState[reducerPath];\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (!state) {\r\n                if (selectInternalState.triggered)\r\n                    return state;\r\n                selectInternalState.triggered = true;\r\n                console.error(\"Error: No data found at `state.\" + reducerPath + \"`. Did you forget to add the reducer to the store?\");\r\n            }\r\n        }\r\n        return state;\r\n    }\r\n    function buildQuerySelector(endpointName, endpointDefinition) {\r\n        return function (queryArgs) {\r\n            var serializedArgs = serializeQueryArgs({\r\n                queryArgs: queryArgs,\r\n                endpointDefinition: endpointDefinition,\r\n                endpointName: endpointName\r\n            });\r\n            var selectQuerySubstate = function (state) {\r\n                var _a, _b, _c;\r\n                return (_c = (_b = (_a = selectInternalState(state)) == null ? void 0 : _a.queries) == null ? void 0 : _b[serializedArgs]) != null ? _c : defaultQuerySubState;\r\n            };\r\n            var finalSelectQuerySubState = queryArgs === skipToken ? selectSkippedQuery : selectQuerySubstate;\r\n            return createSelector(finalSelectQuerySubState, withRequestFlags);\r\n        };\r\n    }\r\n    function buildMutationSelector() {\r\n        return function (id) {\r\n            var _a;\r\n            var mutationId;\r\n            if (typeof id === \"object\") {\r\n                mutationId = (_a = getMutationCacheKey(id)) != null ? _a : skipToken;\r\n            }\r\n            else {\r\n                mutationId = id;\r\n            }\r\n            var selectMutationSubstate = function (state) {\r\n                var _a2, _b, _c;\r\n                return (_c = (_b = (_a2 = selectInternalState(state)) == null ? void 0 : _a2.mutations) == null ? void 0 : _b[mutationId]) != null ? _c : defaultMutationSubState;\r\n            };\r\n            var finalSelectMutationSubstate = mutationId === skipToken ? selectSkippedMutation : selectMutationSubstate;\r\n            return createSelector(finalSelectMutationSubstate, withRequestFlags);\r\n        };\r\n    }\r\n    function selectInvalidatedBy(state, tags) {\r\n        var _a;\r\n        var apiState = state[reducerPath];\r\n        var toInvalidate = new Set();\r\n        for (var _j = 0, _k = tags.map(expandTagDescription); _j < _k.length; _j++) {\r\n            var tag = _k[_j];\r\n            var provided = apiState.provided[tag.type];\r\n            if (!provided) {\r\n                continue;\r\n            }\r\n            var invalidateSubscriptions = (_a = tag.id !== void 0 ? provided[tag.id] : flatten(Object.values(provided))) != null ? _a : [];\r\n            for (var _l = 0, invalidateSubscriptions_1 = invalidateSubscriptions; _l < invalidateSubscriptions_1.length; _l++) {\r\n                var invalidate = invalidateSubscriptions_1[_l];\r\n                toInvalidate.add(invalidate);\r\n            }\r\n        }\r\n        return flatten(Array.from(toInvalidate.values()).map(function (queryCacheKey) {\r\n            var querySubState = apiState.queries[queryCacheKey];\r\n            return querySubState ? [\r\n                {\r\n                    queryCacheKey: queryCacheKey,\r\n                    endpointName: querySubState.endpointName,\r\n                    originalArgs: querySubState.originalArgs\r\n                }\r\n            ] : [];\r\n        }));\r\n    }\r\n}\r\n// src/query/defaultSerializeQueryArgs.ts\r\nimport { isPlainObject as isPlainObject3 } from \"@reduxjs/toolkit\";\r\nvar cache = WeakMap ? new WeakMap() : void 0;\r\nvar defaultSerializeQueryArgs = function (_j) {\r\n    var endpointName = _j.endpointName, queryArgs = _j.queryArgs;\r\n    var serialized = \"\";\r\n    var cached = cache == null ? void 0 : cache.get(queryArgs);\r\n    if (typeof cached === \"string\") {\r\n        serialized = cached;\r\n    }\r\n    else {\r\n        var stringified = JSON.stringify(queryArgs, function (key, value) { return isPlainObject3(value) ? Object.keys(value).sort().reduce(function (acc, key2) {\r\n            acc[key2] = value[key2];\r\n            return acc;\r\n        }, {}) : value; });\r\n        if (isPlainObject3(queryArgs)) {\r\n            cache == null ? void 0 : cache.set(queryArgs, stringified);\r\n        }\r\n        serialized = stringified;\r\n    }\r\n    return endpointName + \"(\" + serialized + \")\";\r\n};\r\n// src/query/createApi.ts\r\nimport { nanoid } from \"@reduxjs/toolkit\";\r\nimport { defaultMemoize } from \"reselect\";\r\nfunction buildCreateApi() {\r\n    var modules = [];\r\n    for (var _j = 0; _j < arguments.length; _j++) {\r\n        modules[_j] = arguments[_j];\r\n    }\r\n    return function baseCreateApi(options) {\r\n        var extractRehydrationInfo = defaultMemoize(function (action) {\r\n            var _a, _b;\r\n            return (_b = options.extractRehydrationInfo) == null ? void 0 : _b.call(options, action, {\r\n                reducerPath: (_a = options.reducerPath) != null ? _a : \"api\"\r\n            });\r\n        });\r\n        var optionsWithDefaults = __spreadProps(__spreadValues({\r\n            reducerPath: \"api\",\r\n            keepUnusedDataFor: 60,\r\n            refetchOnMountOrArgChange: false,\r\n            refetchOnFocus: false,\r\n            refetchOnReconnect: false\r\n        }, options), {\r\n            extractRehydrationInfo: extractRehydrationInfo,\r\n            serializeQueryArgs: function (queryArgsApi) {\r\n                var finalSerializeQueryArgs = defaultSerializeQueryArgs;\r\n                if (\"serializeQueryArgs\" in queryArgsApi.endpointDefinition) {\r\n                    var endpointSQA_1 = queryArgsApi.endpointDefinition.serializeQueryArgs;\r\n                    finalSerializeQueryArgs = function (queryArgsApi2) {\r\n                        var initialResult = endpointSQA_1(queryArgsApi2);\r\n                        if (typeof initialResult === \"string\") {\r\n                            return initialResult;\r\n                        }\r\n                        else {\r\n                            return defaultSerializeQueryArgs(__spreadProps(__spreadValues({}, queryArgsApi2), {\r\n                                queryArgs: initialResult\r\n                            }));\r\n                        }\r\n                    };\r\n                }\r\n                else if (options.serializeQueryArgs) {\r\n                    finalSerializeQueryArgs = options.serializeQueryArgs;\r\n                }\r\n                return finalSerializeQueryArgs(queryArgsApi);\r\n            },\r\n            tagTypes: __spreadArray([], options.tagTypes || [])\r\n        });\r\n        var context = {\r\n            endpointDefinitions: {},\r\n            batch: function (fn) {\r\n                fn();\r\n            },\r\n            apiUid: nanoid(),\r\n            extractRehydrationInfo: extractRehydrationInfo,\r\n            hasRehydrationInfo: defaultMemoize(function (action) { return extractRehydrationInfo(action) != null; })\r\n        };\r\n        var api = {\r\n            injectEndpoints: injectEndpoints,\r\n            enhanceEndpoints: function (_j) {\r\n                var addTagTypes = _j.addTagTypes, endpoints = _j.endpoints;\r\n                if (addTagTypes) {\r\n                    for (var _k = 0, addTagTypes_1 = addTagTypes; _k < addTagTypes_1.length; _k++) {\r\n                        var eT = addTagTypes_1[_k];\r\n                        if (!optionsWithDefaults.tagTypes.includes(eT)) {\r\n                            ;\r\n                            optionsWithDefaults.tagTypes.push(eT);\r\n                        }\r\n                    }\r\n                }\r\n                if (endpoints) {\r\n                    for (var _l = 0, _m = Object.entries(endpoints); _l < _m.length; _l++) {\r\n                        var _o = _m[_l], endpointName = _o[0], partialDefinition = _o[1];\r\n                        if (typeof partialDefinition === \"function\") {\r\n                            partialDefinition(context.endpointDefinitions[endpointName]);\r\n                        }\r\n                        else {\r\n                            Object.assign(context.endpointDefinitions[endpointName] || {}, partialDefinition);\r\n                        }\r\n                    }\r\n                }\r\n                return api;\r\n            }\r\n        };\r\n        var initializedModules = modules.map(function (m) { return m.init(api, optionsWithDefaults, context); });\r\n        function injectEndpoints(inject) {\r\n            var evaluatedEndpoints = inject.endpoints({\r\n                query: function (x) { return __spreadProps(__spreadValues({}, x), { type: DefinitionType.query }); },\r\n                mutation: function (x) { return __spreadProps(__spreadValues({}, x), { type: DefinitionType.mutation }); }\r\n            });\r\n            for (var _j = 0, _k = Object.entries(evaluatedEndpoints); _j < _k.length; _j++) {\r\n                var _l = _k[_j], endpointName = _l[0], definition = _l[1];\r\n                if (!inject.overrideExisting && endpointName in context.endpointDefinitions) {\r\n                    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n                        console.error(\"called `injectEndpoints` to override already-existing endpointName \" + endpointName + \" without specifying `overrideExisting: true`\");\r\n                    }\r\n                    continue;\r\n                }\r\n                context.endpointDefinitions[endpointName] = definition;\r\n                for (var _m = 0, initializedModules_1 = initializedModules; _m < initializedModules_1.length; _m++) {\r\n                    var m = initializedModules_1[_m];\r\n                    m.injectEndpoint(endpointName, definition);\r\n                }\r\n            }\r\n            return api;\r\n        }\r\n        return api.injectEndpoints({ endpoints: options.endpoints });\r\n    };\r\n}\r\n// src/query/fakeBaseQuery.ts\r\nfunction fakeBaseQuery() {\r\n    return function () {\r\n        throw new Error(\"When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.\");\r\n    };\r\n}\r\n// src/query/core/buildMiddleware/index.ts\r\nimport { createAction as createAction3 } from \"@reduxjs/toolkit\";\r\n// src/query/core/buildMiddleware/cacheCollection.ts\r\nfunction isObjectEmpty(obj) {\r\n    for (var k in obj) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nvar THIRTY_TWO_BIT_MAX_TIMER_SECONDS = 2147483647 / 1e3 - 1;\r\nvar buildCacheCollectionHandler = function (_j) {\r\n    var reducerPath = _j.reducerPath, api = _j.api, context = _j.context, internalState = _j.internalState;\r\n    var _k = api.internalActions, removeQueryResult = _k.removeQueryResult, unsubscribeQueryResult = _k.unsubscribeQueryResult;\r\n    function anySubscriptionsRemainingForKey(queryCacheKey) {\r\n        var subscriptions = internalState.currentSubscriptions[queryCacheKey];\r\n        return !!subscriptions && !isObjectEmpty(subscriptions);\r\n    }\r\n    var currentRemovalTimeouts = {};\r\n    var handler = function (action, mwApi, internalState2) {\r\n        var _a;\r\n        if (unsubscribeQueryResult.match(action)) {\r\n            var state = mwApi.getState()[reducerPath];\r\n            var queryCacheKey = action.payload.queryCacheKey;\r\n            handleUnsubscribe(queryCacheKey, (_a = state.queries[queryCacheKey]) == null ? void 0 : _a.endpointName, mwApi, state.config);\r\n        }\r\n        if (api.util.resetApiState.match(action)) {\r\n            for (var _j = 0, _k = Object.entries(currentRemovalTimeouts); _j < _k.length; _j++) {\r\n                var _l = _k[_j], key = _l[0], timeout = _l[1];\r\n                if (timeout)\r\n                    clearTimeout(timeout);\r\n                delete currentRemovalTimeouts[key];\r\n            }\r\n        }\r\n        if (context.hasRehydrationInfo(action)) {\r\n            var state = mwApi.getState()[reducerPath];\r\n            var queries = context.extractRehydrationInfo(action).queries;\r\n            for (var _m = 0, _o = Object.entries(queries); _m < _o.length; _m++) {\r\n                var _p = _o[_m], queryCacheKey = _p[0], queryState = _p[1];\r\n                handleUnsubscribe(queryCacheKey, queryState == null ? void 0 : queryState.endpointName, mwApi, state.config);\r\n            }\r\n        }\r\n    };\r\n    function handleUnsubscribe(queryCacheKey, endpointName, api2, config) {\r\n        var _a;\r\n        var endpointDefinition = context.endpointDefinitions[endpointName];\r\n        var keepUnusedDataFor = (_a = endpointDefinition == null ? void 0 : endpointDefinition.keepUnusedDataFor) != null ? _a : config.keepUnusedDataFor;\r\n        if (keepUnusedDataFor === Infinity) {\r\n            return;\r\n        }\r\n        var finalKeepUnusedDataFor = Math.max(0, Math.min(keepUnusedDataFor, THIRTY_TWO_BIT_MAX_TIMER_SECONDS));\r\n        if (!anySubscriptionsRemainingForKey(queryCacheKey)) {\r\n            var currentTimeout = currentRemovalTimeouts[queryCacheKey];\r\n            if (currentTimeout) {\r\n                clearTimeout(currentTimeout);\r\n            }\r\n            currentRemovalTimeouts[queryCacheKey] = setTimeout(function () {\r\n                if (!anySubscriptionsRemainingForKey(queryCacheKey)) {\r\n                    api2.dispatch(removeQueryResult({ queryCacheKey: queryCacheKey }));\r\n                }\r\n                delete currentRemovalTimeouts[queryCacheKey];\r\n            }, finalKeepUnusedDataFor * 1e3);\r\n        }\r\n    }\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/invalidationByTags.ts\r\nimport { isAnyOf as isAnyOf2, isFulfilled as isFulfilled3, isRejectedWithValue as isRejectedWithValue3 } from \"@reduxjs/toolkit\";\r\nvar buildInvalidationByTagsHandler = function (_j) {\r\n    var reducerPath = _j.reducerPath, context = _j.context, endpointDefinitions = _j.context.endpointDefinitions, mutationThunk = _j.mutationThunk, api = _j.api, assertTagType = _j.assertTagType, refetchQuery = _j.refetchQuery;\r\n    var removeQueryResult = api.internalActions.removeQueryResult;\r\n    var isThunkActionWithTags = isAnyOf2(isFulfilled3(mutationThunk), isRejectedWithValue3(mutationThunk));\r\n    var handler = function (action, mwApi) {\r\n        if (isThunkActionWithTags(action)) {\r\n            invalidateTags(calculateProvidedByThunk(action, \"invalidatesTags\", endpointDefinitions, assertTagType), mwApi);\r\n        }\r\n        if (api.util.invalidateTags.match(action)) {\r\n            invalidateTags(calculateProvidedBy(action.payload, void 0, void 0, void 0, void 0, assertTagType), mwApi);\r\n        }\r\n    };\r\n    function invalidateTags(tags, mwApi) {\r\n        var rootState = mwApi.getState();\r\n        var state = rootState[reducerPath];\r\n        var toInvalidate = api.util.selectInvalidatedBy(rootState, tags);\r\n        context.batch(function () {\r\n            var _a;\r\n            var valuesArray = Array.from(toInvalidate.values());\r\n            for (var _j = 0, valuesArray_1 = valuesArray; _j < valuesArray_1.length; _j++) {\r\n                var queryCacheKey = valuesArray_1[_j].queryCacheKey;\r\n                var querySubState = state.queries[queryCacheKey];\r\n                var subscriptionSubState = (_a = state.subscriptions[queryCacheKey]) != null ? _a : {};\r\n                if (querySubState) {\r\n                    if (Object.keys(subscriptionSubState).length === 0) {\r\n                        mwApi.dispatch(removeQueryResult({\r\n                            queryCacheKey: queryCacheKey\r\n                        }));\r\n                    }\r\n                    else if (querySubState.status !== QueryStatus.uninitialized) {\r\n                        mwApi.dispatch(refetchQuery(querySubState, queryCacheKey));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/polling.ts\r\nvar buildPollingHandler = function (_j) {\r\n    var reducerPath = _j.reducerPath, queryThunk = _j.queryThunk, api = _j.api, refetchQuery = _j.refetchQuery, internalState = _j.internalState;\r\n    var currentPolls = {};\r\n    var handler = function (action, mwApi) {\r\n        if (api.internalActions.updateSubscriptionOptions.match(action) || api.internalActions.unsubscribeQueryResult.match(action)) {\r\n            updatePollingInterval(action.payload, mwApi);\r\n        }\r\n        if (queryThunk.pending.match(action) || queryThunk.rejected.match(action) && action.meta.condition) {\r\n            updatePollingInterval(action.meta.arg, mwApi);\r\n        }\r\n        if (queryThunk.fulfilled.match(action) || queryThunk.rejected.match(action) && !action.meta.condition) {\r\n            startNextPoll(action.meta.arg, mwApi);\r\n        }\r\n        if (api.util.resetApiState.match(action)) {\r\n            clearPolls();\r\n        }\r\n    };\r\n    function startNextPoll(_j, api2) {\r\n        var queryCacheKey = _j.queryCacheKey;\r\n        var state = api2.getState()[reducerPath];\r\n        var querySubState = state.queries[queryCacheKey];\r\n        var subscriptions = internalState.currentSubscriptions[queryCacheKey];\r\n        if (!querySubState || querySubState.status === QueryStatus.uninitialized)\r\n            return;\r\n        var lowestPollingInterval = findLowestPollingInterval(subscriptions);\r\n        if (!Number.isFinite(lowestPollingInterval))\r\n            return;\r\n        var currentPoll = currentPolls[queryCacheKey];\r\n        if (currentPoll == null ? void 0 : currentPoll.timeout) {\r\n            clearTimeout(currentPoll.timeout);\r\n            currentPoll.timeout = void 0;\r\n        }\r\n        var nextPollTimestamp = Date.now() + lowestPollingInterval;\r\n        var currentInterval = currentPolls[queryCacheKey] = {\r\n            nextPollTimestamp: nextPollTimestamp,\r\n            pollingInterval: lowestPollingInterval,\r\n            timeout: setTimeout(function () {\r\n                currentInterval.timeout = void 0;\r\n                api2.dispatch(refetchQuery(querySubState, queryCacheKey));\r\n            }, lowestPollingInterval)\r\n        };\r\n    }\r\n    function updatePollingInterval(_j, api2) {\r\n        var queryCacheKey = _j.queryCacheKey;\r\n        var state = api2.getState()[reducerPath];\r\n        var querySubState = state.queries[queryCacheKey];\r\n        var subscriptions = internalState.currentSubscriptions[queryCacheKey];\r\n        if (!querySubState || querySubState.status === QueryStatus.uninitialized) {\r\n            return;\r\n        }\r\n        var lowestPollingInterval = findLowestPollingInterval(subscriptions);\r\n        if (!Number.isFinite(lowestPollingInterval)) {\r\n            cleanupPollForKey(queryCacheKey);\r\n            return;\r\n        }\r\n        var currentPoll = currentPolls[queryCacheKey];\r\n        var nextPollTimestamp = Date.now() + lowestPollingInterval;\r\n        if (!currentPoll || nextPollTimestamp < currentPoll.nextPollTimestamp) {\r\n            startNextPoll({ queryCacheKey: queryCacheKey }, api2);\r\n        }\r\n    }\r\n    function cleanupPollForKey(key) {\r\n        var existingPoll = currentPolls[key];\r\n        if (existingPoll == null ? void 0 : existingPoll.timeout) {\r\n            clearTimeout(existingPoll.timeout);\r\n        }\r\n        delete currentPolls[key];\r\n    }\r\n    function clearPolls() {\r\n        for (var _j = 0, _k = Object.keys(currentPolls); _j < _k.length; _j++) {\r\n            var key = _k[_j];\r\n            cleanupPollForKey(key);\r\n        }\r\n    }\r\n    function findLowestPollingInterval(subscribers) {\r\n        if (subscribers === void 0) { subscribers = {}; }\r\n        var lowestPollingInterval = Number.POSITIVE_INFINITY;\r\n        for (var key in subscribers) {\r\n            if (!!subscribers[key].pollingInterval) {\r\n                lowestPollingInterval = Math.min(subscribers[key].pollingInterval, lowestPollingInterval);\r\n            }\r\n        }\r\n        return lowestPollingInterval;\r\n    }\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/windowEventHandling.ts\r\nvar buildWindowEventHandler = function (_j) {\r\n    var reducerPath = _j.reducerPath, context = _j.context, api = _j.api, refetchQuery = _j.refetchQuery, internalState = _j.internalState;\r\n    var removeQueryResult = api.internalActions.removeQueryResult;\r\n    var handler = function (action, mwApi) {\r\n        if (onFocus.match(action)) {\r\n            refetchValidQueries(mwApi, \"refetchOnFocus\");\r\n        }\r\n        if (onOnline.match(action)) {\r\n            refetchValidQueries(mwApi, \"refetchOnReconnect\");\r\n        }\r\n    };\r\n    function refetchValidQueries(api2, type) {\r\n        var state = api2.getState()[reducerPath];\r\n        var queries = state.queries;\r\n        var subscriptions = internalState.currentSubscriptions;\r\n        context.batch(function () {\r\n            for (var _j = 0, _k = Object.keys(subscriptions); _j < _k.length; _j++) {\r\n                var queryCacheKey = _k[_j];\r\n                var querySubState = queries[queryCacheKey];\r\n                var subscriptionSubState = subscriptions[queryCacheKey];\r\n                if (!subscriptionSubState || !querySubState)\r\n                    continue;\r\n                var shouldRefetch = Object.values(subscriptionSubState).some(function (sub) { return sub[type] === true; }) || Object.values(subscriptionSubState).every(function (sub) { return sub[type] === void 0; }) && state.config[type];\r\n                if (shouldRefetch) {\r\n                    if (Object.keys(subscriptionSubState).length === 0) {\r\n                        api2.dispatch(removeQueryResult({\r\n                            queryCacheKey: queryCacheKey\r\n                        }));\r\n                    }\r\n                    else if (querySubState.status !== QueryStatus.uninitialized) {\r\n                        api2.dispatch(refetchQuery(querySubState, queryCacheKey));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/cacheLifecycle.ts\r\nimport { isAsyncThunkAction, isFulfilled as isFulfilled4 } from \"@reduxjs/toolkit\";\r\nvar neverResolvedError = new Error(\"Promise never resolved before cacheEntryRemoved.\");\r\nvar buildCacheLifecycleHandler = function (_j) {\r\n    var api = _j.api, reducerPath = _j.reducerPath, context = _j.context, queryThunk = _j.queryThunk, mutationThunk = _j.mutationThunk, internalState = _j.internalState;\r\n    var isQueryThunk = isAsyncThunkAction(queryThunk);\r\n    var isMutationThunk = isAsyncThunkAction(mutationThunk);\r\n    var isFulfilledThunk = isFulfilled4(queryThunk, mutationThunk);\r\n    var lifecycleMap = {};\r\n    var handler = function (action, mwApi, stateBefore) {\r\n        var cacheKey = getCacheKey(action);\r\n        if (queryThunk.pending.match(action)) {\r\n            var oldState = stateBefore[reducerPath].queries[cacheKey];\r\n            var state = mwApi.getState()[reducerPath].queries[cacheKey];\r\n            if (!oldState && state) {\r\n                handleNewKey(action.meta.arg.endpointName, action.meta.arg.originalArgs, cacheKey, mwApi, action.meta.requestId);\r\n            }\r\n        }\r\n        else if (mutationThunk.pending.match(action)) {\r\n            var state = mwApi.getState()[reducerPath].mutations[cacheKey];\r\n            if (state) {\r\n                handleNewKey(action.meta.arg.endpointName, action.meta.arg.originalArgs, cacheKey, mwApi, action.meta.requestId);\r\n            }\r\n        }\r\n        else if (isFulfilledThunk(action)) {\r\n            var lifecycle = lifecycleMap[cacheKey];\r\n            if (lifecycle == null ? void 0 : lifecycle.valueResolved) {\r\n                lifecycle.valueResolved({\r\n                    data: action.payload,\r\n                    meta: action.meta.baseQueryMeta\r\n                });\r\n                delete lifecycle.valueResolved;\r\n            }\r\n        }\r\n        else if (api.internalActions.removeQueryResult.match(action) || api.internalActions.removeMutationResult.match(action)) {\r\n            var lifecycle = lifecycleMap[cacheKey];\r\n            if (lifecycle) {\r\n                delete lifecycleMap[cacheKey];\r\n                lifecycle.cacheEntryRemoved();\r\n            }\r\n        }\r\n        else if (api.util.resetApiState.match(action)) {\r\n            for (var _j = 0, _k = Object.entries(lifecycleMap); _j < _k.length; _j++) {\r\n                var _l = _k[_j], cacheKey2 = _l[0], lifecycle = _l[1];\r\n                delete lifecycleMap[cacheKey2];\r\n                lifecycle.cacheEntryRemoved();\r\n            }\r\n        }\r\n    };\r\n    function getCacheKey(action) {\r\n        if (isQueryThunk(action))\r\n            return action.meta.arg.queryCacheKey;\r\n        if (isMutationThunk(action))\r\n            return action.meta.requestId;\r\n        if (api.internalActions.removeQueryResult.match(action))\r\n            return action.payload.queryCacheKey;\r\n        if (api.internalActions.removeMutationResult.match(action))\r\n            return getMutationCacheKey(action.payload);\r\n        return \"\";\r\n    }\r\n    function handleNewKey(endpointName, originalArgs, queryCacheKey, mwApi, requestId) {\r\n        var endpointDefinition = context.endpointDefinitions[endpointName];\r\n        var onCacheEntryAdded = endpointDefinition == null ? void 0 : endpointDefinition.onCacheEntryAdded;\r\n        if (!onCacheEntryAdded)\r\n            return;\r\n        var lifecycle = {};\r\n        var cacheEntryRemoved = new Promise(function (resolve) {\r\n            lifecycle.cacheEntryRemoved = resolve;\r\n        });\r\n        var cacheDataLoaded = Promise.race([\r\n            new Promise(function (resolve) {\r\n                lifecycle.valueResolved = resolve;\r\n            }),\r\n            cacheEntryRemoved.then(function () {\r\n                throw neverResolvedError;\r\n            })\r\n        ]);\r\n        cacheDataLoaded.catch(function () {\r\n        });\r\n        lifecycleMap[queryCacheKey] = lifecycle;\r\n        var selector = api.endpoints[endpointName].select(endpointDefinition.type === DefinitionType.query ? originalArgs : queryCacheKey);\r\n        var extra = mwApi.dispatch(function (_, __, extra2) { return extra2; });\r\n        var lifecycleApi = __spreadProps(__spreadValues({}, mwApi), {\r\n            getCacheEntry: function () { return selector(mwApi.getState()); },\r\n            requestId: requestId,\r\n            extra: extra,\r\n            updateCachedData: endpointDefinition.type === DefinitionType.query ? function (updateRecipe) { return mwApi.dispatch(api.util.updateQueryData(endpointName, originalArgs, updateRecipe)); } : void 0,\r\n            cacheDataLoaded: cacheDataLoaded,\r\n            cacheEntryRemoved: cacheEntryRemoved\r\n        });\r\n        var runningHandler = onCacheEntryAdded(originalArgs, lifecycleApi);\r\n        Promise.resolve(runningHandler).catch(function (e) {\r\n            if (e === neverResolvedError)\r\n                return;\r\n            throw e;\r\n        });\r\n    }\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/queryLifecycle.ts\r\nimport { isPending as isPending2, isRejected as isRejected2, isFulfilled as isFulfilled5 } from \"@reduxjs/toolkit\";\r\nvar buildQueryLifecycleHandler = function (_j) {\r\n    var api = _j.api, context = _j.context, queryThunk = _j.queryThunk, mutationThunk = _j.mutationThunk;\r\n    var isPendingThunk = isPending2(queryThunk, mutationThunk);\r\n    var isRejectedThunk = isRejected2(queryThunk, mutationThunk);\r\n    var isFullfilledThunk = isFulfilled5(queryThunk, mutationThunk);\r\n    var lifecycleMap = {};\r\n    var handler = function (action, mwApi) {\r\n        var _a, _b, _c;\r\n        if (isPendingThunk(action)) {\r\n            var _j = action.meta, requestId = _j.requestId, _k = _j.arg, endpointName_1 = _k.endpointName, originalArgs_1 = _k.originalArgs;\r\n            var endpointDefinition = context.endpointDefinitions[endpointName_1];\r\n            var onQueryStarted = endpointDefinition == null ? void 0 : endpointDefinition.onQueryStarted;\r\n            if (onQueryStarted) {\r\n                var lifecycle_1 = {};\r\n                var queryFulfilled = new Promise(function (resolve, reject) {\r\n                    lifecycle_1.resolve = resolve;\r\n                    lifecycle_1.reject = reject;\r\n                });\r\n                queryFulfilled.catch(function () {\r\n                });\r\n                lifecycleMap[requestId] = lifecycle_1;\r\n                var selector_1 = api.endpoints[endpointName_1].select(endpointDefinition.type === DefinitionType.query ? originalArgs_1 : requestId);\r\n                var extra = mwApi.dispatch(function (_, __, extra2) { return extra2; });\r\n                var lifecycleApi = __spreadProps(__spreadValues({}, mwApi), {\r\n                    getCacheEntry: function () { return selector_1(mwApi.getState()); },\r\n                    requestId: requestId,\r\n                    extra: extra,\r\n                    updateCachedData: endpointDefinition.type === DefinitionType.query ? function (updateRecipe) { return mwApi.dispatch(api.util.updateQueryData(endpointName_1, originalArgs_1, updateRecipe)); } : void 0,\r\n                    queryFulfilled: queryFulfilled\r\n                });\r\n                onQueryStarted(originalArgs_1, lifecycleApi);\r\n            }\r\n        }\r\n        else if (isFullfilledThunk(action)) {\r\n            var _l = action.meta, requestId = _l.requestId, baseQueryMeta = _l.baseQueryMeta;\r\n            (_a = lifecycleMap[requestId]) == null ? void 0 : _a.resolve({\r\n                data: action.payload,\r\n                meta: baseQueryMeta\r\n            });\r\n            delete lifecycleMap[requestId];\r\n        }\r\n        else if (isRejectedThunk(action)) {\r\n            var _m = action.meta, requestId = _m.requestId, rejectedWithValue = _m.rejectedWithValue, baseQueryMeta = _m.baseQueryMeta;\r\n            (_c = lifecycleMap[requestId]) == null ? void 0 : _c.reject({\r\n                error: (_b = action.payload) != null ? _b : action.error,\r\n                isUnhandledError: !rejectedWithValue,\r\n                meta: baseQueryMeta\r\n            });\r\n            delete lifecycleMap[requestId];\r\n        }\r\n    };\r\n    return handler;\r\n};\r\n// src/query/core/buildMiddleware/devMiddleware.ts\r\nvar buildDevCheckHandler = function (_j) {\r\n    var api = _j.api, apiUid = _j.context.apiUid, reducerPath = _j.reducerPath;\r\n    return function (action, mwApi) {\r\n        var _a, _b;\r\n        if (api.util.resetApiState.match(action)) {\r\n            mwApi.dispatch(api.internalActions.middlewareRegistered(apiUid));\r\n        }\r\n        if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n            if (api.internalActions.middlewareRegistered.match(action) && action.payload === apiUid && ((_b = (_a = mwApi.getState()[reducerPath]) == null ? void 0 : _a.config) == null ? void 0 : _b.middlewareRegistered) === \"conflict\") {\r\n                console.warn(\"There is a mismatch between slice and middleware for the reducerPath \\\"\" + reducerPath + \"\\\".\\nYou can only have one api per reducer path, this will lead to crashes in various situations!\" + (reducerPath === \"api\" ? \"\\nIf you have multiple apis, you *have* to specify the reducerPath option when using createApi!\" : \"\"));\r\n            }\r\n        }\r\n    };\r\n};\r\n// src/query/core/buildMiddleware/batchActions.ts\r\nimport { produceWithPatches as produceWithPatches2 } from \"immer\";\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar buildBatchedActionsHandler = function (_j) {\r\n    var api = _j.api, queryThunk = _j.queryThunk, internalState = _j.internalState;\r\n    var subscriptionsPrefix = api.reducerPath + \"/subscriptions\";\r\n    var previousSubscriptions = null;\r\n    var dispatchQueued = false;\r\n    var _k = api.internalActions, updateSubscriptionOptions = _k.updateSubscriptionOptions, unsubscribeQueryResult = _k.unsubscribeQueryResult;\r\n    var actuallyMutateSubscriptions = function (mutableState, action) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _i;\r\n        if (updateSubscriptionOptions.match(action)) {\r\n            var _j = action.payload, queryCacheKey = _j.queryCacheKey, requestId = _j.requestId, options = _j.options;\r\n            if ((_a = mutableState == null ? void 0 : mutableState[queryCacheKey]) == null ? void 0 : _a[requestId]) {\r\n                mutableState[queryCacheKey][requestId] = options;\r\n            }\r\n            return true;\r\n        }\r\n        if (unsubscribeQueryResult.match(action)) {\r\n            var _k = action.payload, queryCacheKey = _k.queryCacheKey, requestId = _k.requestId;\r\n            if (mutableState[queryCacheKey]) {\r\n                delete mutableState[queryCacheKey][requestId];\r\n            }\r\n            return true;\r\n        }\r\n        if (api.internalActions.removeQueryResult.match(action)) {\r\n            delete mutableState[action.payload.queryCacheKey];\r\n            return true;\r\n        }\r\n        if (queryThunk.pending.match(action)) {\r\n            var _l = action.meta, arg = _l.arg, requestId = _l.requestId;\r\n            if (arg.subscribe) {\r\n                var substate = (_c = mutableState[_b = arg.queryCacheKey]) != null ? _c : mutableState[_b] = {};\r\n                substate[requestId] = (_e = (_d = arg.subscriptionOptions) != null ? _d : substate[requestId]) != null ? _e : {};\r\n                return true;\r\n            }\r\n        }\r\n        if (queryThunk.rejected.match(action)) {\r\n            var _m = action.meta, condition = _m.condition, arg = _m.arg, requestId = _m.requestId;\r\n            if (condition && arg.subscribe) {\r\n                var substate = (_g = mutableState[_f = arg.queryCacheKey]) != null ? _g : mutableState[_f] = {};\r\n                substate[requestId] = (_i = (_h = arg.subscriptionOptions) != null ? _h : substate[requestId]) != null ? _i : {};\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return function (action, mwApi) {\r\n        var _a, _b;\r\n        if (!previousSubscriptions) {\r\n            previousSubscriptions = JSON.parse(JSON.stringify(internalState.currentSubscriptions));\r\n        }\r\n        if (api.util.resetApiState.match(action)) {\r\n            previousSubscriptions = internalState.currentSubscriptions = {};\r\n            return [true, false];\r\n        }\r\n        if (api.internalActions.internal_probeSubscription.match(action)) {\r\n            var _j = action.payload, queryCacheKey = _j.queryCacheKey, requestId = _j.requestId;\r\n            var hasSubscription = !!((_a = internalState.currentSubscriptions[queryCacheKey]) == null ? void 0 : _a[requestId]);\r\n            return [false, hasSubscription];\r\n        }\r\n        var didMutate = actuallyMutateSubscriptions(internalState.currentSubscriptions, action);\r\n        if (didMutate) {\r\n            if (!dispatchQueued) {\r\n                queueMicrotaskShim(function () {\r\n                    var newSubscriptions = JSON.parse(JSON.stringify(internalState.currentSubscriptions));\r\n                    var _j = produceWithPatches2(previousSubscriptions, function () { return newSubscriptions; }), patches = _j[1];\r\n                    mwApi.next(api.internalActions.subscriptionsUpdated(patches));\r\n                    previousSubscriptions = newSubscriptions;\r\n                    dispatchQueued = false;\r\n                });\r\n                dispatchQueued = true;\r\n            }\r\n            var isSubscriptionSliceAction = !!((_b = action.type) == null ? void 0 : _b.startsWith(subscriptionsPrefix));\r\n            var isAdditionalSubscriptionAction = queryThunk.rejected.match(action) && action.meta.condition && !!action.meta.arg.subscribe;\r\n            var actionShouldContinue = !isSubscriptionSliceAction && !isAdditionalSubscriptionAction;\r\n            return [actionShouldContinue, false];\r\n        }\r\n        return [true, false];\r\n    };\r\n};\r\n// src/query/core/buildMiddleware/index.ts\r\nfunction buildMiddleware(input) {\r\n    var reducerPath = input.reducerPath, queryThunk = input.queryThunk, api = input.api, context = input.context;\r\n    var apiUid = context.apiUid;\r\n    var actions = {\r\n        invalidateTags: createAction3(reducerPath + \"/invalidateTags\")\r\n    };\r\n    var isThisApiSliceAction = function (action) {\r\n        return !!action && typeof action.type === \"string\" && action.type.startsWith(reducerPath + \"/\");\r\n    };\r\n    var handlerBuilders = [\r\n        buildDevCheckHandler,\r\n        buildCacheCollectionHandler,\r\n        buildInvalidationByTagsHandler,\r\n        buildPollingHandler,\r\n        buildCacheLifecycleHandler,\r\n        buildQueryLifecycleHandler\r\n    ];\r\n    var middleware = function (mwApi) {\r\n        var initialized2 = false;\r\n        var internalState = {\r\n            currentSubscriptions: {}\r\n        };\r\n        var builderArgs = __spreadProps(__spreadValues({}, input), {\r\n            internalState: internalState,\r\n            refetchQuery: refetchQuery\r\n        });\r\n        var handlers = handlerBuilders.map(function (build) { return build(builderArgs); });\r\n        var batchedActionsHandler = buildBatchedActionsHandler(builderArgs);\r\n        var windowEventsHandler = buildWindowEventHandler(builderArgs);\r\n        return function (next) {\r\n            return function (action) {\r\n                if (!initialized2) {\r\n                    initialized2 = true;\r\n                    mwApi.dispatch(api.internalActions.middlewareRegistered(apiUid));\r\n                }\r\n                var mwApiWithNext = __spreadProps(__spreadValues({}, mwApi), { next: next });\r\n                var stateBefore = mwApi.getState();\r\n                var _j = batchedActionsHandler(action, mwApiWithNext, stateBefore), actionShouldContinue = _j[0], hasSubscription = _j[1];\r\n                var res;\r\n                if (actionShouldContinue) {\r\n                    res = next(action);\r\n                }\r\n                else {\r\n                    res = hasSubscription;\r\n                }\r\n                if (!!mwApi.getState()[reducerPath]) {\r\n                    windowEventsHandler(action, mwApiWithNext, stateBefore);\r\n                    if (isThisApiSliceAction(action) || context.hasRehydrationInfo(action)) {\r\n                        for (var _k = 0, handlers_1 = handlers; _k < handlers_1.length; _k++) {\r\n                            var handler = handlers_1[_k];\r\n                            handler(action, mwApiWithNext, stateBefore);\r\n                        }\r\n                    }\r\n                }\r\n                return res;\r\n            };\r\n        };\r\n    };\r\n    return { middleware: middleware, actions: actions };\r\n    function refetchQuery(querySubState, queryCacheKey, override) {\r\n        if (override === void 0) { override = {}; }\r\n        return queryThunk(__spreadValues({\r\n            type: \"query\",\r\n            endpointName: querySubState.endpointName,\r\n            originalArgs: querySubState.originalArgs,\r\n            subscribe: false,\r\n            forceRefetch: true,\r\n            queryCacheKey: queryCacheKey\r\n        }, override));\r\n    }\r\n}\r\n// src/query/tsHelpers.ts\r\nfunction assertCast(v) {\r\n}\r\nfunction safeAssign(target) {\r\n    var args = [];\r\n    for (var _j = 1; _j < arguments.length; _j++) {\r\n        args[_j - 1] = arguments[_j];\r\n    }\r\n    Object.assign.apply(Object, __spreadArray([target], args));\r\n}\r\n// src/query/core/module.ts\r\nimport { enablePatches } from \"immer\";\r\nvar coreModuleName = /* @__PURE__ */ Symbol();\r\nvar coreModule = function () { return ({\r\n    name: coreModuleName,\r\n    init: function (api, _j, context) {\r\n        var baseQuery = _j.baseQuery, tagTypes = _j.tagTypes, reducerPath = _j.reducerPath, serializeQueryArgs = _j.serializeQueryArgs, keepUnusedDataFor = _j.keepUnusedDataFor, refetchOnMountOrArgChange = _j.refetchOnMountOrArgChange, refetchOnFocus = _j.refetchOnFocus, refetchOnReconnect = _j.refetchOnReconnect;\r\n        enablePatches();\r\n        assertCast(serializeQueryArgs);\r\n        var assertTagType = function (tag) {\r\n            if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n                if (!tagTypes.includes(tag.type)) {\r\n                    console.error(\"Tag type '\" + tag.type + \"' was used, but not specified in `tagTypes`!\");\r\n                }\r\n            }\r\n            return tag;\r\n        };\r\n        Object.assign(api, {\r\n            reducerPath: reducerPath,\r\n            endpoints: {},\r\n            internalActions: {\r\n                onOnline: onOnline,\r\n                onOffline: onOffline,\r\n                onFocus: onFocus,\r\n                onFocusLost: onFocusLost\r\n            },\r\n            util: {}\r\n        });\r\n        var _k = buildThunks({\r\n            baseQuery: baseQuery,\r\n            reducerPath: reducerPath,\r\n            context: context,\r\n            api: api,\r\n            serializeQueryArgs: serializeQueryArgs,\r\n            assertTagType: assertTagType\r\n        }), queryThunk = _k.queryThunk, mutationThunk = _k.mutationThunk, patchQueryData = _k.patchQueryData, updateQueryData = _k.updateQueryData, upsertQueryData = _k.upsertQueryData, prefetch = _k.prefetch, buildMatchThunkActions = _k.buildMatchThunkActions;\r\n        var _l = buildSlice({\r\n            context: context,\r\n            queryThunk: queryThunk,\r\n            mutationThunk: mutationThunk,\r\n            reducerPath: reducerPath,\r\n            assertTagType: assertTagType,\r\n            config: {\r\n                refetchOnFocus: refetchOnFocus,\r\n                refetchOnReconnect: refetchOnReconnect,\r\n                refetchOnMountOrArgChange: refetchOnMountOrArgChange,\r\n                keepUnusedDataFor: keepUnusedDataFor,\r\n                reducerPath: reducerPath\r\n            }\r\n        }), reducer = _l.reducer, sliceActions = _l.actions;\r\n        safeAssign(api.util, {\r\n            patchQueryData: patchQueryData,\r\n            updateQueryData: updateQueryData,\r\n            upsertQueryData: upsertQueryData,\r\n            prefetch: prefetch,\r\n            resetApiState: sliceActions.resetApiState\r\n        });\r\n        safeAssign(api.internalActions, sliceActions);\r\n        var _m = buildMiddleware({\r\n            reducerPath: reducerPath,\r\n            context: context,\r\n            queryThunk: queryThunk,\r\n            mutationThunk: mutationThunk,\r\n            api: api,\r\n            assertTagType: assertTagType\r\n        }), middleware = _m.middleware, middlewareActions = _m.actions;\r\n        safeAssign(api.util, middlewareActions);\r\n        safeAssign(api, { reducer: reducer, middleware: middleware });\r\n        var _o = buildSelectors({\r\n            serializeQueryArgs: serializeQueryArgs,\r\n            reducerPath: reducerPath\r\n        }), buildQuerySelector = _o.buildQuerySelector, buildMutationSelector = _o.buildMutationSelector, selectInvalidatedBy = _o.selectInvalidatedBy;\r\n        safeAssign(api.util, { selectInvalidatedBy: selectInvalidatedBy });\r\n        var _p = buildInitiate({\r\n            queryThunk: queryThunk,\r\n            mutationThunk: mutationThunk,\r\n            api: api,\r\n            serializeQueryArgs: serializeQueryArgs,\r\n            context: context\r\n        }), buildInitiateQuery = _p.buildInitiateQuery, buildInitiateMutation = _p.buildInitiateMutation, getRunningMutationThunk = _p.getRunningMutationThunk, getRunningMutationsThunk = _p.getRunningMutationsThunk, getRunningQueriesThunk = _p.getRunningQueriesThunk, getRunningQueryThunk = _p.getRunningQueryThunk, getRunningOperationPromises = _p.getRunningOperationPromises, removalWarning = _p.removalWarning;\r\n        safeAssign(api.util, {\r\n            getRunningOperationPromises: getRunningOperationPromises,\r\n            getRunningOperationPromise: removalWarning,\r\n            getRunningMutationThunk: getRunningMutationThunk,\r\n            getRunningMutationsThunk: getRunningMutationsThunk,\r\n            getRunningQueryThunk: getRunningQueryThunk,\r\n            getRunningQueriesThunk: getRunningQueriesThunk\r\n        });\r\n        return {\r\n            name: coreModuleName,\r\n            injectEndpoint: function (endpointName, definition) {\r\n                var _a, _b;\r\n                var anyApi = api;\r\n                (_b = (_a = anyApi.endpoints)[endpointName]) != null ? _b : _a[endpointName] = {};\r\n                if (isQueryDefinition(definition)) {\r\n                    safeAssign(anyApi.endpoints[endpointName], {\r\n                        name: endpointName,\r\n                        select: buildQuerySelector(endpointName, definition),\r\n                        initiate: buildInitiateQuery(endpointName, definition)\r\n                    }, buildMatchThunkActions(queryThunk, endpointName));\r\n                }\r\n                else if (isMutationDefinition(definition)) {\r\n                    safeAssign(anyApi.endpoints[endpointName], {\r\n                        name: endpointName,\r\n                        select: buildMutationSelector(),\r\n                        initiate: buildInitiateMutation(endpointName)\r\n                    }, buildMatchThunkActions(mutationThunk, endpointName));\r\n                }\r\n            }\r\n        };\r\n    }\r\n}); };\r\n// src/query/core/index.ts\r\nvar createApi = /* @__PURE__ */ buildCreateApi(coreModule());\r\nexport { QueryStatus, buildCreateApi, copyWithStructuralSharing, coreModule, coreModuleName, createApi, defaultSerializeQueryArgs, fakeBaseQuery, fetchBaseQuery, retry, setupListeners, skipSelector, skipToken };\r\n//# sourceMappingURL=rtk-query.esm.js.map","import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport apiClient from '../../services/api'; // Import the configured axios instance\nimport { endpoints } from '../../services/api'; // Import endpoints definition\n\n// Define types\nexport interface Document {\n  id: string;\n  name: string;\n  size: number;\n  type: string;\n  status: string;\n  uploadDate: string;\n}\n\ninterface DocumentsState {\n  documents: Document[];\n  selectedDocuments: string[];\n  isLoading: boolean;\n  error: string | null;\n  uploadProgress: number;\n}\n\n// Initial state\nconst initialState: DocumentsState = {\n  documents: [],\n  selectedDocuments: [],\n  isLoading: false,\n  error: null,\n  uploadProgress: 0,\n};\n\n// Async thunks\nexport const fetchDocuments = createAsyncThunk<\n  Document[], // Return type when fulfilled\n  void, // Argument type (none in this case)\n  { rejectValue: string } // Type for rejection payload\n>('documents/fetchDocuments', async (_, { rejectWithValue }) => {\n  try {\n    // Debug message to show exact endpoint\n    console.log('Fetching documents from:', endpoints.documents.getAll);\n    console.log('API client base URL:', apiClient.defaults.baseURL);\n\n    // Use the configured API client instead of hardcoded localhost\n    const response = await apiClient.get<Document[] | { error: string }>(\n      endpoints.documents.getAll\n    );\n\n    // Check if response contains an error\n    if (\n      response.data &&\n      typeof response.data === 'object' &&\n      'error' in response.data\n    ) {\n      throw new Error(\n        response.data.error || 'Documents endpoint not available'\n      );\n    }\n\n    // Ensure response.data is an array\n    if (!Array.isArray(response.data)) {\n      console.warn(\n        'Documents endpoint returned non-array data:',\n        response.data\n      );\n      return []; // Return empty array as fallback\n    }\n\n    return response.data; // Return the fetched documents\n  } catch (error: any) {\n    console.error('Failed to fetch documents:', error);\n    const message =\n      error.response?.data?.message ||\n      error.message ||\n      'Failed to fetch documents';\n    return rejectWithValue(message);\n  }\n});\n\nexport const uploadDocument = createAsyncThunk(\n  'documents/uploadDocument',\n  async (file: File, { rejectWithValue }) => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      // Use the configured API client instead of hardcoded localhost\n      const response = await apiClient.post(\n        endpoints.documents.upload,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n          onUploadProgress: progressEvent => {\n            const percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / (progressEvent.total || 100)\n            );\n            // You could dispatch an action here to update upload progress if needed\n          },\n        }\n      );\n\n      return response.data;\n    } catch (error: any) {\n      console.error('Failed to upload document:', error);\n      const message =\n        error.response?.data?.message ||\n        error.message ||\n        'Failed to upload document';\n      return rejectWithValue(message);\n    }\n  }\n);\n\nexport const deleteDocument = createAsyncThunk(\n  'documents/deleteDocument',\n  async (documentId: string, { rejectWithValue }) => {\n    try {\n      // Use the configured API client instead of hardcoded localhost\n      await apiClient.delete(endpoints.documents.delete(documentId));\n      return documentId;\n    } catch (error: any) {\n      console.error('Failed to delete document:', error);\n      const message =\n        error.response?.data?.message ||\n        error.message ||\n        'Failed to delete document';\n      return rejectWithValue(message);\n    }\n  }\n);\n\n// Create the slice\nconst documentsSlice = createSlice({\n  name: 'documents',\n  initialState,\n  reducers: {\n    setSelectedDocuments: (state, action: PayloadAction<string[]>) => {\n      state.selectedDocuments = action.payload;\n    },\n    toggleDocumentSelection: (state, action: PayloadAction<string>) => {\n      const documentId = action.payload;\n      if (state.selectedDocuments.includes(documentId)) {\n        state.selectedDocuments = state.selectedDocuments.filter(\n          id => id !== documentId\n        );\n      } else {\n        state.selectedDocuments.push(documentId);\n      }\n    },\n    setUploadProgress: (state, action: PayloadAction<number>) => {\n      state.uploadProgress = action.payload;\n    },\n    clearError: state => {\n      state.error = null;\n    },\n    addDocument: (state, action) => {\n      state.documents.push(action.payload);\n    },\n    removeDocument: (state, action) => {\n      state.documents = state.documents.filter(\n        doc => doc.id !== action.payload\n      );\n    },\n    clearDocuments: state => {\n      state.documents = [];\n    },\n  },\n  extraReducers: builder => {\n    builder\n      // Fetch documents\n      .addCase(fetchDocuments.pending, state => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(\n        fetchDocuments.fulfilled,\n        (state, action: PayloadAction<Document[]>) => {\n          state.documents = action.payload;\n          state.isLoading = false;\n        }\n      )\n      .addCase(fetchDocuments.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload ?? 'Failed to fetch documents'; // Use nullish coalescing\n      })\n\n      // Upload document\n      .addCase(uploadDocument.pending, state => {\n        state.isLoading = true;\n        state.error = null;\n        state.uploadProgress = 0;\n      })\n      .addCase(uploadDocument.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.documents.push(action.payload);\n        state.uploadProgress = 100;\n      })\n      .addCase(uploadDocument.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n        state.uploadProgress = 0;\n      })\n\n      // Delete document\n      .addCase(deleteDocument.pending, state => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteDocument.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.documents = state.documents.filter(\n          doc => doc.id !== action.payload\n        );\n        state.selectedDocuments = state.selectedDocuments.filter(\n          id => id !== action.payload\n        );\n      })\n      .addCase(deleteDocument.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\n// Export actions and reducer\nexport const {\n  setSelectedDocuments,\n  toggleDocumentSelection,\n  setUploadProgress,\n  clearError,\n  addDocument,\n  removeDocument,\n  clearDocuments,\n} = documentsSlice.actions;\n\nexport default documentsSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/query';\nimport { combineReducers } from 'redux';\nimport documentsReducer from '../features/documents/documentsSlice';\nimport errorsReducer from '../features/errors/errorsSlice';\n\n// Import reducers as they are created\n// import authReducer from '../features/auth/authSlice';\n// import analysisReducer from '../features/analysis/analysisSlice';\n// import uiReducer from '../features/ui/uiSlice';\n\n// Combine reducers\nconst rootReducer = combineReducers({\n  // auth: authReducer,\n  documents: documentsReducer,\n  errors: errorsReducer,\n  // analysis: analysisReducer,\n  // ui: uiReducer,\n});\n\n// Create and configure the store\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        // Ignore these action types\n        ignoredActions: ['persist/PERSIST'],\n        // Ignore these field paths in all actions\n        ignoredActionPaths: ['meta.arg', 'payload.timestamp'],\n        // Ignore these paths in the state\n        ignoredPaths: [],\n      },\n    }),\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\n// Enable listener behavior for the store\nsetupListeners(store.dispatch);\n\n// Export types\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport App from './App';\nimport './styles/index.css';\nimport { ThemeRegistry } from './theme';\nimport { QueryProvider } from './providers/QueryProvider';\nimport { store } from './store';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <QueryProvider>\n        <ThemeRegistry>\n          <App />\n        </ThemeRegistry>\n      </QueryProvider>\n    </ReduxProvider>\n  </React.StrictMode>\n);\n"],"file":"assets/index-5O4u9A7C.js"}