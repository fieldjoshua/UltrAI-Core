import{c as xe,r as t,i as he,k as ge,j as e,l as T,P as M,D as O,E as fe,e as $,h as be,G as je,H as ve,I as ye,J as Ne}from"./index-DITq14rI.js";import{c as z,R as we,I as Re,a as E,P as Se,A as Pe}from"./AnalysisProgress-AMr3j3-p.js";import{L as Ce}from"./label-BDfW-c9J.js";import"./circle-alert-fC6HeZs5.js";import"./circle-check-big-BfjFq8gX.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Me(n){const o=t.useRef({value:n,previous:n});return t.useMemo(()=>(o.current.value!==n&&(o.current.previous=o.current.value,o.current.value=n),o.current.previous),[n])}var G="Radio",[_e,q]=T(G),[Ie,Ae]=_e(G),V=t.forwardRef((n,o)=>{const{__scopeRadio:r,name:c,checked:a=!1,required:m,disabled:p,value:f="on",onCheck:x,form:j,...d}=n,[b,v]=t.useState(null),u=O(o,N=>v(N)),g=t.useRef(!1),y=b?j||!!b.closest("form"):!0;return e.jsxs(Ie,{scope:r,checked:a,disabled:p,children:[e.jsx(M.button,{type:"button",role:"radio","aria-checked":a,"data-state":J(a),"data-disabled":p?"":void 0,disabled:p,value:f,...d,ref:u,onClick:E(n.onClick,N=>{a||x==null||x(),y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),y&&e.jsx(K,{control:b,bubbles:!g.current,name:c,value:f,checked:a,required:m,disabled:p,form:j,style:{transform:"translateX(-100%)"}})]})});V.displayName=G;var W="RadioIndicator",H=t.forwardRef((n,o)=>{const{__scopeRadio:r,forceMount:c,...a}=n,m=Ae(W,r);return e.jsx(Se,{present:c||m.checked,children:e.jsx(M.span,{"data-state":J(m.checked),"data-disabled":m.disabled?"":void 0,...a,ref:o})})});H.displayName=W;var Ee="RadioBubbleInput",K=t.forwardRef(({__scopeRadio:n,control:o,checked:r,bubbles:c=!0,...a},m)=>{const p=t.useRef(null),f=O(p,m),x=Me(r),j=fe(o);return t.useEffect(()=>{const d=p.current;if(!d)return;const b=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(b,"checked").set;if(x!==r&&u){const g=new Event("click",{bubbles:c});u.call(d,r),d.dispatchEvent(g)}},[x,r,c]),e.jsx(M.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:f,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K.displayName=Ee;function J(n){return n?"checked":"unchecked"}var Oe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[Ge,He]=T(_,[z,q]),X=z(),Y=q(),[Le,Ue]=Ge(_),Q=t.forwardRef((n,o)=>{const{__scopeRadioGroup:r,name:c,defaultValue:a,value:m,required:p=!1,disabled:f=!1,orientation:x,dir:j,loop:d=!0,onValueChange:b,...v}=n,u=X(r),g=he(j),[y,N]=ge({prop:m,defaultProp:a??null,onChange:b,caller:_});return e.jsx(Le,{scope:r,name:c,required:p,disabled:f,value:y,onValueChange:N,children:e.jsx(we,{asChild:!0,...u,orientation:x,dir:g,loop:d,children:e.jsx(M.div,{role:"radiogroup","aria-required":p,"aria-orientation":x,"data-disabled":f?"":void 0,dir:g,...v,ref:o})})})});Q.displayName=_;var Z="RadioGroupItem",ee=t.forwardRef((n,o)=>{const{__scopeRadioGroup:r,disabled:c,...a}=n,m=Ue(Z,r),p=m.disabled||c,f=X(r),x=Y(r),j=t.useRef(null),d=O(o,j),b=m.value===a.value,v=t.useRef(!1);return t.useEffect(()=>{const u=y=>{Oe.includes(y.key)&&(v.current=!0)},g=()=>v.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",g)}},[]),e.jsx(Re,{asChild:!0,...f,focusable:!p,active:b,children:e.jsx(V,{disabled:p,required:m.required,checked:b,...x,...a,name:m.name,ref:d,onCheck:()=>m.onValueChange(a.value),onKeyDown:E(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:E(a.onFocus,()=>{var u;v.current&&((u=j.current)==null||u.click())})})})});ee.displayName=Z;var Fe="RadioGroupIndicator",se=t.forwardRef((n,o)=>{const{__scopeRadioGroup:r,...c}=n,a=Y(r);return e.jsx(H,{...a,...c,ref:o})});se.displayName=Fe;var re=Q,te=ee,De=se;const ae=t.forwardRef(({className:n,...o},r)=>e.jsx(re,{className:$("grid gap-2",n),...o,ref:r}));ae.displayName=re.displayName;const ne=t.forwardRef(({className:n,children:o,...r},c)=>e.jsx(te,{ref:c,className:$("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...r,children:e.jsx(De,{className:"flex items-center justify-center",children:e.jsx(ke,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ne.displayName=te.displayName;const Be=({patterns:n,selectedPattern:o,onPatternChange:r,disabled:c=!1})=>e.jsxs(be,{className:"w-full p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Analysis Pattern"}),e.jsx(ae,{value:o,onValueChange:r,disabled:c,className:"space-y-4",children:n.map(a=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ne,{value:a.id,id:a.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(Ce,{htmlFor:a.id,className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]},a.id))})]}),Te=()=>{const[n,o]=t.useState(""),[r,c]=t.useState([]),[a,m]=t.useState(""),[p,f]=t.useState("comparative"),[x,j]=t.useState("gut"),[d,b]=t.useState(!0),[v,u]=t.useState([]),[g,y]=t.useState([]),[N,L]=t.useState(!1),[ie,U]=t.useState(!1),[l,F]=t.useState(null),[R,D]=t.useState(!1),[C,S]=t.useState(null),[le,w]=t.useState("idle"),[oe,I]=t.useState(0),[ce,P]=t.useState(""),[A,de]=t.useState(!1);t.useEffect(()=>{const s=async()=>{L(!0);try{const h=await je();u(h),h.length>0&&(c([h[0]]),m(h[0]))}catch(h){S("Failed to load available models"),console.error("Model loading error:",h)}finally{L(!1)}},i=async()=>{U(!0);try{const h=await ve();y(h)}catch(h){console.error("Pattern loading error:",h),y([{name:"gut",description:"Gut-based intuitive analysis"},{name:"confidence",description:"Confidence scoring and agreement tracking"},{name:"critique",description:"Structured critique and revision process"},{name:"fact_check",description:"Rigorous fact-checking process"},{name:"perspective",description:"Multi-perspective analysis"},{name:"scenario",description:"Scenario-based analysis"}])}finally{U(!1)}};s(),i()},[]);const B=s=>{r.includes(s)?r.length>1&&s!==a&&c(r.filter(i=>i!==s)):c([...r,s])},me=s=>{m(s),r.includes(s)||c([...r,s])},pe=()=>{const s=[{stage:1,message:"Stage 1: Initial Response - Getting parallel responses from selected models..."},{stage:2,message:"Stage 2: Peer Review & Revision - Models reviewing and refining responses..."},{stage:3,message:"Stage 3: Ultra Synthesis™ - Creating comprehensive final synthesis..."}];let i=0;w("analyzing"),I(1),P(s[0].message);const h=setInterval(()=>{i++,i<s.length?(I(s[i].stage),P(s[i].message)):(clearInterval(h),w("complete"),I(3),P("Ultra Synthesis™ orchestration complete"))},2e3);return h},ue=async s=>{if(s.preventDefault(),!n.trim()){S("Please enter a prompt");return}if(r.length<2){S("Please select at least two models");return}D(!0),S(null),F(null);try{let i;if(d){w("preparing"),P("Preparing Ultra Synthesis™ pipeline...");const h=pe();i=await ye({prompt:n,models:r,pattern:x,ultraModel:a||r[0],outputFormat:"plain"}),clearInterval(h),w("complete")}else w("analyzing"),P("Processing with legacy orchestration..."),i=await Ne({prompt:n,models:r,leadModel:a||r[0],analysisType:p}),w("complete");F(i)}catch(i){S(`Error processing request: ${i.message}`),w("error"),console.error("Processing error:",i)}finally{D(!1)}},k=s=>{const i=s.split("-");return i.length>1?`${i[0].charAt(0).toUpperCase()+i[0].slice(1)} ${i[1].toUpperCase()}`:s};return e.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"UltrAI Orchestrator"}),e.jsx("p",{className:"text-gray-600",children:"Experience the power of Ultra Synthesis™ - multi-model intelligence multiplication"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Orchestration Mode"}),e.jsx("p",{className:"text-sm text-blue-700",children:d?"Ultra Synthesis™ - 3-Stage intelligence multiplication pipeline":"Legacy Mode - Basic multi-model comparison"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:s=>b(s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Use Ultra Synthesis™ Orchestration"})]})]})}),C&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:e.jsx("p",{className:"text-red-700",children:C})}),R&&d&&e.jsx("div",{className:"mb-6",children:e.jsx(Pe,{status:le,currentStep:oe,totalSteps:4,statusMessage:ce,error:C?new Error(C):void 0})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:ue,className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Analysis Prompt"}),e.jsx("textarea",{id:"prompt",value:n,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Enter your prompt for sophisticated multi-LLM analysis..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["Select AI Models (",r.length," selected)"]}),N?e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 p-4 border rounded-md",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Loading available models..."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map(s=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${r.includes(s)?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300"}`,onClick:()=>B(s),children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:`model-${s}`,checked:r.includes(s),onChange:()=>B(s),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`model-${s}`,className:"font-medium text-sm cursor-pointer",children:k(s)}),r.includes(s)&&e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center text-xs text-gray-600",children:[e.jsx("input",{type:"radio",id:`lead-${s}`,name:"leadModel",checked:a===s,onChange:()=>me(s),className:"mr-1"}),"Ultra synthesis model"]})})]})]})})},s))})]}),!d&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Legacy Analysis Type"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"analysisType",value:"comparative",checked:p==="comparative",onChange:()=>f("comparative"),className:"mr-2"}),e.jsx("span",{children:"Comparative Analysis"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"analysisType",value:"factual",checked:p==="factual",onChange:()=>f("factual"),className:"mr-2"}),e.jsx("span",{children:"Factual Analysis"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:R,className:`px-6 py-3 rounded-lg font-medium transition-all ${R?"bg-gray-300 text-gray-500 cursor-not-allowed":d?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg":"bg-blue-600 text-white hover:bg-blue-700"}`,children:R?d?"Running Ultra Synthesis™...":"Processing...":d?"Start Ultra Synthesis™":"Generate Response"})})]})}),e.jsx("div",{className:"lg:col-span-1",children:d&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Analysis Pattern"}),ie?e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 p-4",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Loading patterns..."})]}):e.jsx(Be,{patterns:g.map(s=>({id:s.name,name:s.name,description:s.description})),selectedPattern:x,onPatternChange:j,disabled:R}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"Patent-Protected:"})," Ultra Synthesis™ represents sophisticated intellectual property with 3-stage intelligence multiplication."]})})]})})]}),l&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Analysis Results"}),l.processing_time&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Processing time: ",l.processing_time.toFixed(2),"s"]})]}),d&&l.status==="success"&&e.jsxs("div",{className:"space-y-6",children:[l.ultra_response&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Ultra Synthesis™"}),e.jsx("div",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"Intelligence Multiplication Complete"})]}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-8 rounded-xl border-2 border-gradient-to-r from-purple-200 to-blue-200 shadow-lg",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{"data-testid":"ultra-synthesis",className:"text-lg leading-relaxed text-gray-800 whitespace-pre-wrap font-medium",children:l.ultra_response})})}),e.jsx("div",{className:"mt-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium",children:"Pattern:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:l.pattern_used||x})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium",children:"Models Used:"}),e.jsx("span",{className:"text-gray-700",children:l.models_used?l.models_used.join(", "):r.join(", ")})]})]})})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("button",{onClick:()=>de(!A),className:"flex items-center justify-between w-full text-left text-lg font-semibold text-gray-700 hover:text-gray-900 transition-colors",children:[e.jsx("span",{children:"Detailed Analysis Breakdown"}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${A?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&e.jsxs("div",{className:"mt-6 space-y-6",children:[l.initial_responses&&Object.keys(l.initial_responses).length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm mr-2",children:"1"}),"Initial Analysis Responses"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(l.initial_responses).map(([s,i])=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[k(s),a&&a.includes(s)&&e.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:"Ultra Model"})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap text-gray-700",children:i})]},s))})]}),l.meta_responses&&Object.keys(l.meta_responses).length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm mr-2",children:"2"}),"Meta Analysis"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(l.meta_responses).map(([s,i])=>e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium mb-2",children:k(s)}),e.jsx("p",{className:"text-sm whitespace-pre-wrap text-gray-700",children:i})]},s))})]}),l.peer_review_responses&&Object.keys(l.peer_review_responses).length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm mr-2",children:"2"}),"Peer Review & Revision"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(l.peer_review_responses).map(([s,i])=>e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[k(s),e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Peer-Reviewed"})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap text-gray-700",children:i})]},s))})]})]})]})]}),!d&&e.jsxs("div",{className:"space-y-6",children:[l.initial_responses&&l.initial_responses.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Model Responses"}),e.jsx("div",{className:"space-y-4",children:l.initial_responses.map((s,i)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[e.jsxs("h4",{className:"font-medium mb-2",children:[s.model," (",s.provider,")",a===s.model&&e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Primary"})]}),e.jsx("p",{className:"whitespace-pre-wrap text-sm",children:s.response})]},i))})]}),l.synthesis&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Synthesized Response"}),e.jsxs("div",{className:"bg-green-50 p-4 rounded border border-green-200",children:[e.jsxs("h4",{className:"font-medium mb-2",children:["Synthesized by ",l.synthesis.model," (",l.synthesis.provider,")"]}),e.jsx("p",{className:"whitespace-pre-wrap",children:l.synthesis.response})]})]})]}),l.status==="error"&&e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),e.jsx("p",{className:"text-red-700",children:l.error||"An unknown error occurred"})]})]})]})},Ke=()=>e.jsxs("div",{className:"container mx-auto py-6 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"UltrAI Orchestrator"}),e.jsx(Te,{})]});export{Ke as default};
