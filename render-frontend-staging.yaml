# Render configuration for STAGING Frontend
# Service: staging-ultrai.onrender.com

services:
  - type: web
    name: ultrai-staging
    runtime: static
    plan: free
    buildCommand: |
      cd frontend
      npm ci
      npm run build
    staticPublishPath: ./frontend/dist
    
    # Auto-deploy from main branch
    branch: main
    autoDeploy: true
    
    # Routes configuration for SPA
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
    
    # Environment variables for build
    envVars:
      - key: VITE_APP_MODE
        value: staging
      - key: VITE_API_MODE
        value: live
      - key: VITE_API_URL
        value: https://ultrai-staging-api.onrender.com
      - key: VITE_DEFAULT_SKIN
        value: night