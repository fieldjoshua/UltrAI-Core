# Report Artifacts Documentation

This document catalogs the test reports, logs, and artifacts generated by the test suite execution scripts.

## Test Execution Scripts

### `scripts/run_all_with_cursor_tracking.sh`
**Purpose**: Comprehensive test suite runner with report generation and Cursor integration
**Output Location**: `reports/<timestamp>/` (e.g., `reports/20250101120000/`)

#### Generated Artifacts

##### HTML Test Reports
- **`report_offline.html`**: Offline test results (mocked external services)
- **`report_live.html`**: Live test results (real API calls, requires credentials)
- **`report_demo.html`**: Demo environment test results (staging/production APIs)

##### Log Files
- **`offline.log`**: Console output from offline test run
- **`live.log`**: Console output from live test run
- **`demo.log`**: Console output from demo test run

##### JUnit XML Reports
- **`offline.junit.xml`**: Structured test results for offline tests
- **`live.junit.xml`**: Structured test results for live tests
- **`demo.junit.xml`**: Structured test results for demo tests

##### Cursor Integration Files
- **`.cursor/test-latest.json`**: Latest test execution summary
- **`.cursor/test-categories.json`**: Detailed test categorization and results
- **`.cursor/junit/`**: Stable JUnit XML files for IDE integration
  - `offline.xml`, `live.xml`, `demo.xml`

#### Command Usage
```bash
# Run all test modes with reports
./scripts/run_all_with_cursor_tracking.sh

# Override demo base URL
DEMO_BASE_URL=https://custom-api.example.com ./scripts/run_all_with_cursor_tracking.sh

# View generated summary
cat .cursor/test-latest.json
```

### `scripts/run_test_suite.sh`
**Purpose**: Flexible test suite runner with coverage reporting
**Output Location**: `test_reports/` (configurable via `--report-dir`)

#### Generated Artifacts

##### Coverage Reports
- **`coverage.xml`**: Combined coverage report in XML format
- **`coverage-$category.xml`**: Individual coverage files per test category
- **`html/index.html`**: HTML coverage report (when `--html` flag used)

##### JSON Test Results
- **`json/$category-results.json`**: Detailed test results per category
- **`test-progress.json`**: Test execution tracking and progress

##### Coverage Data
- **Combined coverage**: Merged from all test categories
- **HTML visualization**: Interactive coverage report (optional)

#### Command Usage
```bash
# Run all tests with coverage
./scripts/run_test_suite.sh

# Run with HTML coverage report
./scripts/run_test_suite.sh --html

# Run specific category only
./scripts/run_test_suite.sh --category unit

# Run in parallel with fail-fast
./scripts/run_test_suite.sh --parallel --fail-fast

# Custom report directory
./scripts/run_test_suite.sh --report-dir custom_reports
```

## Artifact Structure

### Test Report HTML Files
**Format**: Pytest-HTML generated reports
**Content**:
- Test execution summary and statistics
- Individual test results with pass/fail status
- Detailed error messages and stack traces
- Test timing and performance metrics
- Environment information

**Access**:
```bash
# Open in browser
open reports/20250101120000/report_offline.html
open reports/20250101120000/report_live.html
open reports/20250101120000/report_demo.html
```

### JUnit XML Files
**Format**: Standard JUnit XML schema
**Content**:
- Test suite structure and hierarchy
- Individual test case results
- Timing information
- Failure details and messages

**IDE Integration**:
- **VS Code**: `.cursor/junit/` files for Test Explorer
- **IntelliJ/PyCharm**: Direct import of XML files
- **CI/CD**: Standard format for test reporting

### Coverage Reports
**Format**: Coverage.py XML and HTML formats
**Content**:
- Line coverage statistics per file
- Branch coverage information
- Missing line identification
- Coverage trends and history

**HTML Report Features**:
- Interactive file browser
- Coverage heatmaps
- Drill-down capabilities
- Missing line highlighting

## Artifact Locations Summary

| Artifact Type | Location | Generated By | Purpose |
|---------------|----------|--------------|---------|
| HTML Test Reports | `reports/<timestamp>/` | `run_all_with_cursor_tracking.sh` | Visual test results |
| JUnit XML | `reports/<timestamp>/` + `.cursor/junit/` | `run_all_with_cursor_tracking.sh` | IDE integration |
| Coverage XML | `test_reports/` | `run_test_suite.sh` | Coverage analysis |
| Coverage HTML | `test_reports/html/` | `run_test_suite.sh` | Interactive coverage |
| Test Logs | `reports/<timestamp>/` | `run_all_with_cursor_tracking.sh` | Debug information |
| Progress Tracking | `test_reports/test-progress.json` | `run_test_suite.sh` | Execution monitoring |

## Accessing Reports

### Web Browser
```bash
# Latest reports
open reports/$(ls -t reports/ | head -1)/report_offline.html

# Specific timestamp
open reports/20250101120000/report_live.html
```

### Command Line Inspection
```bash
# View test summary
cat .cursor/test-latest.json

# Parse JUnit for failures
python scripts/parse_junit_to_cursor.py --offline reports/20250101120000/offline.junit.xml

# Check coverage summary
coverage report --show-missing
```

### IDE Integration
- **VS Code**: Install "JUnit Test Explorer" extension
- **IntelliJ**: Import JUnit XML files as test results
- **Cursor**: Automatic integration via `.cursor/` files

## Cleanup and Maintenance

### Automatic Cleanup
- Reports accumulate in `reports/<timestamp>/` directories
- Old reports can be manually removed after review
- `.cursor/` files are overwritten on each run

### Manual Cleanup
```bash
# Remove old reports (older than 30 days)
find reports/ -type d -mtime +30 -exec rm -rf {} +

# Clean test artifacts
rm -rf test_reports/ .coverage* .cursor/junit/*
```

## Troubleshooting

### Missing Reports
- Check script execution permissions: `chmod +x scripts/*.sh`
- Verify pytest-html plugin installation
- Ensure write permissions in target directories

### Coverage Issues
- Install coverage.py: `pip install coverage`
- Check Python path configuration
- Verify test discovery patterns

### JUnit Integration Problems
- Validate XML format with external tools
- Check for special characters in test names
- Ensure proper test hierarchy structure

## Integration with CI/CD

These artifacts are designed for integration with:
- **GitHub Actions**: Upload HTML reports as artifacts
- **Jenkins**: Parse JUnit XML for test reporting
- **GitLab CI**: Coverage badge generation
- **IDE Extensions**: Real-time test feedback