# Render configuration for DEMO Frontend
# Service: demo-ultrai.onrender.com
# Uses production branch but with mock API mode

services:
  - type: web
    name: ultrai-demo
    runtime: static
    plan: free
    buildCommand: |
      cd frontend
      npm ci
      npm run build:demo
    staticPublishPath: ./frontend/dist
    
    # Deploy from production branch (same as prod but different env)
    branch: production
    autoDeploy: false  # Manual control like production
    
    # Routes configuration for SPA
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
    
    # Environment variables for build
    envVars:
      - key: VITE_APP_MODE
        value: production  # Use production UI
      - key: VITE_API_MODE
        value: mock  # But with mock API
      - key: VITE_DEFAULT_SKIN
        value: night
      - key: VITE_DEMO_MODE
        value: "true"  # Additional flag for demo-specific features
      - key: VITE_RAG_ENABLED
        value: "false"